var recurlyHostedField =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/build/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/index */ "./lib/index.js");

/* harmony default export */ __webpack_exports__["default"] = (Object(_lib_index__WEBPACK_IMPORTED_MODULE_0__["default"])());

/***/ }),

/***/ "./lib/bus.js":
/*!********************!*\
  !*** ./lib/bus.js ***!
  \********************/
/*! exports provided: PermissiveBus, SenderBus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PermissiveBus", function() { return PermissiveBus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SenderBus", function() { return SenderBus; });
/* harmony import */ var recurly_js_lib_recurly_bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! recurly.js/lib/recurly/bus */ "./node_modules/recurly.js/lib/recurly/bus.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


/**
 * Bus variant which allows messages from any origin
 */

var PermissiveBus =
/*#__PURE__*/
function (_Bus) {
  _inherits(PermissiveBus, _Bus);

  function PermissiveBus() {
    _classCallCheck(this, PermissiveBus);

    return _possibleConstructorReturn(this, _getPrototypeOf(PermissiveBus).apply(this, arguments));
  }

  _createClass(PermissiveBus, [{
    key: "originMatches",
    value: function originMatches() {
      return true;
    }
  }]);

  return PermissiveBus;
}(recurly_js_lib_recurly_bus__WEBPACK_IMPORTED_MODULE_0__["Bus"]);
/**
 * Bus variant which is concerned only with sending messages
 */

var SenderBus =
/*#__PURE__*/
function (_Bus2) {
  _inherits(SenderBus, _Bus2);

  function SenderBus() {
    _classCallCheck(this, SenderBus);

    return _possibleConstructorReturn(this, _getPrototypeOf(SenderBus).apply(this, arguments));
  }

  _createClass(SenderBus, [{
    key: "connect",
    value: function connect() {}
  }]);

  return SenderBus;
}(recurly_js_lib_recurly_bus__WEBPACK_IMPORTED_MODULE_0__["Bus"]);

/***/ }),

/***/ "./lib/config.js":
/*!***********************!*\
  !*** ./lib/config.js ***!
  \***********************/
/*! exports provided: Config */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Config", function() { return Config; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! recurly.js/lib/util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var DEFAULTS = {
  elementId: null,
  format: true,
  displayIcon: true,
  inputType: 'text',
  // 'mobileSelect', 'select'
  style: {
    fontColor: 'black',
    fontFamily: 'Helvetica',
    fontFeatureSettings: 'normal',
    fontKerning: 'auto',
    fontSize: 'inherit',
    fontSmoothing: 'auto',
    fontStretch: 'normal',
    fontStyle: 'normal',
    fontVariant: 'normal',
    fontWeight: 'normal',
    letterSpacing: 'normal',
    lineHeight: 'normal',
    padding: '',
    placeholder: {
      content: ''
    },
    textAlign: '',
    textDecoration: '',
    textRendering: 'auto',
    textShadow: 'none',
    textTransform: 'none',
    invalid: {}
  }
};
var Config =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Config, _Emitter);

  function Config() {
    var _this;

    _classCallCheck(this, Config);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Config).call(this));
    _this.defaults = DEFAULTS;
    _this.touched = {};

    _this.set(Config.initialConfig);

    if (_this.config.elementId) {
      _this.on("element:".concat(_this.config.elementId, ":configure!"), function () {
        var _this2;

        return (_this2 = _this).onConfigure.apply(_this2, arguments);
      });
    } else {
      _this.on('hostedField:configure', function () {
        var _this3;

        return (_this3 = _this).onConfigure.apply(_this3, arguments);
      });
    }

    return _this;
  }

  _createClass(Config, [{
    key: "onConfigure",
    value: function onConfigure(body) {
      if (body.type !== this.config.type) return;
      this.set(body);
    }
  }, {
    key: "set",
    value: function set(options) {
      var configToSet = removeBlankKeys(options);
      var oldConfig = this.config;
      var newConfig = Object(recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.config || DEFAULTS, configToSet);

      if (JSON.stringify(oldConfig) !== JSON.stringify(newConfig)) {
        this.config = newConfig; // track which config values have been touched

        Object(recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.touched, objectValuesToTrue(configToSet));
        this.emit('change', this.config);
      }
    }
  }], [{
    key: "location",
    get: function get() {
      return window.location;
    }
    /**
     * Gets initial configuration from the url. Default is from the hash,
     * and fallback is the querystring (deprecated behavior)
     */

  }, {
    key: "initialConfig",
    get: function get() {
      var location = this.location;
      return parseMarshalledConfig(location.hash) || parseMarshalledConfig(location.search);
    }
  }]);

  return Config;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);
/**
 * Parses config out of a marshalled json string
 *
 * @param  {String} marshalledConfig
 * @return {Boolean} False if no marshalled content present
 * @return {Object} config object if marshalled content present
 */

function parseMarshalledConfig(marshalledConfig) {
  var offset = marshalledConfig.indexOf('config=');
  if (!~offset) return false;
  return JSON.parse(decodeURIComponent(marshalledConfig.substring(offset + 7)) || {});
}

function removeBlankKeys(obj) {
  obj = _extends({}, obj);
  Object.keys(obj).forEach(function (key) {
    return ~[undefined, null].indexOf(obj[key]) && delete obj[key];
  });
  return obj;
}
/**
 * Returns a cloned object whose non-object keys have been replaced with `true`
 *
 * @param  {Object} obj
 * @return {Object}
 */


function objectValuesToTrue(obj) {
  obj = _extends({}, obj);
  Object.keys(obj).forEach(function (key) {
    if (_typeof(obj[key]) === 'object') obj[key] = objectValuesToTrue(obj[key]);else obj[key] = true;
  });
  return obj;
}

/***/ }),

/***/ "./lib/field/card.css":
/*!****************************!*\
  !*** ./lib/field/card.css ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".recurly-hosted-field-container {\n  display: flex;\n  justify-content: flex-start;\n  align-items: stretch;\n  height: 100%;\n  width: 100%;\n}\n\n.recurly-hosted-field-icon-container {\n  flex: 2;\n  order: 1;\n  align-self: center;\n  max-width: 50px;\n  position: relative;\n  transition: flex 150ms, padding 150ms;\n  perspective: 1000px;\n  height: 100%;\n  padding: 5px 0 5px 5px;\n  box-sizing: border-box;\n}\n\n.recurly-hosted-field-icon,\n.recurly-hosted-field-icon-front,\n.recurly-hosted-field-icon-back {\n  height: 100%;\n  transition: transform 600ms cubic-bezier(.07, .87, .11, .92),\n      -webkit-transform 600ms cubic-bezier(.07, .87, .11, .92),\n          -ms-transform 600ms cubic-bezier(.07, .87, .11, .92);\n  transform-style: preserve-3d;\n  -webkit-transform-style: preserve-3d;\n}\n\n.recurly-hosted-field-icon svg {\n  height: 100%;\n  width: 100%;\n}\n\n.recurly-hosted-field-icon-replace {\n  animation: iconReplace 200ms;\n}\n\n.recurly-hosted-field-icon-reversed .recurly-hosted-field-icon-front {\n  transform: rotateY(180deg);\n}\n\n.recurly-hosted-field-icon-reversed .recurly-hosted-field-icon-back {\n  transform: rotateY(0);\n}\n\n.recurly-hosted-field-icon-front,\n.recurly-hosted-field-icon-back {\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.recurly-hosted-field-icon-back {\n  transform: rotateY(180deg);\n}\n\n.recurly-hosted-field-input-number {\n  flex: 5;\n  order: 2;\n  text-overflow: ellipsis;\n  padding: 1px 1px 1px 12px;\n}\n\n.recurly-hosted-field-container > .recurly-hosted-field-input-expiry,\n.recurly-hosted-field-container > .recurly-hosted-field-container-expiry {\n  flex: 1;\n  order: 3;\n}\n\n.recurly-hosted-field-input-expiry {\n  min-width: 7.5ch;\n  transition: min-width 150ms;\n  text-overflow: clip;\n}\n\n.recurly-hosted-field-input-expiry-long {\n  min-width: 9ch;\n}\n\n.recurly-hosted-field-container-expiry {\n  position: relative;\n}\n\n.recurly-hosted-field-input-expiry,\n.recurly-hosted-field-input-cvv {\n  padding: 1px;\n}\n\n.recurly-hosted-field-input-cvv {\n  flex: 0.5;\n  order: 4;\n  text-overflow: clip;\n  min-width: 5ch;\n  transition: flex 150ms, padding 150ms, min-width 150ms;\n}\n\n@media (max-width: 200px) {\n  .recurly-hosted-field-icon-container {\n    flex: 0.00001;\n    padding: 0;\n  }\n}\n\n@media (max-width: 320px) {\n  .recurly-hosted-field-isolate .recurly-hosted-field-icon-container,\n  .recurly-hosted-field-isolate .recurly-hosted-field-input-cvv {\n    flex: 0.00001;\n    min-width: 0;\n    padding: 0;\n  }\n}\n\n@keyframes iconReplace {\n  0% { transform: scale(1); opacity: 1; }\n  50% { transform: scale(0.75); opacity: 0; }\n  100% { transform: scale(1); opacity: 1; }\n}\n", ""]);


/***/ }),

/***/ "./lib/field/card.js":
/*!***************************!*\
  !*** ./lib/field/card.js ***!
  \***************************/
/*! exports provided: CardField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardField", function() { return CardField; });
/* harmony import */ var recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! recurly.js/lib/recurly/validate */ "./node_modules/recurly.js/lib/recurly/validate.js");
/* harmony import */ var cleave_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cleave.js */ "./node_modules/cleave.js/dist/cleave-esm.js");
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payment */ "./node_modules/payment/lib/index.js");
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(payment__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! recurly.js/lib/util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _util_wrap_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/wrap-element */ "./lib/util/wrap-element.js");
/* harmony import */ var recurly_js_lib_util_parse_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! recurly.js/lib/util/parse-card */ "./node_modules/recurly.js/lib/util/parse-card.js");
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./field */ "./lib/field/field.js");
/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./icons */ "./lib/field/icons/index.js");
/* harmony import */ var _concerns_required__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./concerns/required */ "./lib/field/concerns/required.js");
/* harmony import */ var _concerns_tokenizing__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./concerns/tokenizing */ "./lib/field/concerns/tokenizing.js");
/* harmony import */ var _month__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./month */ "./lib/field/month.js");
/* harmony import */ var _year__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./year */ "./lib/field/year.js");
/* harmony import */ var _card_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./card.css */ "./lib/field/card.css");
/* harmony import */ var _card_css__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_card_css__WEBPACK_IMPORTED_MODULE_12__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }













 // Ignoring eslint because this regex correctly renders as `[0-9/\s]*` in html
// eslint-disable-next-line no-useless-escape

var NUMERIC_PATTERN = '[0-9\/\\s]*';
var NUMERIC_ATTRS = {
  type: 'tel',
  pattern: NUMERIC_PATTERN,
  spellcheck: 'false',
  autocapitalize: 'none',
  autocorrect: 'off'
};
var CardField =
/*#__PURE__*/
function (_Required) {
  _inherits(CardField, _Required);

  function CardField() {
    var _getPrototypeOf2;

    _classCallCheck(this, CardField);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CardField)).call.apply(_getPrototypeOf2, [this].concat(args)));
  }

  _createClass(CardField, [{
    key: "inject",
    value: function inject() {
      var _get2;

      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      (_get2 = _get(_getPrototypeOf(CardField.prototype), "inject", this)).call.apply(_get2, [this].concat(args));

      var el = this.el;
      el.setAttribute('autocomplete', 'cc-number');
      el.setAttribute('pattern', NUMERIC_PATTERN);
      el.className += ' recurly-hosted-field-input-number';
      this.injectContainer();
      this.expEl = createSecondaryInput(NUMERIC_ATTRS);
      this.cvvEl = createSecondaryInput(NUMERIC_ATTRS);
      var expEl = this.expEl,
          cvvEl = this.cvvEl,
          container = this.container;
      expEl.className = 'recurly-hosted-field-input recurly-hosted-field-input-expiry';
      cvvEl.className = 'recurly-hosted-field-input recurly-hosted-field-input-cvv'; // Apply formatting

      new cleave_js__WEBPACK_IMPORTED_MODULE_1__["default"](el, {
        creditCard: true,
        creditCardStrictMode: true
      });
      payment__WEBPACK_IMPORTED_MODULE_2___default.a.formatCardExpiry(expEl);
      payment__WEBPACK_IMPORTED_MODULE_2___default.a.formatCardCVC(cvvEl);
      container.appendChild(expEl);
      container.appendChild(cvvEl);
      this.injectStyleSheet();
      this.injectExpirySelect();
    }
  }, {
    key: "injectContainer",
    value: function injectContainer() {
      var el = this.el;
      var container = this.container = window.document.createElement('div');
      container.className = 'recurly-hosted-field-container';
      el.parentNode.appendChild(container);
      container.appendChild(el);
    }
  }, {
    key: "injectStyleSheet",
    value: function injectStyleSheet() {
      var constraintStyleSheet = this.constraintStyleSheet = window.document.createElement('style');
      constraintStyleSheet.innerHTML = _card_css__WEBPACK_IMPORTED_MODULE_12___default.a.toString();
      window.document.head.appendChild(constraintStyleSheet);
    }
    /**
     * Injects an invisible proxy element atop the expiry field
     *
     * FIXME: Should this be live-configurable? Currently it requires re-initialization
     *
     * FIXME: There is too much code repetition between this method,
     *        injectMobileExpirySelect, and Select.inject.
     *        Rule of three applies. recurly.js/dom.createHiddenElement
     *        after v4.8.5 should allow these routines to be codensed
     *        into a util method `createInvisibleProxyElement`
     *        - Similar routines
     *          - select creation and style application
     *          - wrapper creation and injection
     *          - option creation
     *          - this.expEl unbindings
     *          - select proxy listener bindings
     */

  }, {
    key: "injectExpirySelect",
    value: function injectExpirySelect() {
      var _this = this;

      if (this.config.config.inputType === 'mobileSelect' && this.isMobile) {
        return this.injectMobileExpirySelect();
      }

      if (this.config.config.inputType !== 'select') return; // Creates proxy select inputs for month and year

      var expSelectMonthEl = window.document.createElement('select');
      var expSelectYearEl = window.document.createElement('select');
      [expSelectMonthEl, expSelectYearEl].forEach(function (proxyEl) {
        proxyEl.style.position = 'absolute';
        proxyEl.style.fontSize = _this.fontSize;
        proxyEl.style.top = 0;
        proxyEl.style.width = '2em';
        proxyEl.style.height = '100%';
        proxyEl.style.opacity = 0;
      });
      expSelectMonthEl.style.left = 0;
      expSelectYearEl.style.left = '2em'; // Wraps this.expEl and injects proxies

      var expElContainer = Object(_util_wrap_element__WEBPACK_IMPORTED_MODULE_4__["default"])(this.expEl);
      expElContainer.className = 'recurly-hosted-field-container-expiry';
      expElContainer.appendChild(expSelectMonthEl);
      expElContainer.appendChild(expSelectYearEl); // Builds option elements

      var injectOptions = function injectOptions(target) {
        return function (value) {
          var option = window.document.createElement('option');
          option.value = option.text = value;
          target.appendChild(option);
        };
      };

      _month__WEBPACK_IMPORTED_MODULE_10__["OPTIONS"].forEach(injectOptions(expSelectMonthEl));
      _year__WEBPACK_IMPORTED_MODULE_11__["OPTIONS"].forEach(injectOptions(expSelectYearEl)); // Deactivates this.expEl

      this.expEl.tabIndex = -1;
      this.expEl.removeEventListener('focus', this.onFocus);
      this.expEl.addEventListener('focus', function () {
        return expSelectMonthEl.focus();
      }); // Activates new select proxy listeners

      var onChange = function onChange() {
        var _ref = [expSelectMonthEl.value, expSelectYearEl.value],
            month = _ref[0],
            year = _ref[1];
        _this.expEl.value = "".concat(month, " / ").concat(year.substring(2));
      };

      [expSelectMonthEl, expSelectYearEl].forEach(function (proxyEl) {
        proxyEl.addEventListener('keyup', _this.onInput);
        proxyEl.addEventListener('focus', _this.onFocus);
        proxyEl.addEventListener('change', onChange);
      });
    }
  }, {
    key: "injectMobileExpirySelect",
    value: function injectMobileExpirySelect() {
      var _this2 = this;

      var minimumDate = new Date();
      var maximumDate = new Date();
      maximumDate.setFullYear(maximumDate.getFullYear() + 20); // Creates invisible proxy element

      var expSelectEl = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.createHiddenInput({
        type: 'month',
        min: formatLimitDate(minimumDate),
        max: formatLimitDate(maximumDate)
      });
      expSelectEl.style.top = 0;
      expSelectEl.style.left = 0;
      expSelectEl.style.width = '100%';
      expSelectEl.style.height = '100%'; // Wraps this.expEl and injects proxy

      var expElContainer = Object(_util_wrap_element__WEBPACK_IMPORTED_MODULE_4__["default"])(this.expEl);
      expElContainer.className = 'recurly-hosted-field-container-expiry';
      expElContainer.appendChild(expSelectEl); // Deactivates this.expEl

      this.expEl.tabIndex = -1;
      this.expEl.removeEventListener('focus', this.onFocus);
      this.expEl.addEventListener('focus', function () {
        return expSelectEl.focus();
      }); // Activates new select proxy listeners

      expSelectEl.addEventListener('keyup', this.onInput);
      expSelectEl.addEventListener('focus', this.onFocus);
      expSelectEl.addEventListener('change', function (e) {
        var _e$target$value$split = e.target.value.split('-'),
            _e$target$value$split2 = _slicedToArray(_e$target$value$split, 2),
            year = _e$target$value$split2[0],
            month = _e$target$value$split2[1];

        _this2.expEl.value = month && year ? "".concat(month, " / ").concat(year.substring(2)) : '';
      });
    }
  }, {
    key: "bind",
    value: function bind() {
      _get(_getPrototypeOf(CardField.prototype), "bind", this).call(this);

      var icon = this.icon,
          el = this.el,
          expEl = this.expEl,
          cvvEl = this.cvvEl;
      if (icon) icon.addEventListener('click', function () {
        return el.focus();
      });
      el.addEventListener('focus', this.onNumberFocus.bind(this));
      el.addEventListener('blur', this.onNumberBlur.bind(this));
      expEl.addEventListener('keyup', this.onInput);
      expEl.addEventListener('focus', this.onFocus);
      cvvEl.addEventListener('keyup', this.onInput);
      cvvEl.addEventListener('focus', this.onFocus);
    }
  }, {
    key: "tabbing",
    value: function tabbing() {
      var _this3 = this;

      // Compatible only with Recurly.js 4.8.3+
      if (this.parentRecurlyJSVersionIsLessThan('4.8.3')) return;
      var container = this.container,
          el = this.el,
          isMobile = this.isMobile;
      if (!isMobile) return;
      var previous = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.createHiddenInput({
        'data-recurly-tabbing': 'prev'
      });
      var next = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.createHiddenInput({
        'data-recurly-tabbing': 'next'
      });
      previous.addEventListener('focus', function () {
        return _this3.sendMessage('tab:previous');
      });
      next.addEventListener('focus', function () {
        return _this3.sendMessage('tab:next');
      });
      container.insertBefore(previous, el);
      container.appendChild(next);
    }
  }, {
    key: "update",
    value: function update() {
      var valid = this.valid,
          brand = this.brand,
          el = this.el,
          expEl = this.expEl,
          cvvEl = this.cvvEl,
          numberIsValid = this.numberIsValid,
          expiryisValid = this.expiryisValid,
          cvvIsValid = this.cvvIsValid;
      var number = {
        empty: this.value === '',
        focus: this.isFocused(el),
        valid: numberIsValid
      };
      var expiry = {
        empty: expEl.value === '',
        focus: this.isFocused(expEl),
        valid: expiryisValid
      };
      var cvv = {
        empty: cvvEl.value === '',
        focus: this.isFocused(cvvEl),
        valid: cvvIsValid
      };
      var empty = number.empty && expiry.empty && cvv.empty;
      var focus = number.focus || expiry.focus || cvv.focus;
      var firstSix = '';
      var lastFour = '';
      var numberValue = Object(recurly_js_lib_util_parse_card__WEBPACK_IMPORTED_MODULE_5__["parseCard"])(this.value);

      if (numberIsValid && numberValue.length >= 10) {
        firstSix = numberValue.substr(0, 6);
        lastFour = numberValue.substr(-4);
      }

      this.style();
      this.state = {
        valid: valid,
        firstSix: firstSix,
        lastFour: lastFour,
        brand: brand,
        empty: empty,
        focus: focus,
        number: number,
        expiry: expiry,
        cvv: cvv
      };
    }
  }, {
    key: "style",
    value: function style() {
      var config = this.config,
          el = this.el,
          expEl = this.expEl,
          cvvEl = this.cvvEl,
          numberIsInvalid = this.numberIsInvalid,
          expiryisInvalid = this.expiryisInvalid,
          cvvIsInvalid = this.cvvIsInvalid;
      var touched = config.touched;
      var style = config.config.style; // Custom defaults for card hosted fields

      var touchedStyle = touched.style || {};
      if (!touchedStyle.fontColor) style.fontColor = '#545457';
      if (!touchedStyle.fontFamily) style.fontFamily = '"Source Sans Pro", sans-serif';
      style.fontSize = this.fontSize;
      delete style.padding;
      if (!style.invalid.fontColor) style.invalid.fontColor = '#e35256';
      if (!style.placeholder.color) style.placeholder.color = '#a3a3a7';
      if (_typeof(style.placeholder.content) !== 'object') style.placeholder.content = {};
      if (typeof style.placeholder.content.number !== 'string') style.placeholder.content.number = 'Card number';
      if (typeof style.placeholder.content.expiry !== 'string') style.placeholder.content.expiry = 'MM / YY';
      if (typeof style.placeholder.content.cvv !== 'string') style.placeholder.content.cvv = 'CVV'; // Property translation

      style.invalid.color = style.invalid.fontColor;

      _get(_getPrototypeOf(CardField.prototype), "style", this).call(this);

      this.applyStyleToElement(expEl);
      this.applyStyleToElement(cvvEl); // Number element

      el.setAttribute('placeholder', style.placeholder.content.number);
      el.setAttribute('title', style.placeholder.content.number);
      el.setAttribute('aria-label', style.placeholder.content.number); // Expiry element

      expEl.setAttribute('placeholder', style.placeholder.content.expiry);
      expEl.setAttribute('title', style.placeholder.content.expiry);
      expEl.setAttribute('aria-label', style.placeholder.content.expiry);
      expEl.setAttribute('autocomplete', 'cc-exp');
      expEl.setAttribute('aria-required', true); // CVV element

      cvvEl.setAttribute('placeholder', style.placeholder.content.cvv);
      cvvEl.setAttribute('title', style.placeholder.content.cvv);
      cvvEl.setAttribute('aria-label', style.placeholder.content.cvv);
      cvvEl.setAttribute('autocomplete', 'cc-csc');
      cvvEl.setAttribute('aria-required', true);
      if (numberIsInvalid) _extends(el.style, style.invalid);
      if (expiryisInvalid) _extends(expEl.style, style.invalid);
      if (cvvIsInvalid) _extends(cvvEl.style, style.invalid);
      this.renderIcon();

      if (this.expEl.value.length > 7) {
        this.expEl.classList.add('recurly-hosted-field-input-expiry-long');
      } else {
        this.expEl.classList.remove('recurly-hosted-field-input-expiry-long');
      }
    }
    /**
     * Renders the card icon
     *  - Called continuously on field changes
     */

  }, {
    key: "renderIcon",
    value: function renderIcon() {
      var _this4 = this;

      var displayIcon = this.config.config.displayIcon;
      if (!displayIcon) return this.removeIcon();
      if (!this.icon) this.injectIcon();
      var brand = this.brand,
          cvvEl = this.cvvEl,
          icon = this.icon,
          numberIsValid = this.numberIsValid;
      var front = _icons__WEBPACK_IMPORTED_MODULE_7__["ICONS"][brand] || (numberIsValid ? _icons__WEBPACK_IMPORTED_MODULE_7__["ICONS"].genericValid : _icons__WEBPACK_IMPORTED_MODULE_7__["ICONS"].generic); // Show a CVV hint icon if the cvv field is focused

      if (this.isFocused(cvvEl)) {
        if (brand === 'american_express') {
          front = _icons__WEBPACK_IMPORTED_MODULE_7__["ICONS"].cvvFront;
        } else {
          icon.classList.add('recurly-hosted-field-icon-reversed');
        }
      } else {
        icon.classList.remove('recurly-hosted-field-icon-reversed');
      } // Replace the front icon


      if (this.iconFront === front) return;

      var start = function start() {
        var time = parseFloat(window.getComputedStyle(icon).animationDuration) * 1000 / 2;
        setTimeout(function () {
          // Do nothing if the icon has not yet been added to the DOM.
          // This has only been observed in IE 11
          if (!icon.parentNode) return;
          icon.replaceChild(front, _this4.iconFront);
          _this4.iconFront = front;
        }, time);
      };

      var end = function end() {
        icon.classList.remove('recurly-hosted-field-icon-replace');
        icon.removeEventListener('animationstart', start);
        icon.removeEventListener('animationend', end);
      };

      icon.addEventListener('animationstart', start);
      icon.addEventListener('animationend', end);
      icon.classList.add('recurly-hosted-field-icon-replace');
    }
  }, {
    key: "injectIcon",
    value: function injectIcon() {
      var el = this.el;
      var iconHTML = "\n      <div class=\"recurly-hosted-field-icon-container\">\n        <div class=\"recurly-hosted-field-icon\">\n          <div class=\"recurly-hosted-field-icon-front\"></div>\n          ".concat(_icons__WEBPACK_IMPORTED_MODULE_7__["ICONS"].cvvBack.outerHTML, "\n        </div>\n      </div>\n    ");
      el.insertAdjacentHTML('beforebegin', iconHTML);
      this.icon = el.parentNode.querySelector('.recurly-hosted-field-icon');
      this.iconFront = this.icon.querySelector('.recurly-hosted-field-icon-front');
    }
  }, {
    key: "removeIcon",
    value: function removeIcon() {
      var el = this.el,
          icon = this.icon;
      if (!icon) return;
      el.parentNode.removeChild(icon.parentNode);
      delete this.icon;
    }
  }, {
    key: "tokenPayload",
    value: function tokenPayload(body) {
      var inputs = body.inputs;
      var el = this.el,
          cvvEl = this.cvvEl,
          expEl = this.expEl;

      var _Payment$fns$cardExpi = payment__WEBPACK_IMPORTED_MODULE_2___default.a.fns.cardExpiryVal(expEl.value),
          month = _Payment$fns$cardExpi.month,
          year = _Payment$fns$cardExpi.year;

      inputs.number = el.value;
      inputs.month = month || '';
      inputs.year = year || '';
      inputs.cvv = cvvEl.value;
      return inputs;
    }
  }, {
    key: "onReady",
    value: function onReady() {
      var expEl = this.expEl,
          cvvEl = this.cvvEl;
      expEl.style.visibility = 'visible';
      cvvEl.style.visibility = 'visible';

      _get(_getPrototypeOf(CardField.prototype), "onReady", this).call(this);
    }
  }, {
    key: "onNumberFocus",
    value: function onNumberFocus() {
      var container = this.container;
      container.classList.add('recurly-hosted-field-isolate');
    }
  }, {
    key: "onNumberBlur",
    value: function onNumberBlur() {
      var container = this.container;
      container.classList.remove('recurly-hosted-field-isolate');
    }
  }, {
    key: "brand",
    get: function get() {
      return recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__["cardType"](this.value, true);
    }
  }, {
    key: "numberIsValid",
    get: function get() {
      return recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__["cardNumber"](this.value);
    }
  }, {
    key: "expiryisValid",
    get: function get() {
      return payment__WEBPACK_IMPORTED_MODULE_2___default.a.fns.validateCardExpiry(this.expEl.value);
    }
  }, {
    key: "cvvIsValid",
    get: function get() {
      return recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__["cvv"](this.cvvEl.value);
    }
  }, {
    key: "valid",
    get: function get() {
      return this.numberIsValid && this.expiryisValid && this.cvvIsValid;
    }
  }, {
    key: "numberIsInvalid",
    get: function get() {
      if (this.value === '' || this.isFocused(this.el)) return false;
      return !this.numberIsValid;
    }
  }, {
    key: "expiryisInvalid",
    get: function get() {
      if (this.expEl.value === '' || this.isFocused(this.expEl)) return false;
      return !this.expiryisValid;
    }
  }, {
    key: "cvvIsInvalid",
    get: function get() {
      if (this.cvvEl.value === '' || this.isFocused(this.cvvEl)) return false;
      return !this.cvvIsValid;
    } // Custom default font size

  }, {
    key: "fontSize",
    get: function get() {
      var config = this.config;
      if (!config.touched.style || !config.touched.style.fontSize) return '16px';
      return config.config.style.fontSize;
    }
  }]);

  return CardField;
}(Object(_concerns_required__WEBPACK_IMPORTED_MODULE_8__["Required"])(Object(_concerns_tokenizing__WEBPACK_IMPORTED_MODULE_9__["Tokenizing"])(_field__WEBPACK_IMPORTED_MODULE_6__["Field"])));
/**
 * Adds a leading zero to a Number if it is single-digit
 *
 * @param {Number} num
 * @return {Number}
 */

function addZ(num) {
  return ('0' + num).slice(-2);
}
/**
 * Formats a Date to be used as a min or max attribute on a MonthInputElement
 *
 * @param  {Date} date
 * @return {String} '2020-01'
 */


function formatLimitDate(date) {
  return "".concat(date.getFullYear(), "-").concat(addZ(date.getMonth() + 1));
}
/**
 * Creates a secondary input element
 *
 * @return {InputElement}
 * @private
 */


function createSecondaryInput() {
  var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var el = window.document.createElement('input');
  if (!('type' in attributes)) attributes.type = 'text';
  Object.keys(attributes).forEach(function (attr) {
    return el.setAttribute(attr, attributes[attr]);
  });
  return el;
}

/***/ }),

/***/ "./lib/field/concerns/connected.js":
/*!*****************************************!*\
  !*** ./lib/field/concerns/connected.js ***!
  \*****************************************/
/*! exports provided: Connected */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Connected", function() { return Connected; });
/* harmony import */ var _util_create_native_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/create-native-event */ "./lib/util/create-native-event.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")('hostedField:connected');

var Connected = function Connected(superclass) {
  return (
    /*#__PURE__*/
    function (_superclass) {
      _inherits(_class, _superclass);

      function _class() {
        var _getPrototypeOf2;

        var _this;

        _classCallCheck(this, _class);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_class)).call.apply(_getPrototypeOf2, [this].concat(args)));

        var onReady = function onReady() {
          return _this.clientsReady = true;
        };

        if (_this.isElement) {
          _this.clientElementIds = [];

          _this.on('elements:peer-announce', function () {
            var _this2;

            return (_this2 = _this).onPeerAnnounce.apply(_this2, arguments);
          });

          _this.on('elements:ready!', onReady);
        } else {
          _this.on('hostedFields:ready', onReady);
        }

        return _this;
      }

      _createClass(_class, [{
        key: "getClientByType",

        /**
         * Finds a client field by its type
         *
         * @protected
         * @param  {String} type
         * @return {Field}
         */
        value: function getClientByType(type) {
          var clients = this.clients;

          for (var i = 0, len = clients.length; i < len; i++) {
            if (clients[i].type === type) return clients[i];
          }
        }
        /**
         * Inspects parent frames and returns those which match according to a matcher function
         *
         * @private
         * @param {Function} matcher Signature: `matcher(frame)`, expects {Boolean} return
         * @return {Array[Field]}
         */

      }, {
        key: "getClientByMatcher",
        value: function getClientByMatcher(matcher) {
          var frames = window.parent.frames;
          var loc = window.location;
          var origin = "".concat(loc.protocol, "//").concat(loc.host);
          var clients = [];

          for (var i = 0; i < frames.length; i++) {
            var frame = frames[i];

            try {
              if (~frame.location.href.indexOf(origin) && matcher(frame)) {
                clients.push(frame.recurlyHostedField);
              }
            } catch (e) {
              debug('Discarding suspected cross-domain access error', e);
            }
          }

          return clients;
        }
        /**
         * Generates a proxy field, bound to a client
         *
         * @protected
         * @param {String} type field type to proxy
         * @param {Object} attributes proxy html attributes
         */

      }, {
        key: "createProxy",
        value: function createProxy(type) {
          var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
          var el = this.el;
          var client = this.getClientByType(type);
          var proxy = window.document.createElement('input');
          attributes.type = attributes.type || 'text';
          attributes.style = 'position: absolute; bottom: -1000px; left: -1000px;';
          attributes.tabIndex = '-1';
          attributes['aria-hidden'] = true;
          Object.keys(attributes).forEach(function (attr) {
            return proxy.setAttribute(attr, attributes[attr]);
          });
          debug("creating proxy for ".concat(type, " deferred to"), client); // Bind proxy changes to client changes

          proxy.addEventListener('input', function () {
            debug("".concat(type, " proxy change detected. updating deferred field to '").concat(proxy.value, "'"));
            client.el.value = proxy.value; // HACK: A bug in Safari for iOS prevents placeholders from
            //       clearing when values are changed programatically

            client.el.focus();
            client.el.dispatchEvent(Object(_util_create_native_event__WEBPACK_IMPORTED_MODULE_0__["default"])('focus'));
            el.focus();
          });
          el.parentNode.insertBefore(proxy, el.nextSibling);
          return proxy;
        }
        /**
         * Ensures that this.clientsReady will be set to true before creating proxies
         *
         * @param  {...any} args
         */

      }, {
        key: "createProxyAsync",
        value: function createProxyAsync() {
          var _this3 = this;

          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          setTimeout(function () {
            _this3.createProxy.apply(_this3, args);
          }, 0);
        }
        /**
         * Stores a list of client element ids
         *
         * called when an element is added or removed from an Elements
         * instance on the parent
         *
         * @private
         * @param {Array} options.ids ['uuid', 'uuid']
         */

      }, {
        key: "onPeerAnnounce",
        value: function onPeerAnnounce() {
          var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
              _ref$ids = _ref.ids,
              ids = _ref$ids === void 0 ? [] : _ref$ids;

          this.clientElementIds = ids;
        }
      }, {
        key: "clients",
        get: function get() {
          var clientsReady = this.clientsReady,
              clientElementIds = this.clientElementIds,
              isElement = this.isElement;
          if (!clientsReady) return [];

          if (isElement) {
            return this.getClientByMatcher(function (frame) {
              return clientElementIds.some(function (id) {
                return ~frame.name.indexOf(id);
              });
            });
          } else {
            return this.getClientByMatcher(function (frame) {
              return ~frame.name.indexOf('recurlyHostedField');
            });
          }
        }
      }]);

      return _class;
    }(superclass)
  );
};

/***/ }),

/***/ "./lib/field/concerns/required.js":
/*!****************************************!*\
  !*** ./lib/field/concerns/required.js ***!
  \****************************************/
/*! exports provided: Required */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Required", function() { return Required; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var Required = function Required(superclass) {
  return (
    /*#__PURE__*/
    function (_superclass) {
      _inherits(_class, _superclass);

      function _class() {
        var _getPrototypeOf2;

        var _this;

        _classCallCheck(this, _class);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_class)).call.apply(_getPrototypeOf2, [this].concat(args)));

        _this.el.setAttribute('aria-required', true);

        return _this;
      }

      return _class;
    }(superclass)
  );
};

/***/ }),

/***/ "./lib/field/concerns/select.js":
/*!**************************************!*\
  !*** ./lib/field/concerns/select.js ***!
  \**************************************/
/*! exports provided: Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return Select; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var Select = function Select(superclass) {
  return (
    /*#__PURE__*/
    function (_superclass) {
      _inherits(_class, _superclass);

      function _class() {
        _classCallCheck(this, _class);

        return _possibleConstructorReturn(this, _getPrototypeOf(_class).apply(this, arguments));
      }

      _createClass(_class, [{
        key: "inject",

        /**
         * Inject override to handle selectEl injection
         *
         * FIXME: Use dom.createHiddenElement in rjs 4.8.5
         *
         * @param  {HTMLElement} element
         */
        value: function inject(element) {
          var _this = this;

          _get(_getPrototypeOf(_class.prototype), "inject", this).call(this, element);

          this.onSelect = this.onSelect.bind(this);
          if (!this.shouldInjectSelect) return;
          this.selectEl = window.document.createElement('select');
          this.selectEl.style.position = 'absolute';
          this.selectEl.style.top = 0;
          this.selectEl.style.left = 0;
          this.selectEl.style.width = '100%';
          this.selectEl.style.height = '100%';
          this.selectEl.style.opacity = 0;

          if ('webkitAppearance' in this.selectEl.style) {
            this.selectEl.style.webkitAppearance = 'none';
          } // Build option elements


          this.options.forEach(function (value) {
            var option = window.document.createElement('option');
            option.value = option.text = value;

            _this.selectEl.appendChild(option);
          });
          this.el.parentNode.appendChild(this.selectEl);
          this.el.addEventListener('focus', function () {
            return _this.selectEl.focus();
          });
          this.selectEl.addEventListener('change', this.onSelect);
          this.selectEl.addEventListener('change', this.onInput);
          this.selectEl.addEventListener('focus', this.onFocus);
          this.el.removeEventListener('focus', this.onFocus);
        }
        /**
         * Focus determination callback
         *
         * @return {Boolean} whether this.selectEl is focused
         */

      }, {
        key: "isFocused",
        value: function isFocused() {
          return _get(_getPrototypeOf(_class.prototype), "isFocused", this).call(this, this.selectEl);
        }
        /**
         * Handles selectEl changes
         */

      }, {
        key: "onSelect",
        value: function onSelect() {
          this.el.value = this.selectEl.value;
        }
      }, {
        key: "options",

        /**
         * Options for this.selectEl. Value and name are assumed to be identical and numeric
         *
         * @return {Array[String]} ['Option 1', 'Option 2']
         */
        get: function get() {
          return ['Not Implemented'];
        }
        /**
         * Override for inputEl to prefer the selectEl if it is available
         *
         * @return {HTMLInputElement}
         */

      }, {
        key: "inputEl",
        get: function get() {
          return this.selectEl || this.el;
        }
        /**
         * should inject if configured to do so
         *
         * @return {Boolean}
         */

      }, {
        key: "shouldInjectSelect",
        get: function get() {
          if (this.isMobile && this.config.config.inputType === 'mobileSelect') return true;
          if (this.config.config.inputType === 'select') return true;
          return false;
        }
      }]);

      return _class;
    }(superclass)
  );
};

/***/ }),

/***/ "./lib/field/concerns/strict-numeric.js":
/*!**********************************************!*\
  !*** ./lib/field/concerns/strict-numeric.js ***!
  \**********************************************/
/*! exports provided: StrictNumeric */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StrictNumeric", function() { return StrictNumeric; });
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payment */ "./node_modules/payment/lib/index.js");
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(payment__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


/**
 * Restricts a field to numeric input, optionally with a max length
 * @param {Object} options
 * @param {Number} [maxLength] maximum length of input
 */

var StrictNumeric = function StrictNumeric(superclass) {
  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return (
    /*#__PURE__*/
    function (_superclass) {
      _inherits(_class, _superclass);

      function _class() {
        var _getPrototypeOf2;

        var _this;

        _classCallCheck(this, _class);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_class)).call.apply(_getPrototypeOf2, [this].concat(args)));

        if (typeof opts.maxLength === 'number' && _this.shouldFormat) {
          _this.el.setAttribute('maxlength', opts.maxLength);
        }

        return _this;
      }

      _createClass(_class, [{
        key: "bind",
        value: function bind() {
          var _get2;

          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          (_get2 = _get(_getPrototypeOf(_class.prototype), "bind", this)).call.apply(_get2, [this].concat(args));

          if (this.shouldFormat) payment__WEBPACK_IMPORTED_MODULE_0___default.a.restrictNumeric(this.el);
        }
      }]);

      return _class;
    }(superclass)
  );
};

/***/ }),

/***/ "./lib/field/concerns/tokenizing.js":
/*!******************************************!*\
  !*** ./lib/field/concerns/tokenizing.js ***!
  \******************************************/
/*! exports provided: Tokenizing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tokenizing", function() { return Tokenizing; });
/* harmony import */ var recurly_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! recurly.js */ "./node_modules/recurly.js/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")('hostedField:tokenizing');
/**
 * Allows a Field to create tokens
 *
 * Events
 *   Listens to
 *     - `token:init` and will create a token from the message body
 *   Emits
 *     - `token:done:${id}` when the token is created
 *
 * @typedef {TokenInitMessageBody}
 * @property {String} id     tokenization identifier. To be echoed in
 *                           `token:done:${id}` message
 * @property {Object} inputs tokenization
 */


var Tokenizing = function Tokenizing(superclass) {
  return (
    /*#__PURE__*/
    function (_superclass) {
      _inherits(_class, _superclass);

      function _class() {
        var _getPrototypeOf2;

        var _this;

        _classCallCheck(this, _class);

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_class)).call.apply(_getPrototypeOf2, [this].concat(args)));
        _this.recurly = _this.createRecurly();

        _this.on('token:init', function (body) {
          return _this.token(body);
        });

        return _this;
      }
      /**
       * Forms a tokenization payload from a `token:init` message body
       *
       * @param  {TokenizationMessageBody} body
       * @return {Object}                  payload to submit to `recurly.token`
       *
       */


      _createClass(_class, [{
        key: "tokenPayload",
        value: function tokenPayload(body) {
          return body;
        }
        /**
         * Handles `token:init` messages
         *
         * @param  {TokenInitMessageBody} body
         */

      }, {
        key: "token",
        value: function token(body) {
          var _this2 = this;

          var id = body.id;
          var recurly = this.recurly;
          var payload = this.tokenPayload(body);
          debug('received token:init', body);
          recurly.token(payload, function (err, token) {
            var name = "token:done".concat(id ? ":".concat(id) : '');

            _this2.sendMessage(name, {
              err: err,
              token: token
            }, {
              overrideName: true
            });
          });
        }
        /**
         * Creates a Recurly instance on which we may tokenize
         *
         * @return {Recurly}
         */

      }, {
        key: "createRecurly",
        value: function createRecurly() {
          var Recurly = recurly_js__WEBPACK_IMPORTED_MODULE_0__["default"].Recurly;
          var config = this.config.config;
          var deviceId = config.deviceId,
              sessionId = config.sessionId;
          var recurly = this.recurly = new Recurly();
          Object.defineProperty(recurly, 'deviceId', {
            get: function get() {
              return deviceId;
            }
          });
          Object.defineProperty(recurly, 'sessionId', {
            get: function get() {
              return sessionId;
            }
          });
          recurly.configure(_extends({}, config.recurly, {
            parent: false
          })); // HACK: `bus` is assigned here because downstream tokenization preflight routines must
          // have access to an active bus.

          recurly.bus = this.bus;
          return recurly;
        }
      }]);

      return _class;
    }(superclass)
  );
};

/***/ }),

/***/ "./lib/field/cvv.js":
/*!**************************!*\
  !*** ./lib/field/cvv.js ***!
  \**************************/
/*! exports provided: CVVField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CVVField", function() { return CVVField; });
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payment */ "./node_modules/payment/lib/index.js");
/* harmony import */ var payment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(payment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field */ "./lib/field/field.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var CVVField =
/*#__PURE__*/
function (_Field) {
  _inherits(CVVField, _Field);

  function CVVField() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CVVField);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CVVField)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.el.setAttribute('autocomplete', 'off');

    if (_this.shouldFormat) payment__WEBPACK_IMPORTED_MODULE_0___default.a.formatCardCVC(_this.el);
    return _this;
  }

  _createClass(CVVField, [{
    key: "update",
    value: function update() {
      var valid = payment__WEBPACK_IMPORTED_MODULE_0___default.a.fns.validateCardCVC(this.value);
      this.state = {
        valid: valid
      };

      _get(_getPrototypeOf(CVVField.prototype), "update", this).call(this);
    }
  }]);

  return CVVField;
}(_field__WEBPACK_IMPORTED_MODULE_1__["Field"]);

/***/ }),

/***/ "./lib/field/factory.js":
/*!******************************!*\
  !*** ./lib/field/factory.js ***!
  \******************************/
/*! exports provided: FIELD_TYPES, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIELD_TYPES", function() { return FIELD_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return factory; });
/* harmony import */ var _number__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./number */ "./lib/field/number.js");
/* harmony import */ var _month__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./month */ "./lib/field/month.js");
/* harmony import */ var _year__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./year */ "./lib/field/year.js");
/* harmony import */ var _cvv__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cvv */ "./lib/field/cvv.js");
/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./card */ "./lib/field/card.js");





var FIELD_TYPES = {
  number: _number__WEBPACK_IMPORTED_MODULE_0__["NumberField"],
  month: _month__WEBPACK_IMPORTED_MODULE_1__["MonthField"],
  year: _year__WEBPACK_IMPORTED_MODULE_2__["YearField"],
  cvv: _cvv__WEBPACK_IMPORTED_MODULE_3__["CVVField"],
  card: _card__WEBPACK_IMPORTED_MODULE_4__["CardField"]
};
/**
 * Returns a memoized Field instance
 *
 * @param  {String} type
 * @param  {HTMLElement} input
 * @param  {Window} global
 * @return {Field}
 */

function factory(type, input) {
  if (!(type in FIELD_TYPES)) return error("'".concat(type, "' is not a valid field type"));
  if (!(input instanceof HTMLElement)) return error('input is not an HTMLElement');
  return new FIELD_TYPES[type](input);
}

function error(message) {
  console.error('There was an error initializing this hosted field', message);
}

/***/ }),

/***/ "./lib/field/field.js":
/*!****************************!*\
  !*** ./lib/field/field.js ***!
  \****************************/
/*! exports provided: Field */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Field", function() { return Field; });
/* harmony import */ var bowser_bundled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bowser/bundled */ "./node_modules/bowser/bundled.js");
/* harmony import */ var bowser_bundled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bowser_bundled__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jss_browserify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jss-browserify */ "./node_modules/jss-browserify/jss.js");
/* harmony import */ var jss_browserify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jss_browserify__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var webfontloader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! webfontloader */ "./node_modules/webfontloader/webfontloader.js");
/* harmony import */ var webfontloader__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(webfontloader__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var semver_compare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! semver-compare */ "./node_modules/semver-compare/index.js");
/* harmony import */ var semver_compare__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(semver_compare__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! recurly.js/lib/util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
/* harmony import */ var recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! recurly.js/lib/util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _util_wrap_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/wrap-element */ "./lib/util/wrap-element.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../config */ "./lib/config.js");
/* harmony import */ var recurly_js_lib_recurly_message__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! recurly.js/lib/recurly/message */ "./node_modules/recurly.js/lib/recurly/message.js");
/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../bus */ "./lib/bus.js");
/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../version */ "./lib/version.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














var debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")('hostedField:field');

var STYLE_PROPERTIES = ['fontFamily', 'fontFeatureSettings', 'fontKerning', 'fontSize', 'fontStretch', 'fontStyle', 'fontVariant', 'fontWeight', 'letterSpacing', 'lineHeight', 'padding', 'textAlign', 'textDecoration', 'textRendering', 'textShadow', 'textTransform'];
var WEB_SAFE_FONTS = ['sans-serif', 'arial', 'arial black', 'calibri', 'geneva', 'tahoma', 'trebuchet ms', 'verdana', 'serif', 'consolas', 'courier', 'courier new', 'georgia', 'times', 'times new roman'];
var Field =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Field, _Emitter);

  function Field(element) {
    var _this;

    _classCallCheck(this, Field);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Field).call(this));
    _this.style = _this.style.bind(_assertThisInitialized(_this));
    _this.onReady = _this.onReady.bind(_assertThisInitialized(_this));
    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));
    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));
    _this.onInput = _this.onInput.bind(_assertThisInitialized(_this));
    _this.version = _version__WEBPACK_IMPORTED_MODULE_11__["version"];
    _this.config = new _config__WEBPACK_IMPORTED_MODULE_8__["Config"]();
    _this.loadedFonts = [];

    _this.inject(element);

    var groupId = _this.config.config.busGroupId;
    _this.bus = new _bus__WEBPACK_IMPORTED_MODULE_10__["PermissiveBus"]({
      groupId: groupId,
      role: 'hosted-field'
    });

    _this.bus.add(_assertThisInitialized(_this));

    _this.bus.add(_this.config);

    _this.parentBus = new _bus__WEBPACK_IMPORTED_MODULE_10__["SenderBus"]({
      groupId: groupId,
      role: 'hosted-field-parent'
    });

    _this.parentBus.add(window.parent);

    _this.style();

    _this.tabbing();

    _this.bind();

    _this.update();

    _this.sendMessage('ready', _this.state);

    return _this;
  }

  _createClass(Field, [{
    key: "bind",
    value: function bind() {
      this.config.on('change', this.style);
      this.el.addEventListener('keyup', this.onInput);
      this.el.addEventListener('focus', this.onFocus);
      this.form.addEventListener('submit', function (e) {
        return e.preventDefault();
      });
      window.addEventListener('blur', this.onBlur); // Bind focus events from container elements to the input field

      var focus = this.el.focus.bind(this.el);
      window.document.addEventListener('focus', focus);
      window.document.body.addEventListener('focus', focus);

      if (this.isElement) {
        this.on("element:".concat(this.elementId, ":focus!"), focus);
        this.on('elements:ready!', this.onReady);
      } else {
        this.on("hostedField:".concat(this.type, ":focus!"), focus);
        this.on('hostedFields:ready', this.onReady);
      }
    }
  }, {
    key: "inject",
    value: function inject(element) {
      this.el = element;
      this.el.setAttribute('type', 'tel');
      this.el.setAttribute('pattern', '[0-9]*');
      this.el.setAttribute('spellcheck', 'false');
      this.el.setAttribute('autocapitalize', 'none');
      this.el.setAttribute('autocorrect', 'off');
      this.el.className = 'recurly-hosted-field-input';
      this.el.style.visibility = 'hidden';
      this.form = Object(_util_wrap_element__WEBPACK_IMPORTED_MODULE_7__["default"])(this.el, 'form');
      this.form.setAttribute('novalidate', 'true');
      this.form.style.width = '100%';
      this.form.style.height = '100%';
      this.form.style.margin = '0';
      this.form.style.padding = '0';
    }
  }, {
    key: "style",
    value: function style() {
      var style = this.config.config.style; // Backward compatibility

      if (typeof style.placeholder === 'string') {
        style.placeholder = {
          content: style.placeholder
        };
      }

      if (this.shouldLoadWebFont) {
        webfontloader__WEBPACK_IMPORTED_MODULE_3___default.a.load({
          google: {
            families: googleFontFamilies(style.fontFamily)
          },
          fontinactive: debug
        });
        this.loadedFonts.push(style.fontFamily);
      }

      this.applyStyleToElement(); // Placeholder styles

      this.el.placeholder = style.placeholder.content;
      ['input::-webkit-input-placeholder', 'input::-moz-placeholder', 'input:-ms-input-placeholder'].forEach(function (sel) {
        // Chrome & FF choke on other vendor prefixes
        try {
          var placeHolderStyle = _extends({}, style.placeholder, {
            content: ''
          }); // IE11 will not render a placeholder color without the !important flag


          if (placeHolderStyle.color && !~placeHolderStyle.color.indexOf('!important')) {
            placeHolderStyle.color += ' !important';
          }

          jss_browserify__WEBPACK_IMPORTED_MODULE_2___default.a.remove(sel);
          jss_browserify__WEBPACK_IMPORTED_MODULE_2___default.a.set(sel, placeHolderStyle); // eslint-disable-next-line
        } catch (e) {}
      }); // Accessibility

      var title = style.title || style.placeholder.content;

      if (title) {
        this.el.setAttribute('title', title);
        this.el.setAttribute('aria-label', title);
      }
    }
    /**
     * Builds hidden tabbing sinks for mobile browsers
     *
     * The previous and next tabbing sinks will only be tabbable when the main element is focused,
     * preventing them from being focusable from outside the field
     */

  }, {
    key: "tabbing",
    value: function tabbing() {
      var _this2 = this;

      // Compatible only with Recurly.js 4.8.3+
      if (this.parentRecurlyJSVersionIsLessThan('4.8.3')) return;
      if (!this.isMobile) return;
      var previous = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6___default.a.createHiddenInput({
        'data-recurly-tabbing': 'prev'
      });
      var next = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6___default.a.createHiddenInput({
        'data-recurly-tabbing': 'next'
      });
      previous.addEventListener('focus', function () {
        return _this2.sendMessage('tab:previous');
      });
      next.addEventListener('focus', function () {
        return _this2.sendMessage('tab:next');
      });
      this.inputEl.parentNode.insertBefore(previous, this.inputEl);
      this.inputEl.parentNode.insertBefore(next, this.inputEl.nextSibling);
    }
  }, {
    key: "onReady",
    value: function onReady() {
      this.el.style.visibility = 'visible';
    }
  }, {
    key: "update",
    value: function update() {
      var empty = this.value === '';
      var length = this.value.length;
      var focus = this.isFocused();
      this.state = {
        empty: empty,
        length: length,
        focus: focus
      };
    }
    /**
     * Event handlers
     */

  }, {
    key: "onInput",
    value: function onInput(event) {
      if (event.which === 13) this.sendMessage('submit'); // Enter

      this.update();
    }
  }, {
    key: "onFocus",
    value: function onFocus() {
      this.update();
      this.sendMessage('focus');
    }
  }, {
    key: "onBlur",
    value: function onBlur() {
      this.update();
      this.forceIosBlur();
      window.getSelection().removeAllRanges();
      this.sendMessage('blur');
    }
    /**
     * A bug in iOS prevents input elements from blurring when moving focus
     * between iframe and parent. This creates a button element upon which we
     * force a focus and blur.
     *
     * @protected
     */

  }, {
    key: "forceIosBlur",
    value: function forceIosBlur() {
      if (!this.isIos) return; // This excludes blurs that occur due to tabbing

      if (window.document.activeElement === window.document.body) return;

      if (!this.iOSBlurFixElement) {
        this.iOSBlurFixElement = recurly_js_lib_util_dom__WEBPACK_IMPORTED_MODULE_6___default.a.createHiddenInput({
          type: 'button'
        });
        window.document.body.appendChild(this.iOSBlurFixElement);
      }

      this.iOSBlurFixElement.focus();
      this.iOSBlurFixElement.blur();
    }
    /**
     * Determines if the given element is currently focused
     *
     * Compensates for a bug in IE browsers that throws an 'unspecified error'
     * when the activeElement cannot be found within an iframe
     *
     * @param {HTMLElement} el element to test for focus
     * @return {boolean} whether the given element is focused
     */

  }, {
    key: "isFocused",
    value: function isFocused() {
      var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.el;
      var focus = false;

      try {
        var isActive = el === window.document.activeElement;
        var hasFocus = window.document.hasFocus();
        focus = hasFocus && isActive;
      } catch (e) {
        debug('error retrieving activeElement');
      }

      return focus;
    }
    /**
     * Sends a message intended for a parent window
     *
     * @param {String} name
     * @param {Object} body
     */

  }, {
    key: "sendMessage",
    value: function sendMessage(name) {
      var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
          _ref$overrideName = _ref.overrideName,
          overrideName = _ref$overrideName === void 0 ? false : _ref$overrideName;

      var messageName;

      if (overrideName) {
        messageName = name;
      } else {
        messageName = this.isElement ? "element:".concat(this.elementId, ":").concat(name) : "hostedField:".concat(name);
      }

      var messageBody = Object(recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_5__["default"])({}, body, {
        type: this.config.config.type
      });
      this.parentBus.send(new recurly_js_lib_recurly_message__WEBPACK_IMPORTED_MODULE_9__["Message"](messageName, messageBody, this.bus.groupId));
    }
    /**
     * Applies configured style properties to el
     *
     * @param {HTMLElement} [el=this.el]
     */

  }, {
    key: "applyStyleToElement",
    value: function applyStyleToElement() {
      var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.el;
      var style = this.config.config.style;
      el.style.color = style.fontColor;
      STYLE_PROPERTIES.forEach(function (prop) {
        return el.style[prop] = style[prop];
      });
      el.style.fontFamily = cssFontFamily(style.fontFamily); // Font smoothing

      if (style.fontSmoothing === 'off') {
        el.style.webkitFontSmoothing = 'none';
        el.style.MozOsxFontSmoothing = 'unset';
      } else if (style.fontSmoothing === 'antialiased') {
        el.style.webkitFontSmoothing = 'antialiased';
        el.style.MozOsxFontSmoothing = 'grayscale';
      }
    }
    /**
     * Checks the Recurly.js version for compatibility purposes
     *
     * @param {String} test minimum version ex: '4.8.0'
     */

  }, {
    key: "parentRecurlyJSVersionIsLessThan",
    value: function parentRecurlyJSVersionIsLessThan(test) {
      return semver_compare__WEBPACK_IMPORTED_MODULE_4___default()(this.config.config.recurly.parentVersion || '0.0.0', test) < 0;
    }
  }, {
    key: "type",
    get: function get() {
      return this.config.config.type;
    }
  }, {
    key: "value",
    get: function get() {
      return this.el.value;
    }
  }, {
    key: "state",
    get: function get() {
      return this._state = this._state || {};
    },
    set: function set(changes) {
      var oldState = this.state;

      try {
        var newState = Object(recurly_js_lib_util_deep_assign__WEBPACK_IMPORTED_MODULE_5__["default"])({}, this.state, changes);
        if (JSON.stringify(oldState) === JSON.stringify(newState)) return;
        this._state = newState;
      } catch (e) {
        debug('Failed to determine state change', oldState, changes);
      }

      this.sendMessage('state:change', this.state);
    }
  }, {
    key: "shouldFormat",
    get: function get() {
      return this.config.config.format === true;
    }
  }, {
    key: "inputEl",
    get: function get() {
      return this.el;
    }
  }, {
    key: "shouldLoadWebFont",
    get: function get() {
      var fontFamily = this.config.config.style.fontFamily;
      var alreadyLoadedFont = ~this.loadedFonts.indexOf(fontFamily);
      if (fontFamily === this.config.defaults.style.fontFamily || alreadyLoadedFont) return false; // Detect if all of the specified fonts are web safe
      // '"Source Sans Pro", "Times New Roman", serif' -> ['source sans pro', 'times new roman', 'serif']

      var parsedFontFamily = fontFamily.split(',').map(function (font) {
        return font.trim().replace(/^"(.*)"$/, '$1').toLowerCase();
      });
      if (parsedFontFamily.filter(function (font) {
        return !~WEB_SAFE_FONTS.indexOf(font);
      }).length === 0) return false;
      return true;
    }
  }, {
    key: "isElement",
    get: function get() {
      return !!this.elementId;
    }
  }, {
    key: "elementId",
    get: function get() {
      return this.config.config.elementId;
    }
  }, {
    key: "isMobile",
    get: function get() {
      return Field.bowser.is('mobile') || Field.bowser.is('tablet');
    }
  }, {
    key: "isIos",
    get: function get() {
      return Field.bowser.is('ios');
    }
  }]);

  return Field;
}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);
/**
 * Formats a fontFamily string for the Google Web Font API
 * @param  {String} fontFamily '"Droid Sans", Helvetica, sans-serif'
 * @return {Array}             ['Droid Sans', 'Helvetica']
 */

_defineProperty(Field, "bowser", bowser_bundled__WEBPACK_IMPORTED_MODULE_0___default.a.getParser(window.navigator.userAgent));

function googleFontFamilies(fontFamily) {
  return fontFamily.split(',').map(function (f) {
    return f.trim().replace(/'|"/g, '');
  }).filter(function (f) {
    return !~WEB_SAFE_FONTS.indexOf(f);
  });
}
/**
 * Creates a valid fontFamily cstyle attribute
 * - strips away font sizing specifications for a Google Font, to be
 *
 * @param  {String} fontFamily '"Montserrat:100", Helvetica, sans-serif'
 * @return {String}            '"Montserrat", Helvetica, sans-serif'
 */


function cssFontFamily(fontFamily) {
  return fontFamily.split(',').map(function (f) {
    return f.trim().split(':')[0];
  }).join(', ');
}

/***/ }),

/***/ "./lib/field/icons/amex.svg":
/*!**********************************!*\
  !*** ./lib/field/icons/amex.svg ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>amex</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect></defs><g id=\"amex\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"Rectangle-1-Copy-67\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><path d=\"M18.4536563,11.0007559 L15.6199085,11.0007559 L15.6199085,18.724513 C14.6292449,16.1488225 13.6385292,13.5730739 12.6488549,11 L10.0699325,11 C9.04792339,13.6588973 8.02976738,16.3076772 7,18.986693 L8.82048627,18.986693 C9.04563235,18.3852896 9.26541534,17.7983645 9.48733315,17.2055667 L13.1539236,17.2055667 C13.3804755,17.809703 13.6031744,18.40378 13.8172298,18.9747149 L17.3341221,18.9747149 L17.3341221,12.5540664 C18.1881568,14.6975 19.0421915,16.8408173 19.8974238,18.9871 L21.4032054,18.9871 C22.260937,16.8350608 23.1140345,14.694709 23.9672882,12.5539501 L23.9672882,18.9788433 L25.6802,18.9788433 L25.6802,11 L22.8399436,11 C22.1457084,12.8188048 21.4560554,14.6256316 20.7332864,16.5192121 C19.9491282,14.6209799 19.2001166,12.8077571 18.4536563,11.0007559 L18.4536563,11.0007559 L18.4536563,11.0007559 Z M11.3907923,12.2502 C11.3907923,12.2502 12.4637348,15.1578306 12.6176,15.5752 L10.1606,15.5752 C10.5651794,14.4725262 11.3907923,12.2502 11.3907923,12.2502 L11.3907923,12.2502 Z M38.9080949,11.0138 C38.1814171,11.8807529 37.4448462,12.7595093 36.6897907,13.6603611 C35.9951876,12.7472406 35.3284415,11.8707518 34.6813254,11.0200797 L26.6924,11.0200797 L26.6924,19 L34.4670086,19 C35.1766598,18.1436297 35.9138034,17.2540581 36.6724517,16.3385536 C37.4065233,17.2566165 38.1200796,18.1490372 38.8004679,19 L40.9853957,19 C39.8826741,17.6412505 38.8307721,16.345124 37.7570011,15.022076 C38.8785717,13.6773397 39.9736911,12.3642346 41.1,11.0138 L38.9080949,11.0138 L38.9080949,11.0138 Z M32.2934412,17.4486333 L28.2172,17.4486333 L28.2172,15.7950125 L32.1459811,15.7950125 L32.1459811,14.1905834 L28.2240731,14.1905834 L28.2240731,12.6611629 L32.2870887,12.6611629 L32.2870887,11.2071 C33.3270679,12.4780604 34.3664742,13.7483813 35.4265,15.0439376 C34.3712125,16.2865808 33.3325351,17.5096869 32.2934412,18.7332 L32.2934412,17.4486333 L32.2934412,17.4486333 Z\" id=\"Path-Copy\" fill=\"#0071B2\"></path></g></svg>"

/***/ }),

/***/ "./lib/field/icons/cvv-amex.svg":
/*!**************************************!*\
  !*** ./lib/field/icons/cvv-amex.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>CC-Amex</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect><path d=\"M11,5.99893884 C11,9.03810534 8.53810534,11.5 5.50106116,11.5 C2.46401698,11.5 0,9.03810534 0,5.99893884 C0,2.96189466 2.46401698,0.5 5.50106116,0.5 C8.53810534,0.5 11,2.96189466 11,5.99893884 Z\" id=\"path-2\"></path></defs><g id=\"r3-CVV\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"CVV-Amex-Example-Copy\" transform=\"translate(-5.000000, -5.000000)\"><g id=\"CC-Amex\" transform=\"translate(5.000000, 5.000000)\"><g id=\"Generic-Card\"><g id=\"Rectangle-1-Copy-68\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><path d=\"M12.4077381,7.00035689 L11.0698103,7.00035689 L11.0698103,10.6470575 C10.6020776,9.43096904 10.1343203,8.2148531 9.66705473,7 L8.4494403,7 C7.96690813,8.25537382 7.48619517,9.50597082 7,10.7708434 L7.85952579,10.7708434 C7.96582644,10.4868963 8.06959495,10.2097851 8.1743714,9.92990107 L9.90551825,9.92990107 C10.0124827,10.2151384 10.1176279,10.4956264 10.2186922,10.7651881 L11.8791604,10.7651881 L11.8791604,7.73373811 C12.282385,8.7457405 12.6856096,9.75768798 13.0893996,10.7710356 L13.8003405,10.7710356 C14.2053106,9.75497013 14.6080927,8.74442275 15.0109486,7.7336832 L15.0109486,10.7671372 L15.8196841,10.7671372 L15.8196841,7 L14.4786832,7 C14.1509065,7.85873192 13.8252932,8.71180851 13.4840445,9.60584507 C13.1138114,8.70961226 12.7601725,7.85351584 12.4077381,7.00035689 L12.4077381,7.00035689 L12.4077381,7.00035689 Z M9.07307205,7.5902704 C9.07307205,7.5902704 9.579652,8.96308137 9.65229801,9.16013847 L8.49224813,9.16013847 C8.68326658,8.63952119 9.07307205,7.5902704 9.07307205,7.5902704 L9.07307205,7.5902704 Z M22.0651126,7.00651554 C21.7220184,7.41583934 21.3742533,7.83073609 21.0177608,8.25606497 C20.6898103,7.82494351 20.3750123,7.41111743 20.0694824,7.00948046 L16.297585,7.00948046 L16.297585,10.7771262 L19.9682947,10.7771262 C20.3033499,10.3727988 20.6513855,9.95279583 21.0095743,9.52054881 C21.3561594,9.95400376 21.6930585,10.375352 22.0142975,10.7771262 L23.045891,10.7771262 C22.5252512,10.1356052 22.0286054,9.52365099 21.5216343,8.89898609 C22.0511735,8.26408123 22.568224,7.64411079 23.1000004,7.00651554 L22.0651126,7.00651554 L22.0651126,7.00651554 Z M18.9420649,10.0446627 L17.0175052,10.0446627 L17.0175052,9.26392092 L18.872443,9.26392092 L18.872443,8.50640452 L17.0207503,8.50640452 L17.0207503,7.78430276 L18.9390656,7.78430276 L18.9390656,7.09778035 C19.4300822,7.6978526 19.9208283,8.29762286 20.4213097,8.90930781 C19.9230655,9.49601035 19.4326635,10.0734886 18.9420649,10.651159 L18.9420649,10.0446627 L18.9420649,10.0446627 Z\" id=\"Path-Copy\" fill=\"#0071B2\"></path><g id=\"credit-card\" transform=\"translate(7.000000, 15.000000)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><g id=\"Page-1\"><path d=\"M6.8801,1 L0.3851,1\" id=\"Stroke-12\" stroke=\"#C5C5C8\"></path><path d=\"M13.5867,1 L9.6577,1\" id=\"Stroke-14\" stroke=\"#C5C5C8\"></path><path d=\"M20.532396,1 L16.6577,1\" id=\"Stroke-14-Copy\" stroke=\"#C5C5C8\"></path><path d=\"M30.5867,1 L26.6577,1\" id=\"Stroke-14-Copy-2\" stroke=\"#8C8C91\"></path><path d=\"M11.5112405,10 L0.3851,10\" id=\"Stroke-16\" stroke=\"#C5C5C8\"></path></g></g><g id=\"cvv\" transform=\"translate(30.000000, 6.000000)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><g id=\"Stroke-20\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-2\"></use><path stroke=\"#E9A723\" stroke-width=\"2\" d=\"M12,5.99893884 C12,9.59000227 9.09077785,12.5 5.50106116,12.5 C1.91105879,12.5 -1,9.58971687 -1,5.99893884 C-1,2.40989516 1.91144669,-0.5 5.50106116,-0.5 C9.09039009,-0.5 12,2.40960991 12,5.99893884 Z\"></path></g><g id=\"Group\" transform=\"translate(2.000000, 5.000000)\" stroke=\"#707074\" stroke-width=\"2\"><path d=\"M3,1 L4,1\" id=\"Stroke-14-Copy\"></path><path d=\"M6,1 L7,1\" id=\"Stroke-14-Copy-4\"></path><path d=\"M0,1 L1,1\" id=\"Stroke-14-Copy-3\"></path></g></g></g></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/cvv-generic.svg":
/*!*****************************************!*\
  !*** ./lib/field/icons/cvv-generic.svg ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>CVV-Generic</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect><path d=\"M11,5.99893884 C11,9.03810534 8.53810534,11.5 5.50106116,11.5 C2.46401698,11.5 0,9.03810534 0,5.99893884 C0,2.96189466 2.46401698,0.5 5.50106116,0.5 C8.53810534,0.5 11,2.96189466 11,5.99893884 Z\" id=\"path-2\"></path></defs><g id=\"r3-CVV\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"CVV-Generic-Example\" transform=\"translate(-5.000000, -5.000000)\"><g id=\"CVV-Generic\" transform=\"translate(5.000000, 5.000000)\"><g id=\"CVV\"><g id=\"card-outline\"><use fill=\"#F3F3F4\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><path d=\"M13.8801,20 L7.3851,20\" id=\"Stroke-12\" stroke=\"#A3A3A7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M20.5867,20 L16.6577,20\" id=\"Stroke-14\" stroke=\"#A3A3A7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M26.929,20 L23,20\" id=\"Stroke-14-Copy-10\" stroke=\"#A3A3A7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><g id=\"Group-2\" transform=\"translate(30.000000, 14.000000)\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><g id=\"Stroke-20\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-2\"></use><path stroke=\"#E9A723\" stroke-width=\"2\" d=\"M12,5.99893884 C12,9.59000227 9.09077785,12.5 5.50106116,12.5 C1.91105879,12.5 -1,9.58971687 -1,5.99893884 C-1,2.40989516 1.91144669,-0.5 5.50106116,-0.5 C9.09039009,-0.5 12,2.40960991 12,5.99893884 Z\"></path></g><g id=\"Group\" transform=\"translate(2.000000, 5.000000)\" stroke=\"#707074\"><path d=\"M3,1 L4,1\" id=\"Stroke-14-Copy\"></path><path d=\"M6,1 L7,1\" id=\"Stroke-14-Copy-4\"></path><path d=\"M0,1 L1,1\" id=\"Stroke-14-Copy-3\"></path></g></g><g id=\"credit-card\" transform=\"translate(1.000000, 7.000000)\" fill=\"#FFFFFF\"><rect id=\"Rectangle\" x=\"0\" y=\"0\" width=\"46\" height=\"5\"></rect></g></g></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/diners-club.svg":
/*!*****************************************!*\
  !*** ./lib/field/icons/diners-club.svg ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>diners_club</title><desc>Created with Sketch.</desc><defs><path d=\"M0,3.00001915 C0,1.34315432 1.33389258,0 3.00261497,0 L44.997385,0 C46.6556835,0 48,1.34731857 48,3.00001915 L48,26.9999809 C48,28.6568457 46.6661074,30 44.997385,30 L3.00261497,30 C1.34431651,30 0,28.6526814 0,26.9999809 L0,3.00001915 Z\" id=\"path-1\"></path></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"diners_club\"><g id=\"Rectangle-1-Copy-65\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><path stroke=\"#C5C5C8\" stroke-width=\"1\" d=\"M0.5,3.00001915 L0.5,26.9999809 C0.5,28.3779877 1.62190743,29.5 3.00261497,29.5 L44.997385,29.5 C46.3861928,29.5 47.5,28.3844807 47.5,26.9999809 L47.5,3.00001915 C47.5,1.62201227 46.3780926,0.5 44.997385,0.5 L3.00261497,0.5 C1.61380716,0.5 0.5,1.61551926 0.5,3.00001915 Z\"></path></g><g transform=\"translate(14.000000, 7.000000)\"><circle id=\"Oval-163\" fill=\"#0079BE\" cx=\"8\" cy=\"8\" r=\"8\"></circle><rect id=\"Rectangle-99\" fill=\"#0079BE\" x=\"8\" y=\"0\" width=\"4\" height=\"16\"></rect><path d=\"M12,16 C16.418278,16 20,12.418278 20,8 C20,3.581722 16.418278,0 12,0 C7.581722,0 4,3.581722 4,8 C4,12.418278 7.581722,16 12,16 Z\" id=\"Oval-163-Copy\" fill=\"#0079BE\"></path><circle id=\"Oval-163-Copy-2\" fill=\"#FFFFFF\" cx=\"8\" cy=\"8\" r=\"7\"></circle><circle id=\"Oval-163-Copy-3\" fill=\"#0079BE\" cx=\"8\" cy=\"8\" r=\"4\"></circle><rect id=\"Rectangle-100\" fill=\"#FFFFFF\" x=\"7\" y=\"3\" width=\"2\" height=\"10\"></rect></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/discover.svg":
/*!**************************************!*\
  !*** ./lib/field/icons/discover.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>discover</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"discover\"><g id=\"Rectangle-1-Copy-66\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><g id=\"Fill-1-+-Oval-157-Copy-4\" transform=\"translate(7.000000, 12.000000)\"><path d=\"M0,0.129375 L0,5.85315 L1.5652961,5.85315 C2.39762935,5.85315 2.998523,5.6486031 3.52616283,5.19240824 C4.15317305,4.65196217 4.52390108,3.83753382 4.52390108,2.99524287 C4.52390108,1.3060172 3.31213428,0.129375 1.57357697,0.129375 L0,0.129375 Z M2.82590272,4.42906279 C2.48892986,4.74594324 2.05152337,4.88415 1.35889233,4.88415 L1.07118078,4.88415 L1.07118078,1.099275 L1.35889233,1.099275 C2.05152337,1.099275 2.47173086,1.22819426 2.82590272,1.56210179 C3.19663656,1.90596021 3.41958647,2.43866434 3.41958647,2.98684762 C3.41958647,3.53635769 3.19663656,4.0854255 2.82590272,4.42906279 L2.82590272,4.42906279 Z M5.01717818,0.129375 L6.08923668,0.129375 L6.08923668,5.85315 L5.01717818,5.85315 L5.01717818,0.129375 Z M10.2912349,4.11129733 C10.2912349,5.21939084 9.50964344,5.9907 8.39575344,5.9907 C7.57997659,5.9907 6.98672294,5.65612696 6.49284033,4.90118159 L7.18546503,4.20660531 C7.43240633,4.70371053 7.84411672,4.96995371 8.35541049,4.96995371 C8.83379291,4.96995371 9.18774919,4.62631425 9.18774919,4.1626 C9.18774919,3.92222929 9.08052188,3.71613407 8.86649193,3.57040794 C8.75862763,3.50119356 8.54502234,3.39858821 8.12524336,3.24445906 C7.11858067,2.86698637 6.77311765,2.46342009 6.77311765,1.67486262 C6.77311765,0.737925434 7.51479088,0.034725 8.48726823,0.034725 C9.08986446,0.034725 9.64128884,0.249444378 10.1022601,0.669374449 L9.5412808,1.43427077 C9.26206514,1.10810076 8.99813734,0.970777654 8.67688008,0.970777654 C8.21484717,0.970777654 7.87830206,1.24453933 7.87830206,1.60520597 C7.87830206,1.9143488 8.06706459,2.07798664 8.71042842,2.32587585 C9.92984708,2.79025349 10.2912349,3.20200167 10.2912349,4.11129733 L10.2912349,4.11129733 Z M13.5555904,0 C14.0167746,0 14.4038551,0.103047721 14.8743819,0.351600593 L14.8743819,1.66512734 C14.4286979,1.21114242 14.0416174,1.02118965 13.5303229,1.02118965 C12.5247205,1.02118965 11.73421,1.88802885 11.73421,2.98683598 C11.73421,4.14601228 12.5005147,4.96132762 13.5802209,4.96132762 C14.0662479,4.96132762 14.4456844,4.78110467 14.8743819,4.33441713 L14.8743819,5.64860727 C14.3868686,5.88765144 13.9917195,5.982075 13.5303229,5.982075 C11.8979176,5.982075 10.6294487,4.67761469 10.6294487,2.99523902 C10.6294487,1.33099621 11.931466,0 13.5555904,0 L13.5555904,0 Z M25.5901525,0.129375 L26.7522371,0.129375 L24.3779578,6 L23.8012683,6 L21.468818,0.129375 L22.6400329,0.129375 L24.1055378,3.97398425 L25.5901525,0.129375 L25.5901525,0.129375 Z M27.2370296,0.129375 L30.2773691,0.129375 L30.2773691,1.09925899 L28.3082296,1.09925899 L28.3082296,2.36966107 L30.2047526,2.36966107 L30.2047526,3.33910279 L28.3082296,3.33910279 L28.3082296,4.88415054 L30.2773691,4.88415054 L30.2773691,5.85315 L27.2370296,5.85315 L27.2370296,0.129375 L27.2370296,0.129375 Z M34.5218298,1.81926406 C34.5218298,0.747659458 33.8130677,0.129375 32.5768746,0.129375 L30.9871498,0.129375 L30.9871498,5.85315 L32.0579368,5.85315 L32.0579368,3.55382175 L32.1978632,3.55382175 L33.6816346,5.85315 L35,5.85315 L33.2697118,3.44170794 C34.0772079,3.27077307 34.5218298,2.69560931 34.5218298,1.81926406 L34.5218298,1.81926406 Z M32.3711527,2.76465 L32.0579649,2.76465 L32.0579649,1.03095 L32.3881391,1.03095 C33.0557068,1.03095 33.4187923,1.3224062 33.4187923,1.87922464 C33.4187923,2.45483958 33.0557068,2.76465 32.3711527,2.76465 L32.3711527,2.76465 Z\" id=\"Fill-1\" fill=\"#1A1919\"></path><circle id=\"Oval-157\" fill=\"#F58220\" cx=\"18\" cy=\"3\" r=\"3\"></circle></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/elo.svg":
/*!*********************************!*\
  !*** ./lib/field/icons/elo.svg ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 2337.9 1104.7\" style=\"enable-background:new 0 0 2337.9 1104.7;\" xml:space=\"preserve\"><style type=\"text/css\"> .st0{fill:#FFCB05;} .st1{fill:#00A4E0;} .st2{fill:#EF4123;} </style><g><g><g><path class=\"st0\" d=\"M481.7,338.4c22.5-7.5,46.5-11.5,71.4-11.5c109,0,200,77.4,220.8,180.3l154.5-31.5 c-35.4-174.8-190-306.4-375.3-306.4c-42.5,0-83.2,6.9-121.4,19.7L481.7,338.4z\"></path><path class=\"st1\" d=\"M299.4,839l104.5-118.1c-46.6-41.3-76-101.6-76-168.8c0-67.1,29.4-127.4,76-168.6L299.4,265.3 C220.2,335.5,170.2,438,170.2,552.1C170.2,666.3,220.2,768.8,299.4,839\"></path><path class=\"st2\" d=\"M773.9,597.3C753,700.1,662.1,777.4,553.2,777.4c-25,0-49.1-4-71.5-11.6l-50,149.6 c38.2,12.7,79,19.6,121.5,19.6c185.1,0,339.6-131.4,375.2-306L773.9,597.3z\"></path></g></g><path d=\"M1063.5,725.8c-5.1-8.2-11.9-21.3-16.1-31c-24.5-56.8-25.6-115.6-5-172c22.7-61.9,66.1-109.2,122.2-133.4 c70.5-30.3,148.4-24.4,216,15.7c42.9,24.6,73.3,62.6,96.4,116.4c2.9,6.9,5.5,14.2,8.1,20.5L1063.5,725.8z M1204.3,480.7 c-50.1,21.5-75.9,68.5-70.5,123.5l212-91.3C1309.3,470.1,1261.9,455.9,1204.3,480.7z M1372.2,679.3c-0.1,0-0.1,0.1-0.1,0.1l-4.4-3 c-12.7,20.5-32.4,37.2-57.3,48c-47.4,20.6-91.3,15.3-122.9-12.4l-2.9,4.4c0,0,0-0.1-0.1-0.1l-53.8,80.5 c13.4,9.3,27.7,17.1,42.7,23.4c59.4,24.7,120.2,23.5,180.1-2.5c43.3-18.8,77.3-47.4,100.5-83.7L1372.2,679.3z\"></path><path d=\"M1632.4,271v447.4l69.6,28.2l-39.5,92.2l-76.8-32c-17.2-7.5-29-18.9-37.8-31.8c-8.5-13.1-14.8-31.2-14.8-55.4V271H1632.4z\"></path><g><path d=\"M1812.6,604.5c0-38.1,16.9-72.3,43.5-95.5l-71.4-79.6c-48.4,42.8-78.9,105.3-78.9,174.9c-0.1,69.7,30.4,132.3,78.7,175.1 l71.3-79.6C1829.3,676.5,1812.6,642.5,1812.6,604.5z\"></path><path d=\"M1939.4,731.4c-14,0-27.6-2.4-40.2-6.6l-34.1,101.3c23.3,7.8,48.2,12.1,74.2,12.1c113,0.1,207.3-80.1,229.2-186.6 l-104.8-21.4C2051.8,688.1,2000.7,731.5,1939.4,731.4z\"></path><path d=\"M1939.7,370.8c-25.9,0-50.8,4.2-74.1,11.9l33.8,101.4c12.7-4.2,26.2-6.5,40.2-6.5c61.4,0.1,112.6,43.7,124.2,101.7 l104.8-21.2C2147.1,451.4,2052.8,370.9,1939.7,370.8z\"></path></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/generic-valid.svg":
/*!*******************************************!*\
  !*** ./lib/field/icons/generic-valid.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>generic_card_good</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"generic_card_good\"><g id=\"Generic-Card\"><g id=\"Rectangle-1-Copy-68\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><g id=\"credit-card\" transform=\"translate(7.000000, 7.000000)\"><g id=\"Page-1\"><path d=\"M6.8801,15 L0.3851,15\" id=\"Stroke-12\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M13.5867,15 L9.6577,15\" id=\"Stroke-14\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M23.5182444,15 L16.6577,15\" id=\"Stroke-14-Copy\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M30.5867,15 L26.6577,15\" id=\"Stroke-14-Copy-2\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M30.5041505,11 L0.3851,11\" id=\"Stroke-16\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M5.5676,3.0588 C5.5676,4.4908 4.4076,5.6508 2.9766,5.6508 C1.5456,5.6508 0.3846,4.4908 0.3846,3.0588 C0.3846,1.6278 1.5456,0.4678 2.9766,0.4678 C4.4076,0.4678 5.5676,1.6278 5.5676,3.0588\" id=\"Fill-18\" fill=\"#C4C4C7\"></path><path d=\"M5.56300011,3.0588 C5.56300011,4.4908 4.40300011,5.6508 2.97200011,5.6508 C1.54100011,5.6508 0.380000114,4.4908 0.380000114,3.0588 C0.380000114,1.6278 1.54100011,0.4678 2.97200011,0.4678 C4.40300011,0.4678 5.56300011,1.6278 5.56300011,3.0588 Z\" id=\"Stroke-20\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M9.7141,3.0588 C9.7141,4.4908 8.5541,5.6508 7.1231,5.6508 C5.6921,5.6508 4.5311,4.4908 4.5311,3.0588 C4.5311,1.6278 5.6921,0.4678 7.1231,0.4678 C8.5541,0.4678 9.7141,1.6278 9.7141,3.0588\" id=\"Fill-22\" fill=\"#FEFEFE\"></path><path d=\"M9.7141,3.0588 C9.7141,4.4908 8.5541,5.6508 7.1231,5.6508 C5.6921,5.6508 4.5311,4.4908 4.5311,3.0588 C4.5311,1.6278 5.6921,0.4678 7.1231,0.4678 C8.5541,0.4678 9.7141,1.6278 9.7141,3.0588 Z\" id=\"Stroke-24\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></g></g></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/generic.svg":
/*!*************************************!*\
  !*** ./lib/field/icons/generic.svg ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>generic_card</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"generic_card\"><g id=\"Generic-Card\"><g id=\"Rectangle-1-Copy-68\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><g id=\"credit-card\" opacity=\"0.5\" transform=\"translate(7.000000, 7.000000)\"><g id=\"Page-1\"><path d=\"M6.8801,15 L0.3851,15\" id=\"Stroke-12\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M13.5867,15 L9.6577,15\" id=\"Stroke-14\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M23.5182444,15 L16.6577,15\" id=\"Stroke-14-Copy\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M30.5867,15 L26.6577,15\" id=\"Stroke-14-Copy-2\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M30.5041505,11 L0.3851,11\" id=\"Stroke-16\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M5.5676,3.0588 C5.5676,4.4908 4.4076,5.6508 2.9766,5.6508 C1.5456,5.6508 0.3846,4.4908 0.3846,3.0588 C0.3846,1.6278 1.5456,0.4678 2.9766,0.4678 C4.4076,0.4678 5.5676,1.6278 5.5676,3.0588\" id=\"Fill-18\" fill=\"#C4C4C7\"></path><path d=\"M5.56300011,3.0588 C5.56300011,4.4908 4.40300011,5.6508 2.97200011,5.6508 C1.54100011,5.6508 0.380000114,4.4908 0.380000114,3.0588 C0.380000114,1.6278 1.54100011,0.4678 2.97200011,0.4678 C4.40300011,0.4678 5.56300011,1.6278 5.56300011,3.0588 Z\" id=\"Stroke-20\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path><path d=\"M9.7141,3.0588 C9.7141,4.4908 8.5541,5.6508 7.1231,5.6508 C5.6921,5.6508 4.5311,4.4908 4.5311,3.0588 C4.5311,1.6278 5.6921,0.4678 7.1231,0.4678 C8.5541,0.4678 9.7141,1.6278 9.7141,3.0588\" id=\"Fill-22\" fill=\"#FEFEFE\"></path><path d=\"M9.7141,3.0588 C9.7141,4.4908 8.5541,5.6508 7.1231,5.6508 C5.6921,5.6508 4.5311,4.4908 4.5311,3.0588 C4.5311,1.6278 5.6921,0.4678 7.1231,0.4678 C8.5541,0.4678 9.7141,1.6278 9.7141,3.0588 Z\" id=\"Stroke-24\" stroke=\"#8C8C91\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></g></g></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/hipercard.svg":
/*!***************************************!*\
  !*** ./lib/field/icons/hipercard.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg viewBox=\"0 0 512 223\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\"><g><path d=\"M140.554538,0 L87.4900387,0 C64.043846,1.10858841 44.8782319,10.5521938 39.3443354,30.0263634 C36.4587893,40.1825609 34.8707842,51.3367896 32.6144097,61.8648617 C21.1435851,115.397722 10.9723116,170.404009 0,222.867478 L413.120547,222.867478 C445.058547,222.867478 466.987089,216.118457 472.913967,190.770678 C475.666844,178.995318 478.304139,165.65708 480.938418,152.719863 C491.206178,102.277583 501.482984,51.8383178 512,0 L140.554538,0\" fill=\"#B82126\"></path><path d=\"M353.699639,133.153129 C347.970259,138.762039 331.887435,140.355263 333.532863,126.94789 C334.8992,115.812392 347.022557,113.446149 360.162886,115.054431 C359.186071,121.145224 358.065694,128.879435 353.699639,133.153129 Z M335.600941,89.7164549 C335.053804,92.7884549 334.213522,95.5683137 333.532863,98.5067922 C340.09349,96.8623686 360.52229,91.8186667 362.49098,100.574871 C363.144533,103.484235 362.017129,106.57531 361.197929,108.849192 C342.723765,107.099357 327.666949,110.168345 323.707482,123.327749 C321.055122,132.14218 324.004643,140.816063 329.654714,143.237522 C340.53622,147.898729 353.771922,142.558871 358.35382,135.222212 C357.877961,137.762133 357.4272,140.327153 357.577788,143.495529 L367.144157,143.495529 C367.245553,134.333741 368.578761,126.917773 369.988267,118.673569 C371.189961,111.653145 373.449788,104.702996 373.090384,98.5067922 C372.269176,84.3163608 348.760345,89.3359686 335.600941,89.7164549 Z M431.523639,137.548298 C424.039404,137.708925 420.317867,133.076831 420.1472,125.396831 C419.849035,111.94629 425.749082,97.0029176 437.728878,95.6626824 C443.306667,95.0392471 447.345443,96.3363137 451.432408,97.7317647 C447.680753,112.83978 449.035043,137.172831 431.523639,137.548298 Z M456.344596,66.4465569 C455.391875,74.8011922 454.117898,82.8355765 452.467451,90.4914824 C425.195922,81.8597647 408.470588,101.924141 408.770761,126.688878 C408.829992,131.478588 409.654212,136.228141 412.649914,139.616376 C417.812078,145.455184 432.59382,146.851639 440.055969,141.944471 C441.501616,140.994761 442.97738,139.266008 443.935122,138.066322 C444.653929,137.162792 445.796392,134.799561 446.002196,135.479216 C445.610667,138.104471 445.024376,140.534965 444.969161,143.495529 L455.052549,143.495529 C456.995137,115.618635 463.004612,91.8076235 467.463027,66.4465569 L456.344596,66.4465569 Z M171.67862,133.412141 C165.730384,139.711749 151.107263,139.615373 149.960784,129.015969 C149.460831,124.403953 151.179545,119.568063 152.028863,114.796424 C152.88822,109.966557 153.506635,105.332455 154.354949,101.09189 C160.213835,93.9379451 177.430086,93.0745725 179.17691,104.971043 C180.692831,115.299388 176.604863,128.194761 171.67862,133.412141 Z M180.469961,89.7164549 C171.060204,86.1816471 159.591404,90.4011294 154.619984,94.4148078 C154.637051,94.591498 154.501522,94.6155922 154.354949,94.6286431 C154.440282,94.5573647 154.531639,94.4860863 154.619984,94.4148078 C154.61898,94.399749 154.617976,94.386698 154.613961,94.3706353 C154.69829,92.6438902 155.305663,91.4421961 155.389992,89.7164549 L145.823624,89.7164549 C141.837051,116.239059 137.109584,142.019765 132.120094,167.540455 L143.237522,167.540455 C144.846808,157.600627 145.909961,147.115671 148.150714,137.80731 C150.689631,147.597553 167.268392,145.726243 174.263718,141.944471 C188.699106,134.13898 199.832596,96.9898667 180.469961,89.7164549 Z M233.213992,108.332173 L207.100988,108.332173 C207.927216,102.328722 213.328314,95.7299451 221.837553,95.4046745 C229.846839,95.0984784 235.581239,98.3451608 233.213992,108.332173 Z M222.613584,88.6824157 C214.580204,89.3008314 207.789678,91.6128627 202.963827,96.6967216 C197.044706,102.933082 192.25098,116.719937 193.655467,129.27498 C195.659294,147.186949 217.961412,146.544439 235.800094,142.202478 C236.103278,139.0592 236.864251,136.371702 237.351153,133.412141 C230.002447,136.161882 217.243608,139.999875 209.686086,135.222212 C203.979796,131.614118 203.946667,122.477427 205.807937,114.537412 C217.796769,114.155922 230.257443,114.229208 242.263341,114.537412 C243.025318,108.909427 245.204831,102.773459 243.29738,97.2147451 C240.781553,89.8760784 231.77738,87.9766588 222.613584,88.6824157 Z M124.880816,89.7164549 C124.579639,89.7596235 124.599718,90.125051 124.621804,90.4914824 C122.172235,108.812047 118.857286,126.268235 115.314447,143.495529 L126.431875,143.495529 C129.10331,125.051482 132.163263,106.996957 135.998243,89.7164549 L124.880816,89.7164549 Z M414.977004,89.9744627 C405.15062,85.0622745 396.970667,93.3054745 393.776188,98.2477804 C394.685741,95.7118745 394.737945,92.3166118 395.585255,89.7164549 L385.759875,89.7164549 C383.111529,108.182588 379.917051,126.103592 376.193506,143.495529 L387.569945,143.495529 C387.642227,136.367686 389.041694,131.09509 390.155043,124.10378 C392.533333,109.178478 396.022965,92.8095373 413.425945,97.7317647 C414.0032,95.206902 414.243137,92.3437176 414.977004,89.9744627 Z M290.095184,130.826039 C289.071184,128.178698 288.805145,123.80662 289.061145,120.483639 C289.636392,113.012455 292.358024,103.916925 296.559435,99.7998431 C302.357082,94.1166431 313.802792,95.0573176 322.931451,98.2477804 C323.214557,95.1707608 323.832973,92.4270431 324.224502,89.4584471 C309.252016,87.0128941 295.043514,88.5338353 287.510086,96.4387137 C280.136282,104.176941 275.301396,121.962416 278.718745,133.153129 C282.719373,146.248282 300.653427,146.960063 315.176157,141.944471 C315.817663,139.312188 316.157992,136.377725 316.727216,133.670149 C308.79222,137.793255 293.621961,139.935624 290.095184,130.826039 Z M283.890949,89.7164549 C274.032439,85.734902 266.283169,92.4631843 262.690133,98.7658039 C263.504314,95.961851 263.840627,92.6780235 264.4992,89.7164549 L254.67382,89.7164549 C252.272439,108.34422 248.731608,125.832533 245.366463,143.495529 L256.484894,143.495529 C258.04298,133.010573 258.715608,118.878369 262.17211,108.849192 C264.934902,100.834886 272.165145,94.0072157 282.597898,97.7317647 C282.744471,94.7752157 283.590776,92.5184 283.890949,89.7164549 Z M104.714039,67.9976157 C103.125835,78.3028706 101.336847,88.4073412 99.5428392,98.5067922 C88.0248471,98.6282667 76.2649098,99.0760157 65.1555137,98.2477804 C67.2537098,88.3681882 68.7585882,77.8932706 70.8427294,67.9976157 L58.4332549,67.9976157 C53.989898,93.2030745 49.9491137,118.809098 44.9887373,143.495529 L57.6572235,143.495529 C59.6449882,130.831059 61.5032471,118.038086 64.1204706,106.005082 C74.9226667,105.739043 87.8692392,105.275231 98.2497882,106.264094 C96.1094275,118.774965 93.5233255,130.83909 91.5275294,143.495529 L104.19702,143.495529 C108.266918,117.91862 112.556675,92.5605647 117.641537,67.9976157 L104.714039,67.9976157 Z M136.257255,79.3740549 C138.473914,77.8480941 141.328063,70.8929255 138.067325,67.9976157 C137.03429,67.0810353 135.305537,66.8149961 132.896125,67.2225882 C130.660392,67.6000627 129.374369,68.3590275 128.500957,69.5486745 C127.095467,71.462149 125.808439,77.2306824 127.982933,79.3740549 C130.101208,81.4612078 134.846745,80.3448471 136.257255,79.3740549 L136.257255,79.3740549 Z\" fill=\"#FFFFFF\"></path></g></svg>"

/***/ }),

/***/ "./lib/field/icons/index.js":
/*!**********************************!*\
  !*** ./lib/field/icons/index.js ***!
  \**********************************/
/*! exports provided: ICONS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ICONS", function() { return ICONS; });
/* harmony import */ var _amex_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./amex.svg */ "./lib/field/icons/amex.svg");
/* harmony import */ var _amex_svg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_amex_svg__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cvv_generic_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cvv-generic.svg */ "./lib/field/icons/cvv-generic.svg");
/* harmony import */ var _cvv_generic_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_cvv_generic_svg__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _cvv_amex_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cvv-amex.svg */ "./lib/field/icons/cvv-amex.svg");
/* harmony import */ var _cvv_amex_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_cvv_amex_svg__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _diners_club_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./diners-club.svg */ "./lib/field/icons/diners-club.svg");
/* harmony import */ var _diners_club_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_diners_club_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _discover_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./discover.svg */ "./lib/field/icons/discover.svg");
/* harmony import */ var _discover_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_discover_svg__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _elo_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./elo.svg */ "./lib/field/icons/elo.svg");
/* harmony import */ var _elo_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_elo_svg__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _generic_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./generic.svg */ "./lib/field/icons/generic.svg");
/* harmony import */ var _generic_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_generic_svg__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _generic_valid_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./generic-valid.svg */ "./lib/field/icons/generic-valid.svg");
/* harmony import */ var _generic_valid_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_generic_valid_svg__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _hipercard_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hipercard.svg */ "./lib/field/icons/hipercard.svg");
/* harmony import */ var _hipercard_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_hipercard_svg__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _jcb_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./jcb.svg */ "./lib/field/icons/jcb.svg");
/* harmony import */ var _jcb_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_jcb_svg__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _mastercard_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./mastercard.svg */ "./lib/field/icons/mastercard.svg");
/* harmony import */ var _mastercard_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_mastercard_svg__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _tarjeta_naranja_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./tarjeta-naranja.svg */ "./lib/field/icons/tarjeta-naranja.svg");
/* harmony import */ var _tarjeta_naranja_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_tarjeta_naranja_svg__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _union_pay_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./union-pay.svg */ "./lib/field/icons/union-pay.svg");
/* harmony import */ var _union_pay_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_union_pay_svg__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _visa_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./visa.svg */ "./lib/field/icons/visa.svg");
/* harmony import */ var _visa_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_visa_svg__WEBPACK_IMPORTED_MODULE_13__);















var iconize = function iconize(str) {
  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'front';
  var icon = window.document.createElement('div');
  icon.className = "recurly-hosted-field-icon-".concat(side);
  icon.innerHTML = str;
  return icon;
};

var ICONS = {
  american_express: iconize(_amex_svg__WEBPACK_IMPORTED_MODULE_0___default.a),
  cvvBack: iconize(_cvv_generic_svg__WEBPACK_IMPORTED_MODULE_1___default.a, 'back'),
  cvvFront: iconize(_cvv_amex_svg__WEBPACK_IMPORTED_MODULE_2___default.a),
  diners_club: iconize(_diners_club_svg__WEBPACK_IMPORTED_MODULE_3___default.a),
  discover: iconize(_discover_svg__WEBPACK_IMPORTED_MODULE_4___default.a),
  elo: iconize(_elo_svg__WEBPACK_IMPORTED_MODULE_5___default.a),
  generic: iconize(_generic_svg__WEBPACK_IMPORTED_MODULE_6___default.a),
  genericValid: iconize(_generic_valid_svg__WEBPACK_IMPORTED_MODULE_7___default.a),
  hipercard: iconize(_hipercard_svg__WEBPACK_IMPORTED_MODULE_8___default.a),
  jcb: iconize(_jcb_svg__WEBPACK_IMPORTED_MODULE_9___default.a),
  master: iconize(_mastercard_svg__WEBPACK_IMPORTED_MODULE_10___default.a),
  tarjeta_naranja: iconize(_tarjeta_naranja_svg__WEBPACK_IMPORTED_MODULE_11___default.a),
  union_pay: iconize(_union_pay_svg__WEBPACK_IMPORTED_MODULE_12___default.a),
  visa: iconize(_visa_svg__WEBPACK_IMPORTED_MODULE_13___default.a)
};

/***/ }),

/***/ "./lib/field/icons/jcb.svg":
/*!*********************************!*\
  !*** ./lib/field/icons/jcb.svg ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>jcb</title><desc>Created with Sketch.</desc><defs><path d=\"M0,3.00001915 C0,1.34315432 1.33389258,1.67128345e-15 3.00261497,1.61152042e-15 L44.997385,1.0753459e-16 C46.6556835,4.81448757e-17 48,1.34731857 48,3.00001915 L48,26.9999809 C48,28.6568457 46.6661074,30 44.997385,30 L3.00261497,30 C1.34431651,30 0,28.6526814 0,26.9999809 L0,3.00001915 Z\" id=\"path-1\"></path></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"jcb\"><g id=\"Rectangle-1-Copy-64\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><path stroke=\"#C5C5C8\" stroke-width=\"1\" d=\"M0.5,3.00001915 L0.5,26.9999809 C0.5,28.3779877 1.62190743,29.5 3.00261497,29.5 L44.997385,29.5 C46.3861928,29.5 47.5,28.3844807 47.5,26.9999809 L47.5,3.00001915 C47.5,1.62201227 46.3780926,0.5 44.997385,0.5 L3.00261497,0.5 C1.61380716,0.5 0.5,1.61551926 0.5,3.00001915 Z\"></path></g><g id=\"Rectangle-113-+-Rectangle-113-Copy-+-Rectangle-113-Copy-2-Copy-Copy-Copy-Copy-Copy\" transform=\"translate(16.000000, 8.000000)\"><path d=\"M0,2.00585866 C0,0.898053512 0.887729645,0 2,0 L4,0 L4,11.9941413 C4,13.1019465 3.11227036,14 2,14 L0,14 L0,2.00585866 Z\" id=\"Rectangle-113\" fill=\"#005CAC\"></path><path d=\"M6,2.00585866 C6,0.898053512 6.88772964,0 8,0 L10,0 L10,11.9941413 C10,13.1019465 9.11227036,14 8,14 L6,14 L6,2.00585866 Z\" id=\"Rectangle-113-Copy\" fill=\"#D80032\"></path><path d=\"M12,2.00585866 C12,0.898053512 12.8877296,0 14,0 L16,0 L16,11.9941413 C16,13.1019465 15.1122704,14 14,14 L12,14 L12,2.00585866 Z\" id=\"Rectangle-113-Copy-2\" fill=\"#4BB126\"></path></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/mastercard.svg":
/*!****************************************!*\
  !*** ./lib/field/icons/mastercard.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>mastercard</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect><path d=\"M3,13.2453 C4.82892497,11.7791839 6,9.5263261 6,6.99995 C6,4.4735739 4.82892497,2.22071611 3,0.7546 C1.17107503,2.22071611 0,4.4735739 0,6.99995 C0,9.5263261 1.17107503,11.7791839 3,13.2453 L3,13.2453 Z\" id=\"path-2\"></path></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"mastercard\"><g id=\"Rectangle-1-Copy-51\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><g transform=\"translate(11.000000, 7.000000)\"><circle id=\"Oval-1\" fill=\"#E41B24\" cx=\"8\" cy=\"8\" r=\"8\"></circle><circle id=\"Oval-1-Copy\" fill=\"#F89E1B\" cx=\"18\" cy=\"8\" r=\"8\"></circle><g id=\"Group\" transform=\"translate(10.000000, 1.000000)\"><mask id=\"mask-3\" fill=\"white\"><use xlink:href=\"#path-2\"></use></mask><use id=\"Mask\" fill=\"#F16522\" xlink:href=\"#path-2\"></use></g></g></g></g></svg>"

/***/ }),

/***/ "./lib/field/icons/tarjeta-naranja.svg":
/*!*********************************************!*\
  !*** ./lib/field/icons/tarjeta-naranja.svg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0)\"><path d=\"M0 13.108V10.1493C2.49861 10.1463 4.52316 8.15599 4.52582 5.69994V1.58368H7.53539V5.69994C7.53539 9.78428 4.15515 13.108 0 13.108Z\" fill=\"#FF9E16\"></path><path d=\"M0 13.108V10.1493C2.49861 10.1463 4.52316 8.15599 4.52582 5.69994V1.58368H7.53539V5.69994C7.53539 9.78428 4.15515 13.108 0 13.108Z\" fill=\"url(#paint0_linear)\"></path><path d=\"M15.8429 0.623888C15.9177 0.703673 15.9586 0.809388 15.957 0.919093C15.9571 0.977321 15.9458 1.03501 15.9236 1.08883C15.9014 1.14266 15.8687 1.19156 15.8275 1.23272C15.7864 1.27387 15.7374 1.30648 15.6836 1.32865C15.6297 1.35082 15.5721 1.36212 15.5138 1.3619C15.4555 1.36292 15.3976 1.3519 15.3437 1.32953C15.2898 1.30717 15.2411 1.27394 15.2007 1.23192C15.1582 1.19018 15.1248 1.14018 15.1024 1.085C15.08 1.02982 15.0693 0.970635 15.0707 0.911115C15.0707 0.787447 15.1245 0.669764 15.2183 0.588649C15.2981 0.51385 15.4045 0.473293 15.5138 0.47562C15.6402 0.473625 15.7605 0.528145 15.8429 0.623555V0.623888ZM15.2568 0.687383C15.1981 0.751898 15.1658 0.836169 15.1664 0.923415C15.1691 1.02049 15.2106 1.11224 15.2821 1.17773C15.3321 1.22231 15.394 1.25149 15.4602 1.26177C15.5264 1.27205 15.5941 1.26298 15.6553 1.23566C15.7165 1.20834 15.7684 1.16393 15.805 1.10777C15.8415 1.05161 15.861 0.986089 15.8612 0.919093C15.8614 0.870131 15.8509 0.821719 15.8305 0.777226C15.81 0.732733 15.7801 0.693226 15.7429 0.661453C15.6789 0.601926 15.5942 0.569926 15.5068 0.57236C15.4594 0.57207 15.4125 0.582224 15.3694 0.602102C15.3263 0.621981 15.2881 0.651096 15.2575 0.687383H15.2568ZM15.6551 0.830997C15.6013 0.771823 15.5753 0.758858 15.5251 0.758858C15.5046 0.758392 15.4841 0.762267 15.4652 0.770229C15.4462 0.778192 15.4292 0.790062 15.4151 0.805067C15.4006 0.819982 15.3893 0.837634 15.3818 0.856987C15.3742 0.87634 15.3706 0.897003 15.3712 0.917764C15.3706 0.938751 15.3742 0.959647 15.382 0.97915C15.3898 0.998653 15.4015 1.01635 15.4164 1.03113C15.4303 1.04596 15.4472 1.05773 15.4659 1.06569C15.4846 1.07365 15.5048 1.07761 15.5251 1.07733C15.5455 1.07782 15.5656 1.07349 15.584 1.0647C15.6099 1.04808 15.6338 1.02813 15.6551 1.00586L15.7366 1.07833C15.7311 1.08378 15.7256 1.0891 15.7199 1.09429C15.695 1.12067 15.665 1.14166 15.6317 1.15596C15.5983 1.17025 15.5624 1.17755 15.5261 1.1774C15.489 1.17832 15.4521 1.17106 15.4181 1.15612C15.3841 1.14118 15.3538 1.11894 15.3293 1.09096C15.2846 1.04298 15.2605 0.979355 15.2622 0.913774C15.2621 0.879149 15.2689 0.844849 15.2821 0.812858C15.2954 0.780868 15.3148 0.751822 15.3394 0.7274C15.3639 0.702977 15.3931 0.683664 15.4251 0.670575C15.4572 0.657487 15.4915 0.650884 15.5261 0.651148C15.6059 0.654472 15.68 0.691705 15.7306 0.752874L15.6551 0.830997Z\" fill=\"#FF5000\"></path><path d=\"M13.1244 15.9869C12.8538 15.9873 12.5881 15.9147 12.3554 15.7766C12.1226 15.6385 11.9316 15.4401 11.8023 15.2023L4.6143 2.24386C4.48863 2.01289 4.42614 1.75286 4.43315 1.49001C4.44015 1.22717 4.5164 0.970825 4.6542 0.746884C4.79263 0.522408 4.98766 0.338273 5.2197 0.212942C5.45175 0.0876107 5.71267 0.025489 5.97631 0.0328057C6.23975 0.0397093 6.49675 0.115731 6.72156 0.253252C6.94637 0.390773 7.13108 0.584964 7.25719 0.816364L14.4452 13.7772C14.5693 14.005 14.632 14.2612 14.627 14.5206C14.622 14.78 14.5495 15.0337 14.4166 15.2565C14.2832 15.4798 14.0942 15.6647 13.868 15.7932C13.6418 15.9216 13.3862 15.9891 13.1261 15.9892L13.1244 15.9869Z\" fill=\"#98252B\"></path><path d=\"M13.1869 15.9892C12.391 15.9892 11.7461 15.319 11.7461 14.4923V1.52914C11.7461 0.702362 12.391 0.0321655 13.1869 0.0321655C13.9824 0.0321655 14.6273 0.702362 14.6273 1.52914V14.4923C14.6273 15.319 13.9824 15.9892 13.1869 15.9892Z\" fill=\"#FF5000\"></path></g><defs><linearGradient id=\"paint0_linear\" x1=\"0.965359\" y1=\"6.60794\" x2=\"7.21649\" y2=\"7.31186\" gradientUnits=\"userSpaceOnUse\"><stop stop-color=\"#FF9E16\" stop-opacity=\"0\"></stop><stop offset=\"0.04\" stop-color=\"#FD9516\" stop-opacity=\"0.07\"></stop><stop offset=\"0.17\" stop-color=\"#F67717\" stop-opacity=\"0.31\"></stop><stop offset=\"0.3\" stop-color=\"#F05E18\" stop-opacity=\"0.52\"></stop><stop offset=\"0.43\" stop-color=\"#EB4819\" stop-opacity=\"0.7\"></stop><stop offset=\"0.57\" stop-color=\"#E73819\" stop-opacity=\"0.83\"></stop><stop offset=\"0.69\" stop-color=\"#E42C1A\" stop-opacity=\"0.92\"></stop><stop offset=\"0.82\" stop-color=\"#E3251A\" stop-opacity=\"0.98\"></stop><stop offset=\"0.93\" stop-color=\"#E2231A\"></stop></linearGradient><clipPath id=\"clip0\"><rect width=\"16\" height=\"16\" fill=\"white\"></rect></clipPath></defs></svg>"

/***/ }),

/***/ "./lib/field/icons/union-pay.svg":
/*!***************************************!*\
  !*** ./lib/field/icons/union-pay.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg viewBox=\"0 0 48 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><title>union-pay</title><path d=\"M45 0H3C1.34315 0 0 1.34315 0 3V27C0 28.6569 1.34315 30 3 30H45C46.6569 30 48 28.6569 48 27V3C48 1.34315 46.6569 0 45 0Z\" fill=\"white\"></path><path d=\"M44.5 0.5H3.5C1.84315 0.5 0.5 1.84315 0.5 3.5V26.5C0.5 28.1569 1.84315 29.5 3.5 29.5H44.5C46.1569 29.5 47.5 28.1569 47.5 26.5V3.5C47.5 1.84315 46.1569 0.5 44.5 0.5Z\" stroke=\"#C5C5C8\"></path><path d=\"M12.5062 3H22.0822C23.4181 3 24.2436 4.09568 23.9434 5.43152L19.4856 24.5685C19.1704 25.9043 17.8346 27 16.4987 27H6.92275C5.58691 27 4.76139 25.9043 5.06158 24.5685L9.51937 5.43152C9.83457 4.09568 11.1704 3 12.5062 3Z\" fill=\"#E21836\"></path><path d=\"M21.2867 3H32.2886C33.6244 3 33.0241 4.09568 32.7089 5.43152L28.2661 24.5685C27.9509 25.9043 28.056 27 26.7051 27H15.7032C14.3674 27 13.5419 25.9043 13.8571 24.5685L18.2999 5.43152C18.6151 4.09568 19.9509 3 21.2867 3Z\" fill=\"#00447C\"></path><path d=\"M31.8533 3H41.4293C42.7652 3 43.6057 4.09568 43.2905 5.43152L38.8327 24.5685C38.5175 25.9043 37.1817 27 35.8458 27H26.2849C24.949 27 24.1085 25.9043 24.4237 24.5685L28.8665 5.43152C29.1817 4.09568 30.5175 3 31.8533 3Z\" fill=\"#007B84\"></path><path d=\"M15.0128 9.13883C14.0222 9.15384 13.737 9.13883 13.6469 9.12382C13.6169 9.28893 12.9415 12.3508 12.9415 12.3659C12.7914 12.9812 12.7014 13.4315 12.3411 13.7167C12.146 13.8818 11.9059 13.9568 11.6357 13.9568C11.2004 13.9568 10.9453 13.7467 10.9002 13.3265L10.8852 13.1914C10.8852 13.1914 11.0203 12.3659 11.0203 12.3508C11.0203 12.3508 11.7107 9.5591 11.8458 9.18386C11.8458 9.16885 11.8608 9.15384 11.8608 9.13883C10.51 9.15384 10.2698 9.13883 10.2398 9.12382C10.2248 9.15384 10.1948 9.33396 10.1948 9.33396L9.48935 12.4859L9.42931 12.7561L9.30923 13.6266C9.30923 13.8818 9.35426 14.0919 9.45933 14.272C9.78953 14.8424 10.7051 14.9174 11.2304 14.9174C11.9059 14.9174 12.5363 14.7674 12.9715 14.5122C13.707 14.0769 13.9021 13.3865 14.0822 12.7861L14.1573 12.4559C14.1573 12.4559 14.8777 9.5591 14.9978 9.18386C14.9978 9.15384 15.0128 9.13883 15.0128 9.13883ZM17.4593 11.4653C17.2792 11.4653 16.964 11.5103 16.6788 11.6454C16.5738 11.7054 16.4837 11.7655 16.3787 11.8255L16.4687 11.4953L16.4237 11.4353C15.8233 11.5553 15.6882 11.5704 15.1329 11.6454L15.0878 11.6754C15.0278 12.2158 14.9678 12.621 14.7276 13.6717C14.6376 14.0619 14.5475 14.4522 14.4424 14.8424L14.4725 14.8874C15.0428 14.8574 15.2229 14.8574 15.7182 14.8724L15.7633 14.8274C15.8233 14.5122 15.8383 14.4221 15.9734 13.7767C16.0334 13.4615 16.1685 12.7861 16.2436 12.546C16.3636 12.4859 16.4837 12.4259 16.6038 12.4259C16.889 12.4259 16.8439 12.666 16.8439 12.7711C16.8289 12.9362 16.7239 13.4615 16.6338 13.9118L16.5588 14.212C16.5137 14.4221 16.4537 14.6323 16.4087 14.8574L16.4237 14.9024C16.979 14.8724 17.1591 14.8724 17.6394 14.8874L17.6995 14.8424C17.7895 14.3321 17.8045 14.197 17.9696 13.4765L18.0447 13.1463C18.1948 12.4859 18.2698 12.1557 18.1498 11.8856C18.0147 11.5403 17.7145 11.4653 17.4593 11.4653ZM20.191 12.1557C19.8908 12.2158 19.6957 12.2458 19.5156 12.2758C19.3205 12.3058 19.1404 12.3358 18.8552 12.3659L18.8252 12.3809L18.8102 12.4109C18.7802 12.621 18.7651 12.8161 18.7201 13.0263C18.6901 13.2514 18.6301 13.5066 18.555 13.8818C18.495 14.167 18.4499 14.257 18.4199 14.3621C18.3899 14.4672 18.3449 14.5572 18.2698 14.8424L18.2848 14.8724L18.2999 14.9024C18.57 14.8874 18.7501 14.8874 18.9302 14.8724C19.1104 14.8724 19.3055 14.8724 19.5907 14.8724L19.6207 14.8574L19.6507 14.8274C19.6957 14.5722 19.6957 14.5122 19.7257 14.3921C19.7558 14.257 19.8008 14.0769 19.9059 13.5966C19.9509 13.3715 20.0109 13.1463 20.071 12.9062C20.131 12.681 20.176 12.4409 20.2361 12.2158L20.2211 12.1857L20.191 12.1557ZM20.191 11.2251C19.9209 11.06 19.4406 11.1201 19.1254 11.3302C18.8102 11.5403 18.7651 11.8555 19.0353 12.0206C19.3055 12.1707 19.7858 12.1257 20.101 11.9006C20.4162 11.6904 20.4612 11.3902 20.191 11.2251ZM21.8421 14.9475C22.3974 14.9475 22.9528 14.7974 23.373 14.3471C23.7032 13.9869 23.8533 13.4465 23.8984 13.2214C24.0635 12.4859 23.9284 12.1407 23.7633 11.9306C23.5081 11.6154 23.0728 11.5103 22.6075 11.5103C22.3374 11.5103 21.677 11.5403 21.1666 12.0056C20.7914 12.3508 20.6263 12.8161 20.5212 13.2514C20.4162 13.7017 20.2961 14.5272 21.0466 14.8274C21.2867 14.9174 21.6169 14.9475 21.8421 14.9475ZM21.797 13.2814C21.9171 12.7261 22.0672 12.2458 22.4575 12.2458C22.7576 12.2458 22.7726 12.591 22.6526 13.1613C22.6226 13.2814 22.5175 13.7467 22.3674 13.9418C22.2623 14.0919 22.1423 14.182 22.0072 14.182C21.9621 14.182 21.722 14.182 21.722 13.8218C21.707 13.6567 21.752 13.4765 21.797 13.2814ZM25.2792 14.8724L25.3242 14.8274C25.3843 14.5122 25.3993 14.4221 25.5344 13.7767C25.5944 13.4615 25.7445 12.7861 25.8045 12.546C25.9246 12.4859 26.0447 12.4259 26.1648 12.4259C26.4349 12.4259 26.4049 12.666 26.3899 12.7711C26.3749 12.9362 26.2848 13.4615 26.1798 13.9118L26.1197 14.212C26.0747 14.4221 26.0147 14.6323 25.9696 14.8574L25.9847 14.9024C26.555 14.8724 26.7201 14.8724 27.2004 14.8874L27.2605 14.8424C27.3505 14.3321 27.3655 14.197 27.5306 13.4765L27.6057 13.1463C27.7558 12.4859 27.8308 12.1557 27.7257 11.8856C27.6057 11.5854 27.3055 11.5103 27.0503 11.5103C26.8702 11.5103 26.555 11.5553 26.2698 11.6904C26.1648 11.7505 26.0747 11.8105 25.9696 11.8705L26.0597 11.5403L26.0147 11.4803C25.4143 11.6004 25.2792 11.6154 24.7239 11.6904L24.6788 11.7204C24.6188 12.2608 24.5588 12.666 24.3186 13.7167C24.2286 14.1069 24.1385 14.4972 24.0334 14.8874L24.0635 14.9325C24.6038 14.8574 24.7839 14.8574 25.2792 14.8724ZM29.4218 14.8874C29.4518 14.7073 29.662 13.6867 29.677 13.6867C29.677 13.6867 29.8571 12.9362 29.8721 12.9062C29.8721 12.9062 29.9321 12.8311 29.9922 12.8011H30.0822C30.8627 12.8011 31.7483 12.8011 32.4387 12.2908C32.904 11.9456 33.2342 11.4203 33.3843 10.7899C33.4143 10.6398 33.4443 10.4597 33.4443 10.2645C33.4443 10.0244 33.3993 9.78424 33.2492 9.60412C32.889 9.10882 32.1985 9.09381 31.373 9.09381H30.9678C29.9321 9.10881 29.5119 9.10882 29.3318 9.0788C29.3167 9.15384 29.2867 9.28893 29.2867 9.28893L28.9115 11.015C28.9115 11.015 28.0259 14.6923 27.9809 14.8574C28.8815 14.8724 29.2567 14.8724 29.4218 14.8874ZM30.1122 11.8255C30.1122 11.8255 30.5025 10.0994 30.5025 10.1144L30.5175 10.0244V9.96435L30.6826 9.97936C30.6826 9.97936 31.4931 10.0544 31.5231 10.0544C31.8383 10.1745 31.9734 10.5047 31.8833 10.925C31.7933 11.3152 31.5531 11.6304 31.2229 11.7805C30.9528 11.9156 30.6376 11.9306 30.3074 11.9306H30.0972L30.1122 11.8255ZM32.5738 13.3114C32.4687 13.7617 32.3486 14.5722 33.0991 14.8574C33.3393 14.9625 33.5494 14.9925 33.7745 14.9775C33.9997 14.9625 34.2098 14.8574 34.4049 14.6923C34.3899 14.7674 34.3749 14.8274 34.3449 14.9024L34.3749 14.9475C34.9152 14.9174 35.0803 14.9174 35.6657 14.9325L35.7257 14.8874C35.8158 14.3921 35.8908 13.8968 36.116 12.9512C36.2211 12.5009 36.3261 12.0356 36.4462 11.5854L36.4312 11.5403C35.8308 11.6454 35.6657 11.6754 35.0954 11.7505L35.0503 11.7805C35.0503 11.8255 35.0353 11.8705 35.0353 11.9156C34.9453 11.7655 34.8102 11.6454 34.6151 11.5704C34.3599 11.4653 33.7595 11.6004 33.2342 12.0657C32.8439 12.4109 32.6788 12.8612 32.5738 13.3114ZM33.8346 13.3415C33.9696 12.7861 34.1047 12.3208 34.495 12.3208C34.7351 12.3208 34.8702 12.546 34.8402 12.9212C34.8252 13.0113 34.7952 13.1163 34.7651 13.2364C34.7201 13.4015 34.6901 13.5666 34.6451 13.7317C34.6 13.8368 34.555 13.9418 34.51 14.0169C34.4049 14.152 34.1798 14.242 34.0447 14.242C33.9997 14.242 33.7745 14.242 33.7595 13.8968C33.7595 13.7167 33.7895 13.5366 33.8346 13.3415ZM40.4237 11.5253L40.3787 11.4653C39.7783 11.5854 39.6732 11.6004 39.1329 11.6754L39.0878 11.7204C39.0878 11.7204 39.0878 11.7355 39.0878 11.7505V11.7355C38.6826 12.666 38.6976 12.4709 38.3674 13.2064C38.3674 13.1764 38.3674 13.1463 38.3674 13.1163L38.2773 11.5103L38.2323 11.4503C37.6169 11.5704 37.6019 11.5854 37.0166 11.6604L36.9715 11.7054C36.9715 11.7204 36.9715 11.7505 36.9565 11.7655V11.7805C37.0316 12.1407 37.0166 12.0657 37.0766 12.651C37.1066 12.9362 37.1516 13.2214 37.1817 13.5066C37.2417 13.9719 37.2717 14.212 37.3468 14.9325C36.9565 15.5779 36.8665 15.818 36.4912 16.3734L36.2211 16.7936C36.191 16.8386 36.161 16.8687 36.131 16.8837C36.086 16.8987 36.0409 16.9137 35.9659 16.9137H35.8158L35.6057 17.6341L36.3561 17.6492C36.7914 17.6492 37.0616 17.439 37.2117 17.1689L37.677 16.3734L37.722 16.3133C38.0372 15.6229 40.4237 11.5253 40.4237 11.5253ZM32.5738 20.9962H32.2586L33.4293 17.1388H33.8196L33.9396 16.7336L33.9546 17.1689C33.9396 17.439 34.1498 17.6792 34.7201 17.6492H35.3805L35.6057 16.8987H35.3655C35.2304 16.8987 35.1554 16.8687 35.1704 16.7936L35.1554 16.3433H33.9396C33.5494 16.3583 32.3787 16.3884 32.1385 16.4484C31.8533 16.5234 31.5531 16.7336 31.5531 16.7336L31.6732 16.3283H30.5475L30.3074 17.1238L29.1216 21.0413H28.8965L28.6713 21.7767H30.9227L30.8477 22.0169H31.9584L32.0334 21.7767H32.3486L32.5738 20.9962ZM31.6582 17.9193C31.4781 17.9644 31.1329 18.1144 31.1329 18.1144L31.4331 17.1238H32.3336L32.1235 17.8443C32.1085 17.8443 31.8383 17.8593 31.6582 17.9193ZM31.6732 19.3152C31.6732 19.3152 31.388 19.3452 31.2079 19.3902C31.0278 19.4503 30.6826 19.6154 30.6826 19.6154L30.9978 18.5947H31.8984L31.6732 19.3152ZM31.1629 20.9962H30.2623L30.5175 20.1257H31.4181L31.1629 20.9962ZM33.3393 18.6098H34.6451L34.465 19.2101H33.1441L32.949 19.8705H34.1047L33.2342 21.1013C33.1742 21.1914 33.1141 21.2214 33.0541 21.2514C32.994 21.2814 32.919 21.3114 32.8139 21.3114H32.4987L32.2736 22.0319H33.1141C33.5494 22.0319 33.8045 21.8368 33.9997 21.5816L34.6 20.7561L34.7351 21.5816C34.7651 21.7317 34.8702 21.8218 34.9453 21.8668C35.0353 21.9118 35.1104 21.9869 35.2304 21.9869C35.3655 21.9869 35.4556 22.0019 35.5156 22.0019H35.9209L36.161 21.1914H35.9959C35.9059 21.1914 35.7408 21.1764 35.7107 21.1463C35.6807 21.1163 35.6807 21.0563 35.6657 20.9662L35.5306 20.1257H35.0203L35.2605 19.8405H36.5813L36.7764 19.1801H35.5606L35.7558 18.5797H36.9715L37.1967 17.8293H33.5794L33.3393 18.6098ZM22.3524 21.1613L22.6526 20.1557H23.8984L24.1235 19.4053H22.8777L23.0728 18.7899H24.2886L24.5137 18.0694H21.4668L21.2417 18.7899H21.9321L21.752 19.4053H21.0616L20.8364 20.1707H21.5269L21.1216 21.5066C21.0616 21.6867 21.1516 21.7467 21.1967 21.8368C21.2417 21.9118 21.3017 21.9719 21.4218 22.0019C21.5419 22.0319 21.6319 22.0469 21.737 22.0469H23.1479L23.403 21.2214L22.7726 21.3114C22.6526 21.2964 22.3224 21.2814 22.3524 21.1613ZM22.5025 16.3283L22.1873 16.8987C22.1122 17.0188 22.0522 17.0938 22.0072 17.1388C21.9621 17.1689 21.8571 17.1839 21.722 17.1839H21.5569L21.3317 17.9193H21.8871C22.1573 17.9193 22.3524 17.8293 22.4424 17.7692C22.5475 17.7092 22.5775 17.7392 22.6526 17.6642L22.8327 17.4991H24.5438L24.7689 16.7336H23.5231L23.7483 16.3133H22.5025V16.3283ZM25.0241 21.1764C24.994 21.1313 25.009 21.0563 25.0541 20.9062L25.5194 19.3602H27.1854C27.4256 19.3602 27.6057 19.3602 27.7107 19.3452C27.8308 19.3302 27.9659 19.2852 28.116 19.2101C28.2661 19.1351 28.3411 19.045 28.4012 18.94C28.4762 18.8349 28.5963 18.6248 28.6863 18.2946L29.2717 16.3433L27.5456 16.3583C27.5456 16.3583 27.0203 16.4334 26.7802 16.5234C26.54 16.6135 26.2098 16.8837 26.2098 16.8837L26.3599 16.3433H25.2942L23.8083 21.2964C23.7483 21.4916 23.7182 21.6266 23.7182 21.7167C23.7182 21.8068 23.8383 21.8968 23.9134 21.9568C24.0034 22.0169 24.1385 22.0169 24.2586 22.0169C24.3937 22.0319 24.5738 22.0319 24.8439 22.0319H25.6695L25.9246 21.1764L25.1892 21.2514C25.0991 21.2664 25.0391 21.2214 25.0241 21.1764ZM25.8346 18.3246H27.5757L27.4706 18.6698C27.4556 18.6848 27.4105 18.6548 27.2454 18.6698H25.7145L25.8346 18.3246ZM26.1798 17.1538H27.9359L27.8158 17.5741C27.8158 17.5741 26.9903 17.5591 26.8552 17.5891C26.2698 17.6942 25.9246 18.0094 25.9246 18.0094L26.1798 17.1538ZM27.5006 19.8255C27.4856 19.8705 27.4706 19.9156 27.4256 19.9306C27.3955 19.9606 27.3355 19.9606 27.2454 19.9606H26.9903L27.0053 19.5403H25.9696L25.9246 21.6116C25.9246 21.7617 25.9396 21.8518 26.0447 21.9118C26.1498 22.0019 26.495 22.0019 26.9453 22.0019H27.5907L27.8308 21.2214L27.2605 21.2514L27.0653 21.2664C27.0353 21.2514 27.0203 21.2514 26.9903 21.2214C26.9603 21.1914 26.9302 21.2064 26.9302 21.0563V20.531L27.5156 20.5009C27.8308 20.5009 27.9659 20.3959 28.086 20.2908C28.191 20.2007 28.2361 20.0807 28.2811 19.9456L28.3862 19.4803H27.5757L27.5006 19.8255Z\" fill=\"#FEFEFE\"></path></svg>"

/***/ }),

/***/ "./lib/field/icons/visa.svg":
/*!**********************************!*\
  !*** ./lib/field/icons/visa.svg ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<svg preserveAspectRatio=\"xMinYMid meet\" viewBox=\"0 0 48 30\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><title>visa</title><desc>Created with Sketch.</desc><defs><rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"30\" rx=\"3\"></rect></defs><g id=\"Symbols\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g id=\"visa\"><g id=\"Rectangle-1-Copy-68\"><use fill=\"#FFFFFF\" fill-rule=\"evenodd\" xlink:href=\"#path-1\"></use><rect stroke=\"#C5C5C8\" stroke-width=\"1\" x=\"0.5\" y=\"0.5\" width=\"47\" height=\"29\" rx=\"3\"></rect></g><path d=\"M20.4516757,10.1688 L18.8865,19.8564 L21.3883012,19.8564 L22.953,10.1688 L20.4516757,10.1688 L20.4516757,10.1688 Z M30.0987853,16.6908293 C30.1078463,15.5868186 29.4411516,14.7498689 27.9976001,14.0588488 C27.1234574,13.6096142 26.5869541,13.312032 26.5931537,12.8575516 C26.5941075,12.4545758 27.0466778,12.0234632 28.0262136,12.0234632 C28.8445599,12.0105871 29.4368595,12.1989604 29.8984908,12.3959178 L30.1231068,12.5065573 L30.4617,10.406791 C29.9671632,10.212218 29.1893527,10 28.2203086,10 C25.7471477,10 24.0064926,11.314798 23.991709,13.1971005 C23.9759716,14.5896323 25.2340121,15.3664934 26.1825499,15.829081 C27.1573167,16.303591 27.4849414,16.6073728 27.4811263,17.031332 C27.4739729,17.6803853 26.7028389,17.9774906 25.983686,17.9774906 C24.9822132,17.9774906 24.450002,17.831084 23.6273637,17.469598 L23.3059386,17.3150842 L22.9559,19.4835233 C23.5391387,19.7534456 24.6207293,19.9876007 25.7428557,20 C28.3710064,20 30.0787559,18.7014164 30.0987853,16.6908293 L30.0987853,16.6908293 Z M33.634524,10.9814874 L29.9195,19.8598 L32.546723,19.8598 C32.546723,19.8598 32.975453,18.6656605 33.0727399,18.4033695 C33.3593547,18.4033695 35.9121818,18.4081384 36.2765308,18.4081384 C36.3514035,18.7462554 36.5812677,19.8598 36.5812677,19.8598 L38.9028,19.8598 L36.8783742,10.1784 L34.9455126,10.1784 C34.3455767,10.1784 33.8968171,10.3500814 33.634524,10.9814874 L33.634524,10.9814874 Z M35.2903433,13.6253948 C35.2903433,13.6253948 35.7705817,15.9373759 35.8693,16.4219 L33.7924,16.4219 C33.9998515,15.8648881 34.7891212,13.7140971 34.7891212,13.7140971 C34.7743373,13.7393724 34.9951421,13.1527931 35.1215206,12.7894 L35.2903433,13.6253948 L35.2903433,13.6253948 Z M15.4996485,19.8464693 L19.4388,10.1769765 L16.7882184,10.1769765 L14.3398402,16.7814747 L14.077548,15.4390195 L13.2010153,10.9876955 C13.0498396,10.3739335 12.6101426,10.1917602 12.0669593,10.1703 L8.03338264,10.1703 L8,10.3710722 C8.98144961,10.6219182 9.85893615,10.9838803 10.6276907,11.4335909 L12.8524052,19.8479 L15.4996485,19.8464693 L15.4996485,19.8464693 Z\" id=\"Fill-1-Copy-14\" fill=\"#152F94\"></path></g></g></svg>"

/***/ }),

/***/ "./lib/field/month.js":
/*!****************************!*\
  !*** ./lib/field/month.js ***!
  \****************************/
/*! exports provided: OPTIONS, MonthField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPTIONS", function() { return OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MonthField", function() { return MonthField; });
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./field */ "./lib/field/field.js");
/* harmony import */ var _concerns_select__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./concerns/select */ "./lib/field/concerns/select.js");
/* harmony import */ var _concerns_required__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./concerns/required */ "./lib/field/concerns/required.js");
/* harmony import */ var _concerns_strict_numeric__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./concerns/strict-numeric */ "./lib/field/concerns/strict-numeric.js");
/* harmony import */ var _concerns_connected__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./concerns/connected */ "./lib/field/concerns/connected.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var OPTIONS = ['', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];
var MonthField =
/*#__PURE__*/
function (_Required) {
  _inherits(MonthField, _Required);

  function MonthField() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, MonthField);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MonthField)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.el.setAttribute('autocomplete', 'cc-exp-month');

    return _this;
  }

  _createClass(MonthField, [{
    key: "update",
    value: function update() {
      if (this.yearField) {
        this.yearField.state = {
          valid: this.isValidYear
        };
        this.state = {
          valid: this.isValidMonth
        };
      }

      _get(_getPrototypeOf(MonthField.prototype), "update", this).call(this);
    }
  }, {
    key: "options",
    get: function get() {
      return OPTIONS;
    }
  }, {
    key: "yearField",
    get: function get() {
      return this.getClientByType('year');
    }
  }, {
    key: "year",
    get: function get() {
      var year = this.yearField.value;

      if (year.length === 2) {
        var prefix = currentYear().toString().slice(0, 2);
        year = prefix + year;
      }

      return year;
    } // Any year this year or later is valid

  }, {
    key: "isValidYear",
    get: function get() {
      return Boolean(this.year && this.year >= currentYear());
    }
  }, {
    key: "isValidMonth",
    get: function get() {
      var month = this.value;
      var isAnyValidMonth = ~this.options.indexOf(('0' + month).slice(-2)); // If the selected year is the current year,
      // valid months are only later than the current month

      if (this.year === currentYear().toString()) {
        var currentMonth = new Date().getMonth() + 1;
        return Boolean(month >= currentMonth && isAnyValidMonth);
      } // Otherwise, any month 1-12 is valid


      return Boolean(isAnyValidMonth);
    }
  }]);

  return MonthField;
}(Object(_concerns_required__WEBPACK_IMPORTED_MODULE_2__["Required"])(Object(_concerns_select__WEBPACK_IMPORTED_MODULE_1__["Select"])(Object(_concerns_strict_numeric__WEBPACK_IMPORTED_MODULE_3__["StrictNumeric"])(Object(_concerns_connected__WEBPACK_IMPORTED_MODULE_4__["Connected"])(_field__WEBPACK_IMPORTED_MODULE_0__["Field"]), {
  maxLength: 2
}))));
/**
 * Gets the current year
 *
 * @return {Number} current 4 digit year
 */

function currentYear() {
  return new Date().getFullYear();
}

/***/ }),

/***/ "./lib/field/number.js":
/*!*****************************!*\
  !*** ./lib/field/number.js ***!
  \*****************************/
/*! exports provided: NumberField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberField", function() { return NumberField; });
/* harmony import */ var recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! recurly.js/lib/recurly/validate */ "./node_modules/recurly.js/lib/recurly/validate.js");
/* harmony import */ var cleave_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cleave.js */ "./node_modules/cleave.js/dist/cleave-esm.js");
/* harmony import */ var _concerns_connected__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./concerns/connected */ "./lib/field/concerns/connected.js");
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field */ "./lib/field/field.js");
/* harmony import */ var recurly_js_lib_util_parse_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! recurly.js/lib/util/parse-card */ "./node_modules/recurly.js/lib/util/parse-card.js");
/* harmony import */ var _concerns_required__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./concerns/required */ "./lib/field/concerns/required.js");
/* harmony import */ var _concerns_tokenizing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./concerns/tokenizing */ "./lib/field/concerns/tokenizing.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var NumberField =
/*#__PURE__*/
function (_Required) {
  _inherits(NumberField, _Required);

  function NumberField() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, NumberField);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NumberField)).call.apply(_getPrototypeOf2, [this].concat(args)));

    var _assertThisInitialize = _assertThisInitialized(_this),
        el = _assertThisInitialize.el,
        shouldFormat = _assertThisInitialize.shouldFormat;

    el.setAttribute('autocomplete', 'cc-number');
    if (shouldFormat) new cleave_js__WEBPACK_IMPORTED_MODULE_1__["default"](el, {
      creditCard: true,
      creditCardStrictMode: true
    });
    return _this;
  }

  _createClass(NumberField, [{
    key: "update",
    value: function update() {
      var value = Object(recurly_js_lib_util_parse_card__WEBPACK_IMPORTED_MODULE_4__["parseCard"])(this.value);
      var valid = recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__["cardNumber"](value);
      var brand = recurly_js_lib_recurly_validate__WEBPACK_IMPORTED_MODULE_0__["cardType"](value, true);
      var length = value.length;
      var empty = this.value === '';
      var focus = this.isFocused();
      var firstSix = '';
      var lastFour = '';

      if (valid && length >= 10) {
        firstSix = value.substr(0, 6);
        lastFour = value.substr(-4);
      }

      this.state = {
        valid: valid,
        firstSix: firstSix,
        lastFour: lastFour,
        brand: brand,
        length: length,
        empty: empty,
        focus: focus
      };
    }
  }, {
    key: "tokenPayload",
    value: function tokenPayload(body) {
      var inputs = body.inputs;
      var clients = this.clients;
      clients.forEach(function (_ref) {
        var type = _ref.type,
            value = _ref.value;
        return inputs[type] = value;
      });
      return inputs;
    }
  }, {
    key: "onReady",
    value: function onReady() {
      _get(_getPrototypeOf(NumberField.prototype), "onReady", this).call(this);

      this.createProxyAsync('month', {
        autocomplete: 'cc-exp-month'
      });
      this.createProxyAsync('year', {
        autocomplete: 'cc-exp-year'
      });
    }
  }]);

  return NumberField;
}(Object(_concerns_required__WEBPACK_IMPORTED_MODULE_5__["Required"])(Object(_concerns_tokenizing__WEBPACK_IMPORTED_MODULE_6__["Tokenizing"])(Object(_concerns_connected__WEBPACK_IMPORTED_MODULE_2__["Connected"])(_field__WEBPACK_IMPORTED_MODULE_3__["Field"]))));

/***/ }),

/***/ "./lib/field/year.js":
/*!***************************!*\
  !*** ./lib/field/year.js ***!
  \***************************/
/*! exports provided: OPTIONS, YearField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPTIONS", function() { return OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "YearField", function() { return YearField; });
/* harmony import */ var lodash_times__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.times */ "./node_modules/lodash.times/index.js");
/* harmony import */ var lodash_times__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_times__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field */ "./lib/field/field.js");
/* harmony import */ var _concerns_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./concerns/select */ "./lib/field/concerns/select.js");
/* harmony import */ var _concerns_required__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./concerns/required */ "./lib/field/concerns/required.js");
/* harmony import */ var _concerns_strict_numeric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./concerns/strict-numeric */ "./lib/field/concerns/strict-numeric.js");
/* harmony import */ var _concerns_connected__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./concerns/connected */ "./lib/field/concerns/connected.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var OPTIONS = function () {
  var year = new Date().getFullYear();
  return [''].concat(lodash_times__WEBPACK_IMPORTED_MODULE_0___default()(21, function (i) {
    return year + i;
  }));
}();
var YearField =
/*#__PURE__*/
function (_Required) {
  _inherits(YearField, _Required);

  function YearField() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, YearField);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(YearField)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.el.setAttribute('autocomplete', 'cc-exp-year');

    return _this;
  }

  _createClass(YearField, [{
    key: "update",
    value: function update() {
      if (this.monthField) {
        this.monthField.update();
      } else {
        this.state = {
          valid: false
        };
      }

      _get(_getPrototypeOf(YearField.prototype), "update", this).call(this);
    }
  }, {
    key: "options",
    get: function get() {
      return OPTIONS;
    }
  }, {
    key: "monthField",
    get: function get() {
      return this.getClientByType('month');
    }
  }]);

  return YearField;
}(Object(_concerns_required__WEBPACK_IMPORTED_MODULE_3__["Required"])(Object(_concerns_select__WEBPACK_IMPORTED_MODULE_2__["Select"])(Object(_concerns_strict_numeric__WEBPACK_IMPORTED_MODULE_4__["StrictNumeric"])(Object(_concerns_connected__WEBPACK_IMPORTED_MODULE_5__["Connected"])(_field__WEBPACK_IMPORTED_MODULE_1__["Field"]), {
  maxLength: 4
}))));

/***/ }),

/***/ "./lib/index.js":
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return initialize; });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./lib/config.js");
/* harmony import */ var _field_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field/factory */ "./lib/field/factory.js");


/**
 * Initializes a Field singleton for the frame
 *
 * @return {Field}
 */

function initialize() {
  console.log('RECURLY-HOSTED-FILED INITIALIZATION');
  var input = window.document.querySelector('input');
  var type = _config__WEBPACK_IMPORTED_MODULE_0__["Config"].initialConfig.type;

  if (_config__WEBPACK_IMPORTED_MODULE_0__["Config"].initialConfig.elementId) {
    window.name = "recurly-element:".concat(_config__WEBPACK_IMPORTED_MODULE_0__["Config"].initialConfig.elementId);
  } else {
    window.name = "recurlyHostedField:".concat(type);
  }

  return Object(_field_factory__WEBPACK_IMPORTED_MODULE_1__["default"])(type, input);
}

/***/ }),

/***/ "./lib/util/create-native-event.js":
/*!*****************************************!*\
  !*** ./lib/util/create-native-event.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return createNativeEvent; });
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Creates a native browser Event
 *
 * @param {String} name
 * @param {Object} [options] properties for the event
 * @return {Event}
 */
function createNativeEvent(name) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var event;

  if (typeof Event === 'function') {
    event = new Event(name, {
      bubbles: true,
      cancelable: true
    });
  } else {
    // IE11 compatibility case
    event = window.document.createEvent('Event');
    event.initEvent(name, true, true);
  }

  for (var _i = 0, _Object$entries = Object.entries(options); _i < _Object$entries.length; _i++) {
    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),
        key = _Object$entries$_i[0],
        val = _Object$entries$_i[1];

    event[key] = val;
  }

  return event;
}

/***/ }),

/***/ "./lib/util/wrap-element.js":
/*!**********************************!*\
  !*** ./lib/util/wrap-element.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return wrapElement; });
/**
 * Wraps an HTMLElement in-place
 *
 * @param  {HTMLElement} el
 * @return {DivElement}
 */
function wrapElement(el) {
  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'div';
  var container = window.document.createElement(type);
  el.parentNode.insertBefore(container, el);
  container.appendChild(el);
  return container;
}

/***/ }),

/***/ "./lib/version.js":
/*!************************!*\
  !*** ./lib/version.js ***!
  \************************/
/*! exports provided: version */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "version", function() { return version; });
var version = '1.4.9';

/***/ }),

/***/ "./node_modules/array-unique/index.js":
/*!********************************************!*\
  !*** ./node_modules/array-unique/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * array-unique <https://github.com/jonschlinkert/array-unique>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */



module.exports = function unique(arr) {
  if (!Array.isArray(arr)) {
    throw new TypeError('array-unique expects an array.');
  }

  var len = arr.length;
  var i = -1;

  while (i++ < len) {
    var j = i + 1;

    for (; j < arr.length; ++j) {
      if (arr[i] === arr[j]) {
        arr.splice(j--, 1);
      }
    }
  }
  return arr;
};

module.exports.immutable = function uniqueImmutable(arr) {
  if (!Array.isArray(arr)) {
    throw new TypeError('array-unique expects an array.');
  }

  var arrLen = arr.length;
  var newArr = new Array(arrLen);

  for (var i = 0; i < arrLen; i++) {
    newArr[i] = arr[i];
  }

  return module.exports(newArr);
};


/***/ }),

/***/ "./node_modules/asap/browser-asap.js":
/*!*******************************************!*\
  !*** ./node_modules/asap/browser-asap.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// rawAsap provides everything we need except exception management.
var rawAsap = __webpack_require__(/*! ./raw */ "./node_modules/asap/browser-raw.js");
// RawTasks are recycled to reduce GC churn.
var freeTasks = [];
// We queue errors to ensure they are thrown in right order (FIFO).
// Array-as-queue is good enough here, since we are just dealing with exceptions.
var pendingErrors = [];
var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);

function throwFirstError() {
    if (pendingErrors.length) {
        throw pendingErrors.shift();
    }
}

/**
 * Calls a task as soon as possible after returning, in its own event, with priority
 * over other events like animation, reflow, and repaint. An error thrown from an
 * event will not interrupt, nor even substantially slow down the processing of
 * other events, but will be rather postponed to a lower priority event.
 * @param {{call}} task A callable object, typically a function that takes no
 * arguments.
 */
module.exports = asap;
function asap(task) {
    var rawTask;
    if (freeTasks.length) {
        rawTask = freeTasks.pop();
    } else {
        rawTask = new RawTask();
    }
    rawTask.task = task;
    rawAsap(rawTask);
}

// We wrap tasks with recyclable task objects.  A task object implements
// `call`, just like a function.
function RawTask() {
    this.task = null;
}

// The sole purpose of wrapping the task is to catch the exception and recycle
// the task object after its single use.
RawTask.prototype.call = function () {
    try {
        this.task.call();
    } catch (error) {
        if (asap.onerror) {
            // This hook exists purely for testing purposes.
            // Its name will be periodically randomized to break any code that
            // depends on its existence.
            asap.onerror(error);
        } else {
            // In a web browser, exceptions are not fatal. However, to avoid
            // slowing down the queue of pending tasks, we rethrow the error in a
            // lower priority turn.
            pendingErrors.push(error);
            requestErrorThrow();
        }
    } finally {
        this.task = null;
        freeTasks[freeTasks.length] = this;
    }
};


/***/ }),

/***/ "./node_modules/asap/browser-raw.js":
/*!******************************************!*\
  !*** ./node_modules/asap/browser-raw.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

// Use the fastest means possible to execute a task in its own turn, with
// priority over other events including IO, animation, reflow, and redraw
// events in browsers.
//
// An exception thrown by a task will permanently interrupt the processing of
// subsequent tasks. The higher level `asap` function ensures that if an
// exception is thrown by a task, that the task queue will continue flushing as
// soon as possible, but if you use `rawAsap` directly, you are responsible to
// either ensure that no exceptions are thrown from your task, or to manually
// call `rawAsap.requestFlush` if an exception is thrown.
module.exports = rawAsap;
function rawAsap(task) {
    if (!queue.length) {
        requestFlush();
        flushing = true;
    }
    // Equivalent to push, but avoids a function call.
    queue[queue.length] = task;
}

var queue = [];
// Once a flush has been requested, no further calls to `requestFlush` are
// necessary until the next `flush` completes.
var flushing = false;
// `requestFlush` is an implementation-specific method that attempts to kick
// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
// the event queue before yielding to the browser's own event loop.
var requestFlush;
// The position of the next task to execute in the task queue. This is
// preserved between calls to `flush` so that it can be resumed if
// a task throws an exception.
var index = 0;
// If a task schedules additional tasks recursively, the task queue can grow
// unbounded. To prevent memory exhaustion, the task queue will periodically
// truncate already-completed tasks.
var capacity = 1024;

// The flush function processes all tasks that have been scheduled with
// `rawAsap` unless and until one of those tasks throws an exception.
// If a task throws an exception, `flush` ensures that its state will remain
// consistent and will resume where it left off when called again.
// However, `flush` does not make any arrangements to be called again if an
// exception is thrown.
function flush() {
    while (index < queue.length) {
        var currentIndex = index;
        // Advance the index before calling the task. This ensures that we will
        // begin flushing on the next task the task throws an error.
        index = index + 1;
        queue[currentIndex].call();
        // Prevent leaking memory for long chains of recursive calls to `asap`.
        // If we call `asap` within tasks scheduled by `asap`, the queue will
        // grow, but to avoid an O(n) walk for every task we execute, we don't
        // shift tasks off the queue after they have been executed.
        // Instead, we periodically shift 1024 tasks off the queue.
        if (index > capacity) {
            // Manually shift all values starting at the index back to the
            // beginning of the queue.
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
                queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
        }
    }
    queue.length = 0;
    index = 0;
    flushing = false;
}

// `requestFlush` is implemented using a strategy based on data collected from
// every available SauceLabs Selenium web driver worker at time of writing.
// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
// have WebKitMutationObserver but not un-prefixed MutationObserver.
// Must use `global` or `self` instead of `window` to work in both frames and web
// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.

/* globals self */
var scope = typeof global !== "undefined" ? global : self;
var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;

// MutationObservers are desirable because they have high priority and work
// reliably everywhere they are implemented.
// They are implemented in all modern browsers.
//
// - Android 4-4.3
// - Chrome 26-34
// - Firefox 14-29
// - Internet Explorer 11
// - iPad Safari 6-7.1
// - iPhone Safari 7-7.1
// - Safari 6-7
if (typeof BrowserMutationObserver === "function") {
    requestFlush = makeRequestCallFromMutationObserver(flush);

// MessageChannels are desirable because they give direct access to the HTML
// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
// 11-12, and in web workers in many engines.
// Although message channels yield to any queued rendering and IO tasks, they
// would be better than imposing the 4ms delay of timers.
// However, they do not work reliably in Internet Explorer or Safari.

// Internet Explorer 10 is the only browser that has setImmediate but does
// not have MutationObservers.
// Although setImmediate yields to the browser's renderer, it would be
// preferrable to falling back to setTimeout since it does not have
// the minimum 4ms penalty.
// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
// Desktop to a lesser extent) that renders both setImmediate and
// MessageChannel useless for the purposes of ASAP.
// https://github.com/kriskowal/q/issues/396

// Timers are implemented universally.
// We fall back to timers in workers in most engines, and in foreground
// contexts in the following browsers.
// However, note that even this simple case requires nuances to operate in a
// broad spectrum of browsers.
//
// - Firefox 3-13
// - Internet Explorer 6-9
// - iPad Safari 4.3
// - Lynx 2.8.7
} else {
    requestFlush = makeRequestCallFromTimer(flush);
}

// `requestFlush` requests that the high priority event queue be flushed as
// soon as possible.
// This is useful to prevent an error thrown in a task from stalling the event
// queue if the exception handled by Node.jss
// `process.on("uncaughtException")` or by a domain.
rawAsap.requestFlush = requestFlush;

// To request a high priority event, we induce a mutation observer by toggling
// the text of a text node between "1" and "-1".
function makeRequestCallFromMutationObserver(callback) {
    var toggle = 1;
    var observer = new BrowserMutationObserver(callback);
    var node = document.createTextNode("");
    observer.observe(node, {characterData: true});
    return function requestCall() {
        toggle = -toggle;
        node.data = toggle;
    };
}

// The message channel technique was discovered by Malte Ubl and was the
// original foundation for this library.
// http://www.nonblocking.io/2011/06/windownexttick.html

// Safari 6.0.5 (at least) intermittently fails to create message ports on a
// page's first load. Thankfully, this version of Safari supports
// MutationObservers, so we don't need to fall back in that case.

// function makeRequestCallFromMessageChannel(callback) {
//     var channel = new MessageChannel();
//     channel.port1.onmessage = callback;
//     return function requestCall() {
//         channel.port2.postMessage(0);
//     };
// }

// For reasons explained above, we are also unable to use `setImmediate`
// under any circumstances.
// Even if we were, there is another bug in Internet Explorer 10.
// It is not sufficient to assign `setImmediate` to `requestFlush` because
// `setImmediate` must be called *by name* and therefore must be wrapped in a
// closure.
// Never forget.

// function makeRequestCallFromSetImmediate(callback) {
//     return function requestCall() {
//         setImmediate(callback);
//     };
// }

// Safari 6.0 has a problem where timers will get lost while the user is
// scrolling. This problem does not impact ASAP because Safari 6.0 supports
// mutation observers, so that implementation is used instead.
// However, if we ever elect to use timers in Safari, the prevalent work-around
// is to add a scroll event listener that calls for a flush.

// `setTimeout` does not call the passed callback if the delay is less than
// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
// even then.

function makeRequestCallFromTimer(callback) {
    return function requestCall() {
        // We dispatch a timeout with a specified delay of 0 for engines that
        // can reliably accommodate that request. This will usually be snapped
        // to a 4 milisecond delay, but once we're flushing, there's no delay
        // between events.
        var timeoutHandle = setTimeout(handleTimer, 0);
        // However, since this timer gets frequently dropped in Firefox
        // workers, we enlist an interval handle that will try to fire
        // an event 20 times per second until it succeeds.
        var intervalHandle = setInterval(handleTimer, 50);

        function handleTimer() {
            // Whichever timer succeeds will cancel both timers and
            // execute the callback.
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
        }
    };
}

// This is for `asap.js` only.
// Its name will be periodically randomized to break any code that depends on
// its existence.
rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;

// ASAP was originally a nextTick shim included in Q. This was factored out
// into this ASAP package. It was later adapted to RSVP which made further
// amendments. These decisions, particularly to marginalize MessageChannel and
// to capture the MutationObserver implementation in a closure, were integrated
// back into ASAP proper.
// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/bowser/bundled.js":
/*!****************************************!*\
  !*** ./node_modules/bowser/bundled.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,n){ true?module.exports=n():undefined}(this,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=129)}([function(t,n,e){var r=e(1),i=e(7),o=e(14),u=e(11),a=e(19),c=function(t,n,e){var s,f,l,h,p=t&c.F,v=t&c.G,d=t&c.S,g=t&c.P,y=t&c.B,m=v?r:d?r[n]||(r[n]={}):(r[n]||{}).prototype,b=v?i:i[n]||(i[n]={}),S=b.prototype||(b.prototype={});for(s in v&&(e=n),e)l=((f=!p&&m&&void 0!==m[s])?m:e)[s],h=y&&f?a(l,r):g&&"function"==typeof l?a(Function.call,l):l,m&&u(m,s,l,t&c.U),b[s]!=l&&o(b,s,h),g&&S[s]!=l&&(S[s]=l)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){var r=e(50)("wks"),i=e(31),o=e(1).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,n,e){var r=e(21),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,n){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)},function(t,n,e){t.exports=!e(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(3),i=e(96),o=e(28),u=Object.defineProperty;n.f=e(8)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(26);t.exports=function(t){return Object(r(t))}},function(t,n,e){var r=e(1),i=e(14),o=e(13),u=e(31)("src"),a=e(134),c=(""+a).split("toString");e(7).inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var s="function"==typeof e;s&&(o(e,"name")||i(e,"name",n)),t[n]!==e&&(s&&(o(e,u)||i(e,u,t[n]?""+t[n]:c.join(String(n)))),t===r?t[n]=e:a?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[u]||a.call(this)}))},function(t,n,e){var r=e(0),i=e(2),o=e(26),u=/"/g,a=function(t,n,e,r){var i=String(o(t)),a="<"+n;return""!==e&&(a+=" "+e+'="'+String(r).replace(u,"&quot;")+'"'),a+">"+i+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(a),r(r.P+r.F*i((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",e)}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(9),i=e(30);t.exports=e(8)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(46),i=e(26);t.exports=function(t){return r(i(t))}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t,n){return!!t&&r((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r=e(18),i=function(){function t(){}return t.getFirstMatch=function(t,n){var e=n.match(t);return e&&e.length>0&&e[1]||""},t.getSecondMatch=function(t,n){var e=n.match(t);return e&&e.length>1&&e[2]||""},t.matchAndReturnConst=function(t,n,e){if(t.test(n))return e},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var n=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(n.push(0),10===n[0])switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var n=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(n.push(0),!(1===n[0]&&n[1]<5))return 1===n[0]&&n[1]<6?"Cupcake":1===n[0]&&n[1]>=6?"Donut":2===n[0]&&n[1]<2?"Eclair":2===n[0]&&2===n[1]?"Froyo":2===n[0]&&n[1]>2?"Gingerbread":3===n[0]?"Honeycomb":4===n[0]&&n[1]<1?"Ice Cream Sandwich":4===n[0]&&n[1]<4?"Jelly Bean":4===n[0]&&n[1]>=4?"KitKat":5===n[0]?"Lollipop":6===n[0]?"Marshmallow":7===n[0]?"Nougat":8===n[0]?"Oreo":9===n[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(n,e,r){void 0===r&&(r=!1);var i=t.getVersionPrecision(n),o=t.getVersionPrecision(e),u=Math.max(i,o),a=0,c=t.map([n,e],(function(n){var e=u-t.getVersionPrecision(n),r=n+new Array(e+1).join(".0");return t.map(r.split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));for(r&&(a=u-Math.min(i,o)),u-=1;u>=a;){if(c[0][u]>c[1][u])return 1;if(c[0][u]===c[1][u]){if(u===a)return 0;u-=1}else if(c[0][u]<c[1][u])return-1}},t.map=function(t,n){var e,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,n);for(e=0;e<t.length;e+=1)r.push(n(t[e]));return r},t.getBrowserAlias=function(t){return r.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return r.BROWSER_MAP[t]||""},t}();n.default=i,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0;n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},function(t,n,e){var r=e(20);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(47),i=e(30),o=e(15),u=e(28),a=e(13),c=e(96),s=Object.getOwnPropertyDescriptor;n.f=e(8)?s:function(t,n){if(t=o(t),n=u(n,!0),c)try{return s(t,n)}catch(t){}if(a(t,n))return i(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(0),i=e(7),o=e(2);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],u={};u[t]=n(e),r(r.S+r.F*o((function(){e(1)})),"Object",u)}},function(t,n,e){var r=e(19),i=e(46),o=e(10),u=e(6),a=e(112);t.exports=function(t,n){var e=1==t,c=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,p=n||a;return function(n,a,v){for(var d,g,y=o(n),m=i(y),b=r(a,v,3),S=u(m.length),w=0,_=e?p(n,S):c?p(n,0):void 0;S>w;w++)if((h||w in m)&&(g=b(d=m[w],w,y),t))if(e)_[w]=g;else if(g)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:_.push(d)}else if(f)return!1;return l?-1:s||f?f:_}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){"use strict";if(e(8)){var r=e(32),i=e(1),o=e(2),u=e(0),a=e(61),c=e(86),s=e(19),f=e(44),l=e(30),h=e(14),p=e(45),v=e(21),d=e(6),g=e(123),y=e(34),m=e(28),b=e(13),S=e(48),w=e(4),_=e(10),x=e(78),M=e(35),P=e(37),O=e(36).f,F=e(80),A=e(31),E=e(5),N=e(24),R=e(51),k=e(49),T=e(82),I=e(42),L=e(54),j=e(43),B=e(81),C=e(114),W=e(9),G=e(22),V=W.f,D=G.f,U=i.RangeError,z=i.TypeError,q=i.Uint8Array,K=Array.prototype,Y=c.ArrayBuffer,Q=c.DataView,H=N(0),J=N(2),X=N(3),Z=N(4),$=N(5),tt=N(6),nt=R(!0),et=R(!1),rt=T.values,it=T.keys,ot=T.entries,ut=K.lastIndexOf,at=K.reduce,ct=K.reduceRight,st=K.join,ft=K.sort,lt=K.slice,ht=K.toString,pt=K.toLocaleString,vt=E("iterator"),dt=E("toStringTag"),gt=A("typed_constructor"),yt=A("def_constructor"),mt=a.CONSTR,bt=a.TYPED,St=a.VIEW,wt=N(1,(function(t,n){return Ot(k(t,t[yt]),n)})),_t=o((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),xt=!!q&&!!q.prototype.set&&o((function(){new q(1).set({})})),Mt=function(t,n){var e=v(t);if(e<0||e%n)throw U("Wrong offset!");return e},Pt=function(t){if(w(t)&&bt in t)return t;throw z(t+" is not a typed array!")},Ot=function(t,n){if(!(w(t)&&gt in t))throw z("It is not a typed array constructor!");return new t(n)},Ft=function(t,n){return At(k(t,t[yt]),n)},At=function(t,n){for(var e=0,r=n.length,i=Ot(t,r);r>e;)i[e]=n[e++];return i},Et=function(t,n,e){V(t,n,{get:function(){return this._d[e]}})},Nt=function(t){var n,e,r,i,o,u,a=_(t),c=arguments.length,f=c>1?arguments[1]:void 0,l=void 0!==f,h=F(a);if(null!=h&&!x(h)){for(u=h.call(a),r=[],n=0;!(o=u.next()).done;n++)r.push(o.value);a=r}for(l&&c>2&&(f=s(f,arguments[2],2)),n=0,e=d(a.length),i=Ot(this,e);e>n;n++)i[n]=l?f(a[n],n):a[n];return i},Rt=function(){for(var t=0,n=arguments.length,e=Ot(this,n);n>t;)e[t]=arguments[t++];return e},kt=!!q&&o((function(){pt.call(new q(1))})),Tt=function(){return pt.apply(kt?lt.call(Pt(this)):Pt(this),arguments)},It={copyWithin:function(t,n){return C.call(Pt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return Z(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(Pt(this),arguments)},filter:function(t){return Ft(this,J(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){H(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return st.apply(Pt(this),arguments)},lastIndexOf:function(t){return ut.apply(Pt(this),arguments)},map:function(t){return wt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Pt(this),arguments)},reduceRight:function(t){return ct.apply(Pt(this),arguments)},reverse:function(){for(var t,n=Pt(this).length,e=Math.floor(n/2),r=0;r<e;)t=this[r],this[r++]=this[--n],this[n]=t;return this},some:function(t){return X(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Pt(this),t)},subarray:function(t,n){var e=Pt(this),r=e.length,i=y(t,r);return new(k(e,e[yt]))(e.buffer,e.byteOffset+i*e.BYTES_PER_ELEMENT,d((void 0===n?r:y(n,r))-i))}},Lt=function(t,n){return Ft(this,lt.call(Pt(this),t,n))},jt=function(t){Pt(this);var n=Mt(arguments[1],1),e=this.length,r=_(t),i=d(r.length),o=0;if(i+n>e)throw U("Wrong length!");for(;o<i;)this[n+o]=r[o++]},Bt={entries:function(){return ot.call(Pt(this))},keys:function(){return it.call(Pt(this))},values:function(){return rt.call(Pt(this))}},Ct=function(t,n){return w(t)&&t[bt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Wt=function(t,n){return Ct(t,n=m(n,!0))?l(2,t[n]):D(t,n)},Gt=function(t,n,e){return!(Ct(t,n=m(n,!0))&&w(e)&&b(e,"value"))||b(e,"get")||b(e,"set")||e.configurable||b(e,"writable")&&!e.writable||b(e,"enumerable")&&!e.enumerable?V(t,n,e):(t[n]=e.value,t)};mt||(G.f=Wt,W.f=Gt),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Gt}),o((function(){ht.call({})}))&&(ht=pt=function(){return st.call(this)});var Vt=p({},It);p(Vt,Bt),h(Vt,vt,Bt.values),p(Vt,{slice:Lt,set:jt,constructor:function(){},toString:ht,toLocaleString:Tt}),Et(Vt,"buffer","b"),Et(Vt,"byteOffset","o"),Et(Vt,"byteLength","l"),Et(Vt,"length","e"),V(Vt,dt,{get:function(){return this[bt]}}),t.exports=function(t,n,e,c){var s=t+((c=!!c)?"Clamped":"")+"Array",l="get"+t,p="set"+t,v=i[s],y=v||{},m=v&&P(v),b=!v||!a.ABV,_={},x=v&&v.prototype,F=function(t,e){V(t,e,{get:function(){return function(t,e){var r=t._d;return r.v[l](e*n+r.o,_t)}(this,e)},set:function(t){return function(t,e,r){var i=t._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](e*n+i.o,r,_t)}(this,e,t)},enumerable:!0})};b?(v=e((function(t,e,r,i){f(t,v,s,"_d");var o,u,a,c,l=0,p=0;if(w(e)){if(!(e instanceof Y||"ArrayBuffer"==(c=S(e))||"SharedArrayBuffer"==c))return bt in e?At(v,e):Nt.call(v,e);o=e,p=Mt(r,n);var y=e.byteLength;if(void 0===i){if(y%n)throw U("Wrong length!");if((u=y-p)<0)throw U("Wrong length!")}else if((u=d(i)*n)+p>y)throw U("Wrong length!");a=u/n}else a=g(e),o=new Y(u=a*n);for(h(t,"_d",{b:o,o:p,l:u,e:a,v:new Q(o)});l<a;)F(t,l++)})),x=v.prototype=M(Vt),h(x,"constructor",v)):o((function(){v(1)}))&&o((function(){new v(-1)}))&&L((function(t){new v,new v(null),new v(1.5),new v(t)}),!0)||(v=e((function(t,e,r,i){var o;return f(t,v,s),w(e)?e instanceof Y||"ArrayBuffer"==(o=S(e))||"SharedArrayBuffer"==o?void 0!==i?new y(e,Mt(r,n),i):void 0!==r?new y(e,Mt(r,n)):new y(e):bt in e?At(v,e):Nt.call(v,e):new y(g(e))})),H(m!==Function.prototype?O(y).concat(O(m)):O(y),(function(t){t in v||h(v,t,y[t])})),v.prototype=x,r||(x.constructor=v));var A=x[vt],E=!!A&&("values"==A.name||null==A.name),N=Bt.values;h(v,gt,!0),h(x,bt,s),h(x,St,!0),h(x,yt,v),(c?new v(1)[dt]==s:dt in x)||V(x,dt,{get:function(){return s}}),_[s]=v,u(u.G+u.W+u.F*(v!=y),_),u(u.S,s,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o((function(){y.of.call(v,1)})),s,{from:Nt,of:Rt}),"BYTES_PER_ELEMENT"in x||h(x,"BYTES_PER_ELEMENT",n),u(u.P,s,It),j(s),u(u.P+u.F*xt,s,{set:jt}),u(u.P+u.F*!E,s,Bt),r||x.toString==ht||(x.toString=ht),u(u.P+u.F*o((function(){new v(1).slice()})),s,{slice:Lt}),u(u.P+u.F*(o((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!o((function(){x.toLocaleString.call([1,2])}))),s,{toLocaleString:Tt}),I[s]=E?A:N,r||E||h(x,vt,N)}}else t.exports=function(){}},function(t,n,e){var r=e(4);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(31)("meta"),i=e(4),o=e(13),u=e(9).f,a=0,c=Object.isExtensible||function(){return!0},s=!e(2)((function(){return c(Object.preventExtensions({}))})),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!n)return"E";f(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&c(t)&&!o(t,r)&&f(t),t}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){t.exports=!1},function(t,n,e){var r=e(98),i=e(65);t.exports=Object.keys||function(t){return r(t,i)}},function(t,n,e){var r=e(21),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=r(t))<0?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(3),i=e(99),o=e(65),u=e(64)("IE_PROTO"),a=function(){},c=function(){var t,n=e(62)("iframe"),r=o.length;for(n.style.display="none",e(66).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(a.prototype=r(t),e=new a,a.prototype=null,e[u]=t):e=c(),void 0===n?e:i(e,n)}},function(t,n,e){var r=e(98),i=e(65).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n,e){var r=e(13),i=e(10),o=e(64)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(5)("unscopables"),i=Array.prototype;null==i[r]&&e(14)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,n,e){var r=e(4);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,e){var r=e(9).f,i=e(13),o=e(5)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){var r=e(0),i=e(26),o=e(2),u=e(68),a="["+u+"]",c=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),f=function(t,n,e){var i={},a=o((function(){return!!u[t]()||""!=""[t]()})),c=i[t]=a?n(l):u[t];e&&(i[e]=c),r(r.P+r.F*a,"String",i)},l=f.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(s,"")),t};t.exports=f},function(t,n){t.exports={}},function(t,n,e){"use strict";var r=e(1),i=e(9),o=e(8),u=e(5)("species");t.exports=function(t){var n=r[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(11);t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},function(t,n,e){var r=e(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(25),i=e(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),i))?e:o?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,e){var r=e(3),i=e(20),o=e(5)("species");t.exports=function(t,n){var e,u=r(t).constructor;return void 0===u||null==(e=r(u)[o])?n:i(e)}},function(t,n,e){var r=e(7),i=e(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e(32)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var r=e(15),i=e(6),o=e(34);t.exports=function(t){return function(n,e,u){var a,c=r(n),s=i(c.length),f=o(u,s);if(t&&e!=e){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){var r=e(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:e=!0}},o[r]=function(){return u},t(o)}catch(t){}return e}},function(t,n,e){"use strict";var r=e(3);t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){"use strict";var r=e(48),i=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},function(t,n,e){"use strict";e(116);var r=e(11),i=e(14),o=e(2),u=e(26),a=e(5),c=e(83),s=a("species"),f=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var h=a(t),p=!o((function(){var n={};return n[h]=function(){return 7},7!=""[t](n)})),v=p?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[s]=function(){return e}),e[h](""),!n})):void 0;if(!p||!v||"replace"===t&&!f||"split"===t&&!l){var d=/./[h],g=e(u,h,""[t],(function(t,n,e,r,i){return n.exec===c?p&&!i?{done:!0,value:d.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),y=g[0],m=g[1];r(String.prototype,t,y),i(RegExp.prototype,h,2==n?function(t,n){return m.call(t,this,n)}:function(t){return m.call(t,this)})}}},function(t,n,e){var r=e(19),i=e(111),o=e(78),u=e(3),a=e(6),c=e(80),s={},f={};(n=t.exports=function(t,n,e,l,h){var p,v,d,g,y=h?function(){return t}:c(t),m=r(e,l,n?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=a(t.length);p>b;b++)if((g=n?m(u(v=t[b])[0],v[1]):m(t[b]))===s||g===f)return g}else for(d=y.call(t);!(v=d.next()).done;)if((g=i(d,m,v.value,n))===s||g===f)return g}).BREAK=s,n.RETURN=f},function(t,n,e){var r=e(1).navigator;t.exports=r&&r.userAgent||""},function(t,n,e){"use strict";var r=e(1),i=e(0),o=e(11),u=e(45),a=e(29),c=e(58),s=e(44),f=e(4),l=e(2),h=e(54),p=e(40),v=e(69);t.exports=function(t,n,e,d,g,y){var m=r[t],b=m,S=g?"set":"add",w=b&&b.prototype,_={},x=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof b&&(y||w.forEach&&!l((function(){(new b).entries().next()})))){var M=new b,P=M[S](y?{}:-0,1)!=M,O=l((function(){M.has(1)})),F=h((function(t){new b(t)})),A=!y&&l((function(){for(var t=new b,n=5;n--;)t[S](n,n);return!t.has(-0)}));F||((b=n((function(n,e){s(n,b,t);var r=v(new m,n,b);return null!=e&&c(e,g,r[S],r),r}))).prototype=w,w.constructor=b),(O||A)&&(x("delete"),x("has"),g&&x("get")),(A||P)&&x(S),y&&w.clear&&delete w.clear}else b=d.getConstructor(n,t,g,S),u(b.prototype,e),a.NEED=!0;return p(b,t),_[t]=b,i(i.G+i.W+i.F*(b!=m),_),y||d.setStrong(b,t,g),b}},function(t,n,e){for(var r,i=e(1),o=e(14),u=e(31),a=u("typed_array"),c=u("view"),s=!(!i.ArrayBuffer||!i.DataView),f=s,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[h[l++]])?(o(r.prototype,a,!0),o(r.prototype,c,!0)):f=!1;t.exports={ABV:s,CONSTR:f,TYPED:a,VIEW:c}},function(t,n,e){var r=e(4),i=e(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){n.f=e(5)},function(t,n,e){var r=e(50)("keys"),i=e(31);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(1).document;t.exports=r&&r.documentElement},function(t,n,e){var r=e(4),i=e(3),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e(19)(Function.call,e(22).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,n){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,n,e){var r=e(4),i=e(67).set;t.exports=function(t,n,e){var o,u=n.constructor;return u!==e&&"function"==typeof u&&(o=u.prototype)!==e.prototype&&r(o)&&i&&i(t,o),t}},function(t,n,e){"use strict";var r=e(21),i=e(26);t.exports=function(t){var n=String(i(this)),e="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(e+=n);return e}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(t,n,e){var r=e(21),i=e(26);t.exports=function(t){return function(n,e){var o,u,a=String(i(n)),c=r(e),s=a.length;return c<0||c>=s?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):o:t?a.slice(c,c+2):u-56320+(o-55296<<10)+65536}}},function(t,n,e){"use strict";var r=e(32),i=e(0),o=e(11),u=e(14),a=e(42),c=e(110),s=e(40),f=e(37),l=e(5)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,n,e,v,d,g,y){c(e,n,v);var m,b,S,w=function(t){if(!h&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},_=n+" Iterator",x="values"==d,M=!1,P=t.prototype,O=P[l]||P["@@iterator"]||d&&P[d],F=O||w(d),A=d?x?w("entries"):F:void 0,E="Array"==n&&P.entries||O;if(E&&(S=f(E.call(new t)))!==Object.prototype&&S.next&&(s(S,_,!0),r||"function"==typeof S[l]||u(S,l,p)),x&&O&&"values"!==O.name&&(M=!0,F=function(){return O.call(this)}),r&&!y||!h&&!M&&P[l]||u(P,l,F),a[n]=F,a[_]=p,d)if(m={values:x?F:w("values"),keys:g?F:w("keys"),entries:A},y)for(b in m)b in P||o(P,b,m[b]);else i(i.P+i.F*(h||M),n,m);return m}},function(t,n,e){var r=e(76),i=e(26);t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(i(t))}},function(t,n,e){var r=e(4),i=e(25),o=e(5)("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,e){var r=e(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,e){var r=e(42),i=e(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,n,e){"use strict";var r=e(9),i=e(30);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},function(t,n,e){var r=e(48),i=e(5)("iterator"),o=e(42);t.exports=e(7).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){"use strict";var r=e(10),i=e(34),o=e(6);t.exports=function(t){for(var n=r(this),e=o(n.length),u=arguments.length,a=i(u>1?arguments[1]:void 0,e),c=u>2?arguments[2]:void 0,s=void 0===c?e:i(c,e);s>a;)n[a++]=t;return n}},function(t,n,e){"use strict";var r=e(38),i=e(115),o=e(42),u=e(15);t.exports=e(74)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n,e){"use strict";var r,i,o=e(55),u=RegExp.prototype.exec,a=String.prototype.replace,c=u,s=(r=/a/,i=/b*/g,u.call(r,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=void 0!==/()??/.exec("")[1];(s||f)&&(c=function(t){var n,e,r,i,c=this;return f&&(e=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),s&&(n=c.lastIndex),r=u.call(c,t),s&&r&&(c.lastIndex=c.global?r.index+r[0].length:n),f&&r&&r.length>1&&a.call(r[0],e,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,n,e){"use strict";var r=e(73)(!0);t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},function(t,n,e){var r,i,o,u=e(19),a=e(104),c=e(66),s=e(62),f=e(1),l=f.process,h=f.setImmediate,p=f.clearImmediate,v=f.MessageChannel,d=f.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},b=function(t){m.call(t.data)};h&&p||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return y[++g]=function(){a("function"==typeof t?t:Function(t),n)},r(g),g},p=function(t){delete y[t]},"process"==e(25)(l)?r=function(t){l.nextTick(u(m,t,1))}:d&&d.now?r=function(t){d.now(u(m,t,1))}:v?(o=(i=new v).port2,i.port1.onmessage=b,r=u(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:p}},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e(32),u=e(61),a=e(14),c=e(45),s=e(2),f=e(44),l=e(21),h=e(6),p=e(123),v=e(36).f,d=e(9).f,g=e(81),y=e(40),m="prototype",b="Wrong index!",S=r.ArrayBuffer,w=r.DataView,_=r.Math,x=r.RangeError,M=r.Infinity,P=S,O=_.abs,F=_.pow,A=_.floor,E=_.log,N=_.LN2,R=i?"_b":"buffer",k=i?"_l":"byteLength",T=i?"_o":"byteOffset";function I(t,n,e){var r,i,o,u=new Array(e),a=8*e-n-1,c=(1<<a)-1,s=c>>1,f=23===n?F(2,-24)-F(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===M?(i=t!=t?1:0,r=c):(r=A(E(t)/N),t*(o=F(2,-r))<1&&(r--,o*=2),(t+=r+s>=1?f/o:f*F(2,1-s))*o>=2&&(r++,o/=2),r+s>=c?(i=0,r=c):r+s>=1?(i=(t*o-1)*F(2,n),r+=s):(i=t*F(2,s-1)*F(2,n),r=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(r=r<<n|i,a+=n;a>0;u[l++]=255&r,r/=256,a-=8);return u[--l]|=128*h,u}function L(t,n,e){var r,i=8*e-n-1,o=(1<<i)-1,u=o>>1,a=i-7,c=e-1,s=t[c--],f=127&s;for(s>>=7;a>0;f=256*f+t[c],c--,a-=8);for(r=f&(1<<-a)-1,f>>=-a,a+=n;a>0;r=256*r+t[c],c--,a-=8);if(0===f)f=1-u;else{if(f===o)return r?NaN:s?-M:M;r+=F(2,n),f-=u}return(s?-1:1)*r*F(2,f-n)}function j(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function C(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return I(t,52,8)}function V(t){return I(t,23,4)}function D(t,n,e){d(t[m],n,{get:function(){return this[e]}})}function U(t,n,e,r){var i=p(+e);if(i+n>t[k])throw x(b);var o=t[R]._b,u=i+t[T],a=o.slice(u,u+n);return r?a:a.reverse()}function z(t,n,e,r,i,o){var u=p(+e);if(u+n>t[k])throw x(b);for(var a=t[R]._b,c=u+t[T],s=r(+i),f=0;f<n;f++)a[c+f]=s[o?f:n-f-1]}if(u.ABV){if(!s((function(){S(1)}))||!s((function(){new S(-1)}))||s((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var q,K=(S=function(t){return f(this,S),new P(p(t))})[m]=P[m],Y=v(P),Q=0;Y.length>Q;)(q=Y[Q++])in S||a(S,q,P[q]);o||(K.constructor=S)}var H=new w(new S(2)),J=w[m].setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||c(w[m],{setInt8:function(t,n){J.call(this,t,n<<24>>24)},setUint8:function(t,n){J.call(this,t,n<<24>>24)}},!0)}else S=function(t){f(this,S,"ArrayBuffer");var n=p(t);this._b=g.call(new Array(n),0),this[k]=n},w=function(t,n,e){f(this,w,"DataView"),f(t,S,"DataView");var r=t[k],i=l(n);if(i<0||i>r)throw x("Wrong offset!");if(i+(e=void 0===e?r-i:h(e))>r)throw x("Wrong length!");this[R]=t,this[T]=i,this[k]=e},i&&(D(S,"byteLength","_l"),D(w,"buffer","_b"),D(w,"byteLength","_l"),D(w,"byteOffset","_o")),c(w[m],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var n=U(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=U(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return j(U(this,4,t,arguments[1]))},getUint32:function(t){return j(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return L(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return L(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){z(this,1,t,B,n)},setUint8:function(t,n){z(this,1,t,B,n)},setInt16:function(t,n){z(this,2,t,C,n,arguments[2])},setUint16:function(t,n){z(this,2,t,C,n,arguments[2])},setInt32:function(t,n){z(this,4,t,W,n,arguments[2])},setUint32:function(t,n){z(this,4,t,W,n,arguments[2])},setFloat32:function(t,n){z(this,4,t,V,n,arguments[2])},setFloat64:function(t,n){z(this,8,t,G,n,arguments[2])}});y(S,"ArrayBuffer"),y(w,"DataView"),a(w[m],u.VIEW,!0),n.ArrayBuffer=S,n.DataView=w},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){t.exports=!e(128)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r,i=(r=e(91))&&r.__esModule?r:{default:r},o=e(18);function u(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){}var n,e,r;return t.getParser=function(t,n){if(void 0===n&&(n=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new i.default(t,n)},t.parse=function(t){return new i.default(t).getResult()},n=t,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(e=null)&&u(n.prototype,e),r&&u(n,r),t}();n.default=a,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r=c(e(92)),i=c(e(93)),o=c(e(94)),u=c(e(95)),a=c(e(17));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(t,n){if(void 0===n&&(n=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==n&&this.parse()}var n=t.prototype;return n.getUA=function(){return this._ua},n.test=function(t){return t.test(this._ua)},n.parseBrowser=function(){var t=this;this.parsedResult.browser={};var n=r.default.find((function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some((function(n){return t.test(n)}));throw new Error("Browser's test function is not valid")}));return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser},n.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},n.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},n.getBrowserVersion=function(){return this.getBrowser().version},n.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},n.parseOS=function(){var t=this;this.parsedResult.os={};var n=i.default.find((function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some((function(n){return t.test(n)}));throw new Error("Browser's test function is not valid")}));return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os},n.getOSName=function(t){var n=this.getOS().name;return t?String(n).toLowerCase()||"":n||""},n.getOSVersion=function(){return this.getOS().version},n.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},n.getPlatformType=function(t){void 0===t&&(t=!1);var n=this.getPlatform().type;return t?String(n).toLowerCase()||"":n||""},n.parsePlatform=function(){var t=this;this.parsedResult.platform={};var n=o.default.find((function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some((function(n){return t.test(n)}));throw new Error("Browser's test function is not valid")}));return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform},n.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},n.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},n.parseEngine=function(){var t=this;this.parsedResult.engine={};var n=u.default.find((function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some((function(n){return t.test(n)}));throw new Error("Browser's test function is not valid")}));return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine},n.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},n.getResult=function(){return Object.assign({},this.parsedResult)},n.satisfies=function(t){var n=this,e={},r=0,i={},o=0;if(Object.keys(t).forEach((function(n){var u=t[n];"string"==typeof u?(i[n]=u,o+=1):"object"==typeof u&&(e[n]=u,r+=1)})),r>0){var u=Object.keys(e),a=u.find((function(t){return n.isOS(t)}));if(a){var c=this.satisfies(e[a]);if(void 0!==c)return c}var s=u.find((function(t){return n.isPlatform(t)}));if(s){var f=this.satisfies(e[s]);if(void 0!==f)return f}}if(o>0){var l=Object.keys(i).find((function(t){return n.isBrowser(t,!0)}));if(void 0!==l)return this.compareVersion(i[l])}},n.isBrowser=function(t,n){void 0===n&&(n=!1);var e=this.getBrowserName().toLowerCase(),r=t.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return n&&i&&(r=i.toLowerCase()),r===e},n.compareVersion=function(t){var n=[0],e=t,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===t[0]||"<"===t[0]?(e=t.substr(1),"="===t[1]?(r=!0,e=t.substr(2)):n=[],">"===t[0]?n.push(1):n.push(-1)):"="===t[0]?e=t.substr(1):"~"===t[0]&&(r=!0,e=t.substr(1)),n.indexOf(a.default.compareVersions(i,e,r))>-1},n.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},n.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},n.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},n.is=function(t){return this.isBrowser(t)||this.isOS(t)||this.isPlatform(t)},n.some=function(t){var n=this;return void 0===t&&(t=[]),t.some((function(t){return n.is(t)}))},t}();n.default=s,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r,i=(r=e(17))&&r.__esModule?r:{default:r};var o=/version\/(\d+(\.?_?\d+)+)/i,u=[{test:[/googlebot/i],describe:function(t){var n={name:"Googlebot"},e=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/opera/i],describe:function(t){var n={name:"Opera"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/opr\/|opios/i],describe:function(t){var n={name:"Opera"},e=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/SamsungBrowser/i],describe:function(t){var n={name:"Samsung Internet for Android"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/Whale/i],describe:function(t){var n={name:"NAVER Whale Browser"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/MZBrowser/i],describe:function(t){var n={name:"MZ Browser"},e=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/focus/i],describe:function(t){var n={name:"Focus"},e=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/swing/i],describe:function(t){var n={name:"Swing"},e=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/coast/i],describe:function(t){var n={name:"Opera Coast"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/yabrowser/i],describe:function(t){var n={name:"Yandex Browser"},e=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/ucbrowser/i],describe:function(t){var n={name:"UC Browser"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/Maxthon|mxios/i],describe:function(t){var n={name:"Maxthon"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/epiphany/i],describe:function(t){var n={name:"Epiphany"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/puffin/i],describe:function(t){var n={name:"Puffin"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/sleipnir/i],describe:function(t){var n={name:"Sleipnir"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/k-meleon/i],describe:function(t){var n={name:"K-Meleon"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/micromessenger/i],describe:function(t){var n={name:"WeChat"},e=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/qqbrowser/i],describe:function(t){var n={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},e=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/msie|trident/i],describe:function(t){var n={name:"Internet Explorer"},e=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/\sedg\//i],describe:function(t){var n={name:"Microsoft Edge"},e=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/edg([ea]|ios)/i],describe:function(t){var n={name:"Microsoft Edge"},e=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/vivaldi/i],describe:function(t){var n={name:"Vivaldi"},e=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/seamonkey/i],describe:function(t){var n={name:"SeaMonkey"},e=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/sailfish/i],describe:function(t){var n={name:"Sailfish"},e=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return e&&(n.version=e),n}},{test:[/silk/i],describe:function(t){var n={name:"Amazon Silk"},e=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/phantom/i],describe:function(t){var n={name:"PhantomJS"},e=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/slimerjs/i],describe:function(t){var n={name:"SlimerJS"},e=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n={name:"BlackBerry"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n={name:"WebOS Browser"},e=i.default.getFirstMatch(o,t)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/bada/i],describe:function(t){var n={name:"Bada"},e=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/tizen/i],describe:function(t){var n={name:"Tizen"},e=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/qupzilla/i],describe:function(t){var n={name:"QupZilla"},e=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var n={name:"Firefox"},e=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/chromium/i],describe:function(t){var n={name:"Chromium"},e=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/chrome|crios|crmo/i],describe:function(t){var n={name:"Chrome"},e=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/GSA/i],describe:function(t){var n={name:"Google Search"},e=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:function(t){var n=!t.test(/like android/i),e=t.test(/android/i);return n&&e},describe:function(t){var n={name:"Android Browser"},e=i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/playstation 4/i],describe:function(t){var n={name:"PlayStation 4"},e=i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/safari|applewebkit/i],describe:function(t){var n={name:"Safari"},e=i.default.getFirstMatch(o,t);return e&&(n.version=e),n}},{test:[/.*/i],describe:function(t){var n=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(n,t),version:i.default.getSecondMatch(n,t)}}}];n.default=u,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r,i=(r=e(17))&&r.__esModule?r:{default:r},o=e(18);var u=[{test:[/Roku\/DVP/],describe:function(t){var n=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:o.OS_MAP.Roku,version:n}}},{test:[/windows phone/i],describe:function(t){var n=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.WindowsPhone,version:n}}},{test:[/windows/i],describe:function(t){var n=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),e=i.default.getWindowsVersionName(n);return{name:o.OS_MAP.Windows,version:n,versionName:e}}},{test:[/macintosh/i],describe:function(t){var n=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),e=i.default.getMacOSVersionName(n),r={name:o.OS_MAP.MacOS,version:n};return e&&(r.versionName=e),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var n=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:n}}},{test:function(t){var n=!t.test(/like android/i),e=t.test(/android/i);return n&&e},describe:function(t){var n=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),e=i.default.getAndroidVersionName(n),r={name:o.OS_MAP.Android,version:n};return e&&(r.versionName=e),r}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var n=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),e={name:o.OS_MAP.WebOS};return n&&n.length&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var n=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||i.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:o.OS_MAP.BlackBerry,version:n}}},{test:[/bada/i],describe:function(t){var n=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Bada,version:n}}},{test:[/tizen/i],describe:function(t){var n=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.Tizen,version:n}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var n=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:o.OS_MAP.PlayStation4,version:n}}}];n.default=u,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r,i=(r=e(17))&&r.__esModule?r:{default:r},o=e(18);var u=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var n=i.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",e={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return n&&(e.model=n),e}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){var n=t.test(/ipod|iphone/i),e=t.test(/like (ipod|iphone)/i);return n&&!e},describe:function(t){var n=i.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var n=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&n>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];n.default=u,t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=void 0;var r,i=(r=e(17))&&r.__esModule?r:{default:r},o=e(18);var u=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:o.ENGINE_MAP.Blink};var n=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:o.ENGINE_MAP.EdgeHTML,version:n}}},{test:[/trident/i],describe:function(t){var n={name:o.ENGINE_MAP.Trident},e=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:function(t){return t.test(/presto/i)},describe:function(t){var n={name:o.ENGINE_MAP.Presto},e=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:function(t){var n=t.test(/gecko/i),e=t.test(/like gecko/i);return n&&!e},describe:function(t){var n={name:o.ENGINE_MAP.Gecko},e=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var n={name:o.ENGINE_MAP.WebKit},e=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return e&&(n.version=e),n}}];n.default=u,t.exports=n.default},function(t,n,e){t.exports=!e(8)&&!e(2)((function(){return 7!=Object.defineProperty(e(62)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(1),i=e(7),o=e(32),u=e(63),a=e(9).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||a(n,t,{value:u.f(t)})}},function(t,n,e){var r=e(13),i=e(15),o=e(51)(!1),u=e(64)("IE_PROTO");t.exports=function(t,n){var e,a=i(t),c=0,s=[];for(e in a)e!=u&&r(a,e)&&s.push(e);for(;n.length>c;)r(a,e=n[c++])&&(~o(s,e)||s.push(e));return s}},function(t,n,e){var r=e(9),i=e(3),o=e(33);t.exports=e(8)?Object.defineProperties:function(t,n){i(t);for(var e,u=o(n),a=u.length,c=0;a>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(15),i=e(36).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(r(t))}},function(t,n,e){"use strict";var r=e(8),i=e(33),o=e(52),u=e(47),a=e(10),c=e(46),s=Object.assign;t.exports=!s||e(2)((function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r}))?function(t,n){for(var e=a(t),s=arguments.length,f=1,l=o.f,h=u.f;s>f;)for(var p,v=c(arguments[f++]),d=l?i(v).concat(l(v)):i(v),g=d.length,y=0;g>y;)p=d[y++],r&&!h.call(v,p)||(e[p]=v[p]);return e}:s},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,e){"use strict";var r=e(20),i=e(4),o=e(104),u=[].slice,a={},c=function(t,n,e){if(!(n in a)){for(var r=[],i=0;i<n;i++)r[i]="a["+i+"]";a[n]=Function("F,a","return new F("+r.join(",")+")")}return a[n](t,e)};t.exports=Function.bind||function(t){var n=r(this),e=u.call(arguments,1),a=function(){var r=e.concat(u.call(arguments));return this instanceof a?c(n,r.length,r):o(n,r,t)};return i(n.prototype)&&(a.prototype=n.prototype),a}},function(t,n){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var r=e(1).parseInt,i=e(41).trim,o=e(68),u=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,n){var e=i(String(t),3);return r(e,n>>>0||(u.test(e)?16:10))}:r},function(t,n,e){var r=e(1).parseFloat,i=e(41).trim;t.exports=1/r(e(68)+"-0")!=-1/0?function(t){var n=i(String(t),3),e=r(n);return 0===e&&"-"==n.charAt(0)?-0:e}:r},function(t,n,e){var r=e(25);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(n);return+t}},function(t,n,e){var r=e(4),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,e){"use strict";var r=e(35),i=e(30),o=e(40),u={};e(14)(u,e(5)("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=r(u,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(3);t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(n){var o=t.return;throw void 0!==o&&r(o.call(t)),n}}},function(t,n,e){var r=e(224);t.exports=function(t,n){return new(r(t))(n)}},function(t,n,e){var r=e(20),i=e(10),o=e(46),u=e(6);t.exports=function(t,n,e,a,c){r(n);var s=i(t),f=o(s),l=u(s.length),h=c?l-1:0,p=c?-1:1;if(e<2)for(;;){if(h in f){a=f[h],h+=p;break}if(h+=p,c?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:l>h;h+=p)h in f&&(a=n(a,f[h],h,s));return a}},function(t,n,e){"use strict";var r=e(10),i=e(34),o=e(6);t.exports=[].copyWithin||function(t,n){var e=r(this),u=o(e.length),a=i(t,u),c=i(n,u),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?u:i(s,u))-c,u-a),l=1;for(c<a&&a<c+f&&(l=-1,c+=f-1,a+=f-1);f-- >0;)c in e?e[a]=e[c]:delete e[a],a+=l,c+=l;return e}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){"use strict";var r=e(83);e(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,n,e){e(8)&&"g"!=/./g.flags&&e(9).f(RegExp.prototype,"flags",{configurable:!0,get:e(55)})},function(t,n,e){"use strict";var r,i,o,u,a=e(32),c=e(1),s=e(19),f=e(48),l=e(0),h=e(4),p=e(20),v=e(44),d=e(58),g=e(49),y=e(85).set,m=e(244)(),b=e(119),S=e(245),w=e(59),_=e(120),x=c.TypeError,M=c.process,P=M&&M.versions,O=P&&P.v8||"",F=c.Promise,A="process"==f(M),E=function(){},N=i=b.f,R=!!function(){try{var t=F.resolve(1),n=(t.constructor={})[e(5)("species")]=function(t){t(E,E)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof n&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),k=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},T=function(t,n){if(!t._n){t._n=!0;var e=t._c;m((function(){for(var r=t._v,i=1==t._s,o=0,u=function(n){var e,o,u,a=i?n.ok:n.fail,c=n.resolve,s=n.reject,f=n.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),u=!0)),e===n.promise?s(x("Promise-chain cycle")):(o=k(e))?o.call(e,c,s):c(e)):s(r)}catch(t){f&&!u&&f.exit(),s(t)}};e.length>o;)u(e[o++]);t._c=[],t._n=!1,n&&!t._h&&I(t)}))}},I=function(t){y.call(c,(function(){var n,e,r,i=t._v,o=L(t);if(o&&(n=S((function(){A?M.emit("unhandledRejection",i,t):(e=c.onunhandledrejection)?e({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=A||L(t)?2:1),t._a=void 0,o&&n.e)throw n.v}))},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){y.call(c,(function(){var n;A?M.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})}))},B=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),T(n,!0))},C=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw x("Promise can't be resolved itself");(n=k(t))?m((function(){var r={_w:e,_d:!1};try{n.call(t,s(C,r,1),s(B,r,1))}catch(t){B.call(r,t)}})):(e._v=t,e._s=1,T(e,!1))}catch(t){B.call({_w:e,_d:!1},t)}}};R||(F=function(t){v(this,F,"Promise","_h"),p(t),r.call(this);try{t(s(C,this,1),s(B,this,1))}catch(t){B.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(45)(F.prototype,{then:function(t,n){var e=N(g(this,F));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=A?M.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&T(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=s(C,t,1),this.reject=s(B,t,1)},b.f=N=function(t){return t===F||t===u?new o(t):i(t)}),l(l.G+l.W+l.F*!R,{Promise:F}),e(40)(F,"Promise"),e(43)("Promise"),u=e(7).Promise,l(l.S+l.F*!R,"Promise",{reject:function(t){var n=N(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(a||!R),"Promise",{resolve:function(t){return _(a&&this===u?F:this,t)}}),l(l.S+l.F*!(R&&e(54)((function(t){F.all(t).catch(E)}))),"Promise",{all:function(t){var n=this,e=N(n),r=e.resolve,i=e.reject,o=S((function(){var e=[],o=0,u=1;d(t,!1,(function(t){var a=o++,c=!1;e.push(void 0),u++,n.resolve(t).then((function(t){c||(c=!0,e[a]=t,--u||r(e))}),i)})),--u||r(e)}));return o.e&&i(o.v),e.promise},race:function(t){var n=this,e=N(n),r=e.reject,i=S((function(){d(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return i.e&&r(i.v),e.promise}})},function(t,n,e){"use strict";var r=e(20);function i(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new i(t)}},function(t,n,e){var r=e(3),i=e(4),o=e(119);t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){"use strict";var r=e(9).f,i=e(35),o=e(45),u=e(19),a=e(44),c=e(58),s=e(74),f=e(115),l=e(43),h=e(8),p=e(29).fastKey,v=e(39),d=h?"_s":"size",g=function(t,n){var e,r=p(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,s){var f=t((function(t,r){a(t,f,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,null!=r&&c(r,e,t[s],t)}));return o(f.prototype,{clear:function(){for(var t=v(this,n),e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var e=v(this,n),r=g(e,t);if(r){var i=r.n,o=r.p;delete e._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),e._f==r&&(e._f=i),e._l==r&&(e._l=o),e[d]--}return!!r},forEach:function(t){v(this,n);for(var e,r=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(v(this,n),t)}}),h&&r(f.prototype,"size",{get:function(){return v(this,n)[d]}}),f},def:function(t,n,e){var r,i,o=g(t,n);return o?o.v=e:(t._l=o={i:i=p(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,n,e){s(t,n,(function(t,e){this._t=v(t,n),this._k=e,this._l=void 0}),(function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?f(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,f(1))}),e?"entries":"values",!e,!0),l(n)}}},function(t,n,e){"use strict";var r=e(45),i=e(29).getWeak,o=e(3),u=e(4),a=e(44),c=e(58),s=e(24),f=e(13),l=e(39),h=s(5),p=s(6),v=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,n){return h(t.a,(function(t){return t[0]===n}))};g.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var e=y(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,o){var s=t((function(t,r){a(t,s,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=r&&c(r,e,t[o],t)}));return r(s.prototype,{delete:function(t){if(!u(t))return!1;var e=i(t);return!0===e?d(l(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=i(t);return!0===e?d(l(this,n)).has(t):e&&f(e,this._i)}}),s},def:function(t,n,e){var r=i(o(n),!0);return!0===r?d(t).set(n,e):r[t._i]=e,t},ufstore:d}},function(t,n,e){var r=e(21),i=e(6);t.exports=function(t){if(void 0===t)return 0;var n=r(t),e=i(n);if(n!==e)throw RangeError("Wrong length!");return e}},function(t,n,e){var r=e(36),i=e(52),o=e(3),u=e(1).Reflect;t.exports=u&&u.ownKeys||function(t){var n=r.f(o(t)),e=i.f;return e?n.concat(e(t)):n}},function(t,n,e){var r=e(6),i=e(70),o=e(26);t.exports=function(t,n,e,u){var a=String(o(t)),c=a.length,s=void 0===e?" ":String(e),f=r(n);if(f<=c||""==s)return a;var l=f-c,h=i.call(s,Math.ceil(l/s.length));return h.length>l&&(h=h.slice(0,l)),u?h+a:a+h}},function(t,n,e){var r=e(8),i=e(33),o=e(15),u=e(47).f;t.exports=function(t){return function(n){for(var e,a=o(n),c=i(a),s=c.length,f=0,l=[];s>f;)e=c[f++],r&&!u.call(a,e)||l.push(t?[e,a[e]]:a[e]);return l}}},function(t,n){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){e(130),t.exports=e(90)},function(t,n,e){"use strict";e(131);var r,i=(r=e(303))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,n,e){"use strict";e(132),e(275),e(277),e(280),e(282),e(284),e(286),e(288),e(290),e(292),e(294),e(296),e(298),e(302)},function(t,n,e){e(133),e(136),e(137),e(138),e(139),e(140),e(141),e(142),e(143),e(144),e(145),e(146),e(147),e(148),e(149),e(150),e(151),e(152),e(153),e(154),e(155),e(156),e(157),e(158),e(159),e(160),e(161),e(162),e(163),e(164),e(165),e(166),e(167),e(168),e(169),e(170),e(171),e(172),e(173),e(174),e(175),e(176),e(177),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(214),e(215),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(235),e(236),e(237),e(82),e(238),e(116),e(239),e(117),e(240),e(241),e(242),e(243),e(118),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(271),e(272),e(273),e(274),t.exports=e(7)},function(t,n,e){"use strict";var r=e(1),i=e(13),o=e(8),u=e(0),a=e(11),c=e(29).KEY,s=e(2),f=e(50),l=e(40),h=e(31),p=e(5),v=e(63),d=e(97),g=e(135),y=e(53),m=e(3),b=e(4),S=e(10),w=e(15),_=e(28),x=e(30),M=e(35),P=e(100),O=e(22),F=e(52),A=e(9),E=e(33),N=O.f,R=A.f,k=P.f,T=r.Symbol,I=r.JSON,L=I&&I.stringify,j=p("_hidden"),B=p("toPrimitive"),C={}.propertyIsEnumerable,W=f("symbol-registry"),G=f("symbols"),V=f("op-symbols"),D=Object.prototype,U="function"==typeof T&&!!F.f,z=r.QObject,q=!z||!z.prototype||!z.prototype.findChild,K=o&&s((function(){return 7!=M(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=N(D,n);r&&delete D[n],R(t,n,e),r&&t!==D&&R(D,n,r)}:R,Y=function(t){var n=G[t]=M(T.prototype);return n._k=t,n},Q=U&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},H=function(t,n,e){return t===D&&H(V,n,e),m(t),n=_(n,!0),m(e),i(G,n)?(e.enumerable?(i(t,j)&&t[j][n]&&(t[j][n]=!1),e=M(e,{enumerable:x(0,!1)})):(i(t,j)||R(t,j,x(1,{})),t[j][n]=!0),K(t,n,e)):R(t,n,e)},J=function(t,n){m(t);for(var e,r=g(n=w(n)),i=0,o=r.length;o>i;)H(t,e=r[i++],n[e]);return t},X=function(t){var n=C.call(this,t=_(t,!0));return!(this===D&&i(G,t)&&!i(V,t))&&(!(n||!i(this,t)||!i(G,t)||i(this,j)&&this[j][t])||n)},Z=function(t,n){if(t=w(t),n=_(n,!0),t!==D||!i(G,n)||i(V,n)){var e=N(t,n);return!e||!i(G,n)||i(t,j)&&t[j][n]||(e.enumerable=!0),e}},$=function(t){for(var n,e=k(w(t)),r=[],o=0;e.length>o;)i(G,n=e[o++])||n==j||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===D,r=k(e?V:w(t)),o=[],u=0;r.length>u;)!i(G,n=r[u++])||e&&!i(D,n)||o.push(G[n]);return o};U||(a((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(e){this===D&&n.call(V,e),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),K(this,t,x(1,e))};return o&&q&&K(D,t,{configurable:!0,set:n}),Y(t)}).prototype,"toString",(function(){return this._k})),O.f=Z,A.f=H,e(36).f=P.f=$,e(47).f=X,F.f=tt,o&&!e(32)&&a(D,"propertyIsEnumerable",X,!0),v.f=function(t){return Y(p(t))}),u(u.G+u.W+u.F*!U,{Symbol:T});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)p(nt[et++]);for(var rt=E(p.store),it=0;rt.length>it;)d(rt[it++]);u(u.S+u.F*!U,"Symbol",{for:function(t){return i(W,t+="")?W[t]:W[t]=T(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var n in W)if(W[n]===t)return n},useSetter:function(){q=!0},useSimple:function(){q=!1}}),u(u.S+u.F*!U,"Object",{create:function(t,n){return void 0===n?M(t):J(M(t),n)},defineProperty:H,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=s((function(){F.f(1)}));u(u.S+u.F*ot,"Object",{getOwnPropertySymbols:function(t){return F.f(S(t))}}),I&&u(u.S+u.F*(!U||s((function(){var t=T();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(b(n)||void 0!==t)&&!Q(t))return y(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Q(n))return n}),r[1]=n,L.apply(I,r)}}),T.prototype[B]||e(14)(T.prototype,B,T.prototype.valueOf),l(T,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){t.exports=e(50)("native-function-to-string",Function.toString)},function(t,n,e){var r=e(33),i=e(52),o=e(47);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var u,a=e(t),c=o.f,s=0;a.length>s;)c.call(t,u=a[s++])&&n.push(u);return n}},function(t,n,e){var r=e(0);r(r.S,"Object",{create:e(35)})},function(t,n,e){var r=e(0);r(r.S+r.F*!e(8),"Object",{defineProperty:e(9).f})},function(t,n,e){var r=e(0);r(r.S+r.F*!e(8),"Object",{defineProperties:e(99)})},function(t,n,e){var r=e(15),i=e(22).f;e(23)("getOwnPropertyDescriptor",(function(){return function(t,n){return i(r(t),n)}}))},function(t,n,e){var r=e(10),i=e(37);e(23)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,n,e){var r=e(10),i=e(33);e(23)("keys",(function(){return function(t){return i(r(t))}}))},function(t,n,e){e(23)("getOwnPropertyNames",(function(){return e(100).f}))},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(23)("freeze",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(23)("seal",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(4),i=e(29).onFreeze;e(23)("preventExtensions",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(4);e(23)("isFrozen",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},function(t,n,e){var r=e(4);e(23)("isSealed",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},function(t,n,e){var r=e(4);e(23)("isExtensible",(function(t){return function(n){return!!r(n)&&(!t||t(n))}}))},function(t,n,e){var r=e(0);r(r.S+r.F,"Object",{assign:e(101)})},function(t,n,e){var r=e(0);r(r.S,"Object",{is:e(102)})},function(t,n,e){var r=e(0);r(r.S,"Object",{setPrototypeOf:e(67).set})},function(t,n,e){"use strict";var r=e(48),i={};i[e(5)("toStringTag")]="z",i+""!="[object z]"&&e(11)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,n,e){var r=e(0);r(r.P,"Function",{bind:e(103)})},function(t,n,e){var r=e(9).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e(8)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){"use strict";var r=e(4),i=e(37),o=e(5)("hasInstance"),u=Function.prototype;o in u||e(9).f(u,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,e){var r=e(0),i=e(105);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,n,e){var r=e(0),i=e(106);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,n,e){"use strict";var r=e(1),i=e(13),o=e(25),u=e(69),a=e(28),c=e(2),s=e(36).f,f=e(22).f,l=e(9).f,h=e(41).trim,p=r.Number,v=p,d=p.prototype,g="Number"==o(e(35)(d)),y="trim"in String.prototype,m=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){var e,r,i,o=(n=y?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+n}for(var u,c=n.slice(2),s=0,f=c.length;s<f;s++)if((u=c.charCodeAt(s))<48||u>i)return NaN;return parseInt(c,r)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof p&&(g?c((function(){d.valueOf.call(e)})):"Number"!=o(e))?u(new v(m(n)),e,p):m(n)};for(var b,S=e(8)?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;S.length>w;w++)i(v,b=S[w])&&!i(p,b)&&l(p,b,f(v,b));p.prototype=d,d.constructor=p,e(11)(r,"Number",p)}},function(t,n,e){"use strict";var r=e(0),i=e(21),o=e(107),u=e(70),a=1..toFixed,c=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(t,n){for(var e=-1,r=n;++e<6;)r+=t*s[e],s[e]=r%1e7,r=c(r/1e7)},h=function(t){for(var n=6,e=0;--n>=0;)e+=s[n],s[n]=c(e/t),e=e%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var e=String(s[t]);n=""===n?e:n+u.call("0",7-e.length)+e}return n},v=function(t,n,e){return 0===n?e:n%2==1?v(t,n-1,e*t):v(t*t,n/2,e)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(2)((function(){a.call({})}))),"Number",{toFixed:function(t){var n,e,r,a,c=o(this,f),s=i(t),d="",g="0";if(s<0||s>20)throw RangeError(f);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(c*v(2,69,1))-69)<0?c*v(2,-n,1):c/v(2,n,1),e*=4503599627370496,(n=52-n)>0){for(l(0,e),r=s;r>=7;)l(1e7,0),r-=7;for(l(v(10,r,1),0),r=n-1;r>=23;)h(1<<23),r-=23;h(1<<r),l(1,1),h(2),g=p()}else l(0,e),l(1<<-n,0),g=p()+u.call("0",s);return g=s>0?d+((a=g.length)<=s?"0."+u.call("0",s-a)+g:g.slice(0,a-s)+"."+g.slice(a-s)):d+g}})},function(t,n,e){"use strict";var r=e(0),i=e(2),o=e(107),u=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==u.call(1,void 0)}))||!i((function(){u.call({})}))),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,e){var r=e(0),i=e(1).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{isInteger:e(108)})},function(t,n,e){var r=e(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,e){var r=e(0),i=e(108),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,e){var r=e(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,e){var r=e(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,e){var r=e(0),i=e(106);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,e){var r=e(0),i=e(105);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,e){var r=e(0),i=e(109),o=Math.sqrt,u=Math.acosh;r(r.S+r.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,e){var r=e(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,e){var r=e(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,e){var r=e(0),i=e(71);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,e){var r=e(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,e){var r=e(0),i=e(72);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,e){var r=e(0);r(r.S,"Math",{fround:e(178)})},function(t,n,e){var r=e(71),i=Math.pow,o=i(2,-52),u=i(2,-23),a=i(2,127)*(2-u),c=i(2,-126);t.exports=Math.fround||function(t){var n,e,i=Math.abs(t),s=r(t);return i<c?s*(i/c/u+1/o-1/o)*c*u:(e=(n=(1+u/o)*i)-(n-i))>a||e!=e?s*(1/0):s*e}},function(t,n,e){var r=e(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,n){for(var e,r,o=0,u=0,a=arguments.length,c=0;u<a;)c<(e=i(arguments[u++]))?(o=o*(r=c/e)*r+1,c=e):o+=e>0?(r=e/c)*r:e;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,n,e){var r=e(0),i=Math.imul;r(r.S+r.F*e(2)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,n){var e=+t,r=+n,i=65535&e,o=65535&r;return 0|i*o+((65535&e>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log1p:e(109)})},function(t,n,e){var r=e(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,e){var r=e(0);r(r.S,"Math",{sign:e(71)})},function(t,n,e){var r=e(0),i=e(72),o=Math.exp;r(r.S+r.F*e(2)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,e){var r=e(0),i=e(72),o=Math.exp;r(r.S,"Math",{tanh:function(t){var n=i(t=+t),e=i(-t);return n==1/0?1:e==1/0?-1:(n-e)/(o(t)+o(-t))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,e){var r=e(0),i=e(34),o=String.fromCharCode,u=String.fromCodePoint;r(r.S+r.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,e=[],r=arguments.length,u=0;r>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");e.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return e.join("")}})},function(t,n,e){var r=e(0),i=e(15),o=e(6);r(r.S,"String",{raw:function(t){for(var n=i(t.raw),e=o(n.length),r=arguments.length,u=[],a=0;e>a;)u.push(String(n[a++])),a<r&&u.push(String(arguments[a]));return u.join("")}})},function(t,n,e){"use strict";e(41)("trim",(function(t){return function(){return t(this,3)}}))},function(t,n,e){"use strict";var r=e(73)(!0);e(74)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})}))},function(t,n,e){"use strict";var r=e(0),i=e(73)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,e){"use strict";var r=e(0),i=e(6),o=e(75),u="".endsWith;r(r.P+r.F*e(77)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),e=arguments.length>1?arguments[1]:void 0,r=i(n.length),a=void 0===e?r:Math.min(i(e),r),c=String(t);return u?u.call(n,c,a):n.slice(a-c.length,a)===c}})},function(t,n,e){"use strict";var r=e(0),i=e(75);r(r.P+r.F*e(77)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,e){var r=e(0);r(r.P,"String",{repeat:e(70)})},function(t,n,e){"use strict";var r=e(0),i=e(6),o=e(75),u="".startsWith;r(r.P+r.F*e(77)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),e=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),r=String(t);return u?u.call(n,r,e):n.slice(e,e+r.length)===r}})},function(t,n,e){"use strict";e(12)("anchor",(function(t){return function(n){return t(this,"a","name",n)}}))},function(t,n,e){"use strict";e(12)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,n,e){"use strict";e(12)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,n,e){"use strict";e(12)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,n,e){"use strict";e(12)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,n,e){"use strict";e(12)("fontcolor",(function(t){return function(n){return t(this,"font","color",n)}}))},function(t,n,e){"use strict";e(12)("fontsize",(function(t){return function(n){return t(this,"font","size",n)}}))},function(t,n,e){"use strict";e(12)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,n,e){"use strict";e(12)("link",(function(t){return function(n){return t(this,"a","href",n)}}))},function(t,n,e){"use strict";e(12)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,n,e){"use strict";e(12)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,n,e){"use strict";e(12)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,n,e){"use strict";e(12)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,n,e){var r=e(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,e){"use strict";var r=e(0),i=e(10),o=e(28);r(r.P+r.F*e(2)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var n=i(this),e=o(n);return"number"!=typeof e||isFinite(e)?n.toISOString():null}})},function(t,n,e){var r=e(0),i=e(213);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,e){"use strict";var r=e(2),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),e=t.getUTCMilliseconds(),r=n<0?"-":n>9999?"+":"";return r+("00000"+Math.abs(n)).slice(r?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(e>99?e:"0"+u(e))+"Z"}:o},function(t,n,e){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e(11)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,n,e){var r=e(5)("toPrimitive"),i=Date.prototype;r in i||e(14)(i,r,e(216))},function(t,n,e){"use strict";var r=e(3),i=e(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,n,e){var r=e(0);r(r.S,"Array",{isArray:e(53)})},function(t,n,e){"use strict";var r=e(19),i=e(0),o=e(10),u=e(111),a=e(78),c=e(6),s=e(79),f=e(80);i(i.S+i.F*!e(54)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,i,l,h=o(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,g=void 0!==d,y=0,m=f(h);if(g&&(d=r(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&a(m))for(e=new p(n=c(h.length));n>y;y++)s(e,y,g?d(h[y],y):h[y]);else for(l=m.call(h),e=new p;!(i=l.next()).done;y++)s(e,y,g?u(l,d,[i.value,y],!0):i.value);return e.length=y,e}})},function(t,n,e){"use strict";var r=e(0),i=e(79);r(r.S+r.F*e(2)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,n=arguments.length,e=new("function"==typeof this?this:Array)(n);n>t;)i(e,t,arguments[t++]);return e.length=n,e}})},function(t,n,e){"use strict";var r=e(0),i=e(15),o=[].join;r(r.P+r.F*(e(46)!=Object||!e(16)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,e){"use strict";var r=e(0),i=e(66),o=e(25),u=e(34),a=e(6),c=[].slice;r(r.P+r.F*e(2)((function(){i&&c.call(i)})),"Array",{slice:function(t,n){var e=a(this.length),r=o(this);if(n=void 0===n?e:n,"Array"==r)return c.call(this,t,n);for(var i=u(t,e),s=u(n,e),f=a(s-i),l=new Array(f),h=0;h<f;h++)l[h]="String"==r?this.charAt(i+h):this[i+h];return l}})},function(t,n,e){"use strict";var r=e(0),i=e(20),o=e(10),u=e(2),a=[].sort,c=[1,2,3];r(r.P+r.F*(u((function(){c.sort(void 0)}))||!u((function(){c.sort(null)}))||!e(16)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,n,e){"use strict";var r=e(0),i=e(24)(0),o=e(16)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(4),i=e(53),o=e(5)("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,e){"use strict";var r=e(0),i=e(24)(1);r(r.P+r.F*!e(16)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(24)(2);r(r.P+r.F*!e(16)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(24)(3);r(r.P+r.F*!e(16)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(24)(4);r(r.P+r.F*!e(16)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(113);r(r.P+r.F*!e(16)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,e){"use strict";var r=e(0),i=e(113);r(r.P+r.F*!e(16)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,e){"use strict";var r=e(0),i=e(51)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(u||!e(16)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,e){"use strict";var r=e(0),i=e(15),o=e(21),u=e(6),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!e(16)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var n=i(this),e=u(n.length),r=e-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=e+r);r>=0;r--)if(r in n&&n[r]===t)return r||0;return-1}})},function(t,n,e){var r=e(0);r(r.P,"Array",{copyWithin:e(114)}),e(38)("copyWithin")},function(t,n,e){var r=e(0);r(r.P,"Array",{fill:e(81)}),e(38)("fill")},function(t,n,e){"use strict";var r=e(0),i=e(24)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e(38)("find")},function(t,n,e){"use strict";var r=e(0),i=e(24)(6),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r(r.P+r.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e(38)(o)},function(t,n,e){e(43)("Array")},function(t,n,e){var r=e(1),i=e(69),o=e(9).f,u=e(36).f,a=e(76),c=e(55),s=r.RegExp,f=s,l=s.prototype,h=/a/g,p=/a/g,v=new s(h)!==h;if(e(8)&&(!v||e(2)((function(){return p[e(5)("match")]=!1,s(h)!=h||s(p)==p||"/a/i"!=s(h,"i")})))){s=function(t,n){var e=this instanceof s,r=a(t),o=void 0===n;return!e&&r&&t.constructor===s&&o?t:i(v?new f(r&&!o?t.source:t,n):f((r=t instanceof s)?t.source:t,r&&o?c.call(t):n),e?this:l,s)};for(var d=function(t){t in s||o(s,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})},g=u(f),y=0;g.length>y;)d(g[y++]);l.constructor=s,s.prototype=l,e(11)(r,"RegExp",s)}e(43)("RegExp")},function(t,n,e){"use strict";e(117);var r=e(3),i=e(55),o=e(8),u=/./.toString,a=function(t){e(11)(RegExp.prototype,"toString",t,!0)};e(2)((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=u.name&&a((function(){return u.call(this)}))},function(t,n,e){"use strict";var r=e(3),i=e(6),o=e(84),u=e(56);e(57)("match",1,(function(t,n,e,a){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0!==i?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=a(e,t,this);if(n.done)return n.value;var c=r(t),s=String(this);if(!c.global)return u(c,s);var f=c.unicode;c.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(c,s));){var v=String(l[0]);h[p]=v,""===v&&(c.lastIndex=o(s,i(c.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,n,e){"use strict";var r=e(3),i=e(10),o=e(6),u=e(21),a=e(84),c=e(56),s=Math.max,f=Math.min,l=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;e(57)("replace",2,(function(t,n,e,v){return[function(r,i){var o=t(this),u=null==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},function(t,n){var i=v(e,t,this,n);if(i.done)return i.value;var l=r(t),h=String(this),p="function"==typeof n;p||(n=String(n));var g=l.global;if(g){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=c(l,h);if(null===b)break;if(m.push(b),!g)break;""===String(b[0])&&(l.lastIndex=a(h,o(l.lastIndex),y))}for(var S,w="",_=0,x=0;x<m.length;x++){b=m[x];for(var M=String(b[0]),P=s(f(u(b.index),h.length),0),O=[],F=1;F<b.length;F++)O.push(void 0===(S=b[F])?S:String(S));var A=b.groups;if(p){var E=[M].concat(O,P,h);void 0!==A&&E.push(A);var N=String(n.apply(void 0,E))}else N=d(M,h,P,O,A,n);P>=_&&(w+=h.slice(_,P)+N,_=P+M.length)}return w+h.slice(_)}];function d(t,n,r,o,u,a){var c=r+t.length,s=o.length,f=p;return void 0!==u&&(u=i(u),f=h),e.call(a,f,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=u[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>s){var h=l(f/10);return 0===h?e:h<=s?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}a=o[f-1]}return void 0===a?"":a}))}}))},function(t,n,e){"use strict";var r=e(3),i=e(102),o=e(56);e(57)("search",1,(function(t,n,e,u){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0!==i?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=u(e,t,this);if(n.done)return n.value;var a=r(t),c=String(this),s=a.lastIndex;i(s,0)||(a.lastIndex=0);var f=o(a,c);return i(a.lastIndex,s)||(a.lastIndex=s),null===f?-1:f.index}]}))},function(t,n,e){"use strict";var r=e(76),i=e(3),o=e(49),u=e(84),a=e(6),c=e(56),s=e(83),f=e(2),l=Math.min,h=[].push,p=!f((function(){RegExp(4294967295,"y")}));e(57)("split",2,(function(t,n,e,f){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(this);if(void 0===t&&0===n)return[];if(!r(t))return e.call(i,t,n);for(var o,u,a,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===n?4294967295:n>>>0,v=new RegExp(t.source,f+"g");(o=s.call(v,i))&&!((u=v.lastIndex)>l&&(c.push(i.slice(l,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),a=o[0].length,l=u,c.length>=p));)v.lastIndex===o.index&&v.lastIndex++;return l===i.length?!a&&v.test("")||c.push(""):c.push(i.slice(l)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),o=null==e?void 0:e[n];return void 0!==o?o.call(e,i,r):v.call(String(i),e,r)},function(t,n){var r=f(v,t,this,n,v!==e);if(r.done)return r.value;var s=i(t),h=String(this),d=o(s,RegExp),g=s.unicode,y=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(p?"y":"g"),m=new d(p?s:"^(?:"+s.source+")",y),b=void 0===n?4294967295:n>>>0;if(0===b)return[];if(0===h.length)return null===c(m,h)?[h]:[];for(var S=0,w=0,_=[];w<h.length;){m.lastIndex=p?w:0;var x,M=c(m,p?h:h.slice(w));if(null===M||(x=l(a(m.lastIndex+(p?0:w)),h.length))===S)w=u(h,w,g);else{if(_.push(h.slice(S,w)),_.length===b)return _;for(var P=1;P<=M.length-1;P++)if(_.push(M[P]),_.length===b)return _;w=S=x}}return _.push(h.slice(S)),_}]}))},function(t,n,e){var r=e(1),i=e(85).set,o=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,c="process"==e(25)(u);t.exports=function(){var t,n,e,s=function(){var r,i;for(c&&(r=u.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(c)e=function(){u.nextTick(s)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);e=function(){f.then(s)}}else e=function(){i.call(r,s)};else{var l=!0,h=document.createTextNode("");new o(s).observe(h,{characterData:!0}),e=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){"use strict";var r=e(121),i=e(39);t.exports=e(60)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var n=r.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return r.def(i(this,"Map"),0===t?0:t,n)}},r,!0)},function(t,n,e){"use strict";var r=e(121),i=e(39);t.exports=e(60)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,n,e){"use strict";var r,i=e(1),o=e(24)(0),u=e(11),a=e(29),c=e(101),s=e(122),f=e(4),l=e(39),h=e(39),p=!i.ActiveXObject&&"ActiveXObject"in i,v=a.getWeak,d=Object.isExtensible,g=s.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(f(t)){var n=v(t);return!0===n?g(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return s.def(l(this,"WeakMap"),t,n)}},b=t.exports=e(60)("WeakMap",y,m,s,!0,!0);h&&p&&(c((r=s.getConstructor(y,"WeakMap")).prototype,m),a.NEED=!0,o(["delete","has","get","set"],(function(t){var n=b.prototype,e=n[t];u(n,t,(function(n,i){if(f(n)&&!d(n)){this._f||(this._f=new r);var o=this._f[t](n,i);return"set"==t?this:o}return e.call(this,n,i)}))})))},function(t,n,e){"use strict";var r=e(122),i=e(39);e(60)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,n,e){"use strict";var r=e(0),i=e(61),o=e(86),u=e(3),a=e(34),c=e(6),s=e(4),f=e(1).ArrayBuffer,l=e(49),h=o.ArrayBuffer,p=o.DataView,v=i.ABV&&f.isView,d=h.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(f!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return v&&v(t)||s(t)&&g in t}}),r(r.P+r.U+r.F*e(2)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var e=u(this).byteLength,r=a(t,e),i=a(void 0===n?e:n,e),o=new(l(this,h))(c(i-r)),s=new p(this),f=new p(o),v=0;r<i;)f.setUint8(v++,s.getUint8(r++));return o}}),e(43)("ArrayBuffer")},function(t,n,e){var r=e(0);r(r.G+r.W+r.F*!e(61).ABV,{DataView:e(86).DataView})},function(t,n,e){e(27)("Int8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Uint8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Uint8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}),!0)},function(t,n,e){e(27)("Int16",2,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Uint16",2,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Int32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Uint32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Float32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(27)("Float64",8,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){var r=e(0),i=e(20),o=e(3),u=(e(1).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!e(2)((function(){u((function(){}))})),"Reflect",{apply:function(t,n,e){var r=i(t),c=o(e);return u?u(r,n,c):a.call(r,n,c)}})},function(t,n,e){var r=e(0),i=e(35),o=e(20),u=e(3),a=e(4),c=e(2),s=e(103),f=(e(1).Reflect||{}).construct,l=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),h=!c((function(){f((function(){}))}));r(r.S+r.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var e=arguments.length<3?t:o(arguments[2]);if(h&&!l)return f(t,n,e);if(t==e){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var r=[null];return r.push.apply(r,n),new(s.apply(t,r))}var c=e.prototype,p=i(a(c)?c:Object.prototype),v=Function.apply.call(t,p,n);return a(v)?v:p}})},function(t,n,e){var r=e(9),i=e(0),o=e(3),u=e(28);i(i.S+i.F*e(2)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,e){o(t),n=u(n,!0),o(e);try{return r.f(t,n,e),!0}catch(t){return!1}}})},function(t,n,e){var r=e(0),i=e(22).f,o=e(3);r(r.S,"Reflect",{deleteProperty:function(t,n){var e=i(o(t),n);return!(e&&!e.configurable)&&delete t[n]}})},function(t,n,e){"use strict";var r=e(0),i=e(3),o=function(t){this._t=i(t),this._i=0;var n,e=this._k=[];for(n in t)e.push(n)};e(110)(o,"Object",(function(){var t,n=this._k;do{if(this._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,e){var r=e(22),i=e(37),o=e(13),u=e(0),a=e(4),c=e(3);u(u.S,"Reflect",{get:function t(n,e){var u,s,f=arguments.length<3?n:arguments[2];return c(n)===f?n[e]:(u=r.f(n,e))?o(u,"value")?u.value:void 0!==u.get?u.get.call(f):void 0:a(s=i(n))?t(s,e,f):void 0}})},function(t,n,e){var r=e(22),i=e(0),o=e(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return r.f(o(t),n)}})},function(t,n,e){var r=e(0),i=e(37),o=e(3);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,e){var r=e(0),i=e(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{ownKeys:e(124)})},function(t,n,e){var r=e(0),i=e(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,e){var r=e(9),i=e(22),o=e(37),u=e(13),a=e(0),c=e(30),s=e(3),f=e(4);a(a.S,"Reflect",{set:function t(n,e,a){var l,h,p=arguments.length<4?n:arguments[3],v=i.f(s(n),e);if(!v){if(f(h=o(n)))return t(h,e,a,p);v=c(0)}if(u(v,"value")){if(!1===v.writable||!f(p))return!1;if(l=i.f(p,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=a,r.f(p,e,l)}else r.f(p,e,c(0,a));return!0}return void 0!==v.set&&(v.set.call(p,a),!0)}})},function(t,n,e){var r=e(0),i=e(67);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,e){e(276),t.exports=e(7).Array.includes},function(t,n,e){"use strict";var r=e(0),i=e(51)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e(38)("includes")},function(t,n,e){e(278),t.exports=e(7).Array.flatMap},function(t,n,e){"use strict";var r=e(0),i=e(279),o=e(10),u=e(6),a=e(20),c=e(112);r(r.P,"Array",{flatMap:function(t){var n,e,r=o(this);return a(t),n=u(r.length),e=c(r,0),i(e,r,r,n,0,1,t,arguments[1]),e}}),e(38)("flatMap")},function(t,n,e){"use strict";var r=e(53),i=e(4),o=e(6),u=e(19),a=e(5)("isConcatSpreadable");t.exports=function t(n,e,c,s,f,l,h,p){for(var v,d,g=f,y=0,m=!!h&&u(h,p,3);y<s;){if(y in c){if(v=m?m(c[y],y,e):c[y],d=!1,i(v)&&(d=void 0!==(d=v[a])?!!d:r(v)),d&&l>0)g=t(n,e,v,o(v.length),g,l-1)-1;else{if(g>=9007199254740991)throw TypeError();n[g]=v}g++}y++}return g}},function(t,n,e){e(281),t.exports=e(7).String.padStart},function(t,n,e){"use strict";var r=e(0),i=e(125),o=e(59),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*u,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,e){e(283),t.exports=e(7).String.padEnd},function(t,n,e){"use strict";var r=e(0),i=e(125),o=e(59),u=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*u,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,e){e(285),t.exports=e(7).String.trimLeft},function(t,n,e){"use strict";e(41)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,n,e){e(287),t.exports=e(7).String.trimRight},function(t,n,e){"use strict";e(41)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,n,e){e(289),t.exports=e(63).f("asyncIterator")},function(t,n,e){e(97)("asyncIterator")},function(t,n,e){e(291),t.exports=e(7).Object.getOwnPropertyDescriptors},function(t,n,e){var r=e(0),i=e(124),o=e(15),u=e(22),a=e(79);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,r=o(t),c=u.f,s=i(r),f={},l=0;s.length>l;)void 0!==(e=c(r,n=s[l++]))&&a(f,n,e);return f}})},function(t,n,e){e(293),t.exports=e(7).Object.values},function(t,n,e){var r=e(0),i=e(126)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,n,e){e(295),t.exports=e(7).Object.entries},function(t,n,e){var r=e(0),i=e(126)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,n,e){"use strict";e(118),e(297),t.exports=e(7).Promise.finally},function(t,n,e){"use strict";var r=e(0),i=e(7),o=e(1),u=e(49),a=e(120);r(r.P+r.R,"Promise",{finally:function(t){var n=u(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then((function(){return e}))}:t,e?function(e){return a(n,t()).then((function(){throw e}))}:t)}})},function(t,n,e){e(299),e(300),e(301),t.exports=e(7)},function(t,n,e){var r=e(1),i=e(0),o=e(59),u=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(n,e){var r=arguments.length>2,i=!!r&&u.call(arguments,2);return t(r?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,e)}};i(i.G+i.B+i.F*a,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,n,e){var r=e(0),i=e(85);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,e){for(var r=e(82),i=e(33),o=e(11),u=e(1),a=e(14),c=e(42),s=e(5),f=s("iterator"),l=s("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),d=0;d<v.length;d++){var g,y=v[d],m=p[y],b=u[y],S=b&&b.prototype;if(S&&(S[f]||a(S,f,h),S[l]||a(S,l,y),c[y]=h,m))for(g in r)S[g]||o(S,g,r[g],!0)}},function(t,n,e){var r=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,n,e,r){var i=n&&n.prototype instanceof d?n:d,o=Object.create(i.prototype),u=new F(r||[]);return o._invoke=function(t,n,e){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return E()}for(e.method=i,e.arg=o;;){var u=e.delegate;if(u){var a=M(u,e);if(a){if(a===v)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=h;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?p:l,c.arg===v)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=p,e.method="throw",e.arg=c.arg)}}}(t,e,u),o}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",v={};function d(){}function g(){}function y(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(A([])));S&&S!==e&&r.call(S,o)&&(m=S);var w=y.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function x(t){var n;this._invoke=function(e,i){function o(){return new Promise((function(n,o){!function n(e,i,o,u){var a=s(t[e],t,i);if("throw"!==a.type){var c=a.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then((function(t){n("next",t,o,u)}),(function(t){n("throw",t,o,u)})):Promise.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,u)}))}u(a.arg)}(e,i,n,o)}))}return n=n?n.then(o,o):o()}}function M(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,M(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=s(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,u=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return u.next=u}}return{next:E}}function E(){return{value:n,done:!0}}return g.prototype=w.constructor=y,y.constructor=g,y[a]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===g||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(x.prototype),x.prototype[u]=function(){return this},t.AsyncIterator=x,t.async=function(n,e,r,i){var o=new x(c(n,e,r,i));return t.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(w),w[a]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(r,i){return a.type="throw",a.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],a=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var c=r.call(u,"catchLoc"),s=r.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),v},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),v}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;O(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,n,e){e(304),t.exports=e(127).global},function(t,n,e){var r=e(305);r(r.G,{global:e(87)})},function(t,n,e){var r=e(87),i=e(127),o=e(306),u=e(308),a=e(315),c=function(t,n,e){var s,f,l,h=t&c.F,p=t&c.G,v=t&c.S,d=t&c.P,g=t&c.B,y=t&c.W,m=p?i:i[n]||(i[n]={}),b=m.prototype,S=p?r:v?r[n]:(r[n]||{}).prototype;for(s in p&&(e=n),e)(f=!h&&S&&void 0!==S[s])&&a(m,s)||(l=f?S[s]:e[s],m[s]=p&&"function"!=typeof S[s]?e[s]:g&&f?o(l,r):y&&S[s]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[s]=l,t&c.R&&b&&!b[s]&&u(b,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,e){var r=e(307);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(309),i=e(314);t.exports=e(89)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(310),i=e(311),o=e(313),u=Object.defineProperty;n.f=e(89)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(88);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){t.exports=!e(89)&&!e(128)((function(){return 7!=Object.defineProperty(e(312)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(88),i=e(87).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(88);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}}])}));

/***/ }),

/***/ "./node_modules/call-bind/callBound.js":
/*!*********************************************!*\
  !*** ./node_modules/call-bind/callBound.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");

var callBind = __webpack_require__(/*! ./ */ "./node_modules/call-bind/index.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


/***/ }),

/***/ "./node_modules/call-bind/index.js":
/*!*****************************************!*\
  !*** ./node_modules/call-bind/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");

var $apply = GetIntrinsic('%Function.prototype.apply%');
var $call = GetIntrinsic('%Function.prototype.call%');
var $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);

var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);
var $defineProperty = GetIntrinsic('%Object.defineProperty%', true);
var $max = GetIntrinsic('%Math.max%');

if ($defineProperty) {
	try {
		$defineProperty({}, 'a', { value: 1 });
	} catch (e) {
		// IE 8 has a broken defineProperty
		$defineProperty = null;
	}
}

module.exports = function callBind(originalFunction) {
	var func = $reflectApply(bind, $call, arguments);
	if ($gOPD && $defineProperty) {
		var desc = $gOPD(func, 'length');
		if (desc.configurable) {
			// original length, plus the receiver, minus any additional arguments (after the receiver)
			$defineProperty(
				func,
				'length',
				{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }
			);
		}
	}
	return func;
};

var applyBind = function applyBind() {
	return $reflectApply(bind, $apply, arguments);
};

if ($defineProperty) {
	$defineProperty(module.exports, 'apply', { value: applyBind });
} else {
	module.exports.apply = applyBind;
}


/***/ }),

/***/ "./node_modules/cleave.js/dist/cleave-esm.js":
/*!***************************************************!*\
  !*** ./node_modules/cleave.js/dist/cleave-esm.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

var NumeralFormatter = function (numeralDecimalMark,
                                 numeralIntegerScale,
                                 numeralDecimalScale,
                                 numeralThousandsGroupStyle,
                                 numeralPositiveOnly,
                                 stripLeadingZeroes,
                                 prefix,
                                 signBeforePrefix,
                                 delimiter) {
    var owner = this;

    owner.numeralDecimalMark = numeralDecimalMark || '.';
    owner.numeralIntegerScale = numeralIntegerScale > 0 ? numeralIntegerScale : 0;
    owner.numeralDecimalScale = numeralDecimalScale >= 0 ? numeralDecimalScale : 2;
    owner.numeralThousandsGroupStyle = numeralThousandsGroupStyle || NumeralFormatter.groupStyle.thousand;
    owner.numeralPositiveOnly = !!numeralPositiveOnly;
    owner.stripLeadingZeroes = stripLeadingZeroes !== false;
    owner.prefix = (prefix || prefix === '') ? prefix : '';
    owner.signBeforePrefix = !!signBeforePrefix;
    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ',';
    owner.delimiterRE = delimiter ? new RegExp('\\' + delimiter, 'g') : '';
};

NumeralFormatter.groupStyle = {
    thousand: 'thousand',
    lakh:     'lakh',
    wan:      'wan',
    none:     'none'    
};

NumeralFormatter.prototype = {
    getRawValue: function (value) {
        return value.replace(this.delimiterRE, '').replace(this.numeralDecimalMark, '.');
    },

    format: function (value) {
        var owner = this, parts, partSign, partSignAndPrefix, partInteger, partDecimal = '';

        // strip alphabet letters
        value = value.replace(/[A-Za-z]/g, '')
            // replace the first decimal mark with reserved placeholder
            .replace(owner.numeralDecimalMark, 'M')

            // strip non numeric letters except minus and "M"
            // this is to ensure prefix has been stripped
            .replace(/[^\dM-]/g, '')

            // replace the leading minus with reserved placeholder
            .replace(/^\-/, 'N')

            // strip the other minus sign (if present)
            .replace(/\-/g, '')

            // replace the minus sign (if present)
            .replace('N', owner.numeralPositiveOnly ? '' : '-')

            // replace decimal mark
            .replace('M', owner.numeralDecimalMark);

        // strip any leading zeros
        if (owner.stripLeadingZeroes) {
            value = value.replace(/^(-)?0+(?=\d)/, '$1');
        }

        partSign = value.slice(0, 1) === '-' ? '-' : '';
        if (typeof owner.prefix != 'undefined') {
            if (owner.signBeforePrefix) {
                partSignAndPrefix = partSign + owner.prefix;
            } else {
                partSignAndPrefix = owner.prefix + partSign;
            }
        } else {
            partSignAndPrefix = partSign;
        }
        
        partInteger = value;

        if (value.indexOf(owner.numeralDecimalMark) >= 0) {
            parts = value.split(owner.numeralDecimalMark);
            partInteger = parts[0];
            partDecimal = owner.numeralDecimalMark + parts[1].slice(0, owner.numeralDecimalScale);
        }

        if(partSign === '-') {
            partInteger = partInteger.slice(1);
        }

        if (owner.numeralIntegerScale > 0) {
          partInteger = partInteger.slice(0, owner.numeralIntegerScale);
        }

        switch (owner.numeralThousandsGroupStyle) {
        case NumeralFormatter.groupStyle.lakh:
            partInteger = partInteger.replace(/(\d)(?=(\d\d)+\d$)/g, '$1' + owner.delimiter);

            break;

        case NumeralFormatter.groupStyle.wan:
            partInteger = partInteger.replace(/(\d)(?=(\d{4})+$)/g, '$1' + owner.delimiter);

            break;

        case NumeralFormatter.groupStyle.thousand:
            partInteger = partInteger.replace(/(\d)(?=(\d{3})+$)/g, '$1' + owner.delimiter);

            break;
        }

        return partSignAndPrefix + partInteger.toString() + (owner.numeralDecimalScale > 0 ? partDecimal.toString() : '');
    }
};

var NumeralFormatter_1 = NumeralFormatter;

var DateFormatter = function (datePattern, dateMin, dateMax) {
    var owner = this;

    owner.date = [];
    owner.blocks = [];
    owner.datePattern = datePattern;
    owner.dateMin = dateMin
      .split('-')
      .reverse()
      .map(function(x) {
        return parseInt(x, 10);
      });
    if (owner.dateMin.length === 2) owner.dateMin.unshift(0);

    owner.dateMax = dateMax
      .split('-')
      .reverse()
      .map(function(x) {
        return parseInt(x, 10);
      });
    if (owner.dateMax.length === 2) owner.dateMax.unshift(0);
    
    owner.initBlocks();
};

DateFormatter.prototype = {
    initBlocks: function () {
        var owner = this;
        owner.datePattern.forEach(function (value) {
            if (value === 'Y') {
                owner.blocks.push(4);
            } else {
                owner.blocks.push(2);
            }
        });
    },

    getISOFormatDate: function () {
        var owner = this,
            date = owner.date;

        return date[2] ? (
            date[2] + '-' + owner.addLeadingZero(date[1]) + '-' + owner.addLeadingZero(date[0])
        ) : '';
    },

    getBlocks: function () {
        return this.blocks;
    },

    getValidatedDate: function (value) {
        var owner = this, result = '';

        value = value.replace(/[^\d]/g, '');

        owner.blocks.forEach(function (length, index) {
            if (value.length > 0) {
                var sub = value.slice(0, length),
                    sub0 = sub.slice(0, 1),
                    rest = value.slice(length);

                switch (owner.datePattern[index]) {
                case 'd':
                    if (sub === '00') {
                        sub = '01';
                    } else if (parseInt(sub0, 10) > 3) {
                        sub = '0' + sub0;
                    } else if (parseInt(sub, 10) > 31) {
                        sub = '31';
                    }

                    break;

                case 'm':
                    if (sub === '00') {
                        sub = '01';
                    } else if (parseInt(sub0, 10) > 1) {
                        sub = '0' + sub0;
                    } else if (parseInt(sub, 10) > 12) {
                        sub = '12';
                    }

                    break;
                }

                result += sub;

                // update remaining string
                value = rest;
            }
        });

        return this.getFixedDateString(result);
    },

    getFixedDateString: function (value) {
        var owner = this, datePattern = owner.datePattern, date = [],
            dayIndex = 0, monthIndex = 0, yearIndex = 0,
            dayStartIndex = 0, monthStartIndex = 0, yearStartIndex = 0,
            day, month, year, fullYearDone = false;

        // mm-dd || dd-mm
        if (value.length === 4 && datePattern[0].toLowerCase() !== 'y' && datePattern[1].toLowerCase() !== 'y') {
            dayStartIndex = datePattern[0] === 'd' ? 0 : 2;
            monthStartIndex = 2 - dayStartIndex;
            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);
            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);

            date = this.getFixedDate(day, month, 0);
        }

        // yyyy-mm-dd || yyyy-dd-mm || mm-dd-yyyy || dd-mm-yyyy || dd-yyyy-mm || mm-yyyy-dd
        if (value.length === 8) {
            datePattern.forEach(function (type, index) {
                switch (type) {
                case 'd':
                    dayIndex = index;
                    break;
                case 'm':
                    monthIndex = index;
                    break;
                default:
                    yearIndex = index;
                    break;
                }
            });

            yearStartIndex = yearIndex * 2;
            dayStartIndex = (dayIndex <= yearIndex) ? dayIndex * 2 : (dayIndex * 2 + 2);
            monthStartIndex = (monthIndex <= yearIndex) ? monthIndex * 2 : (monthIndex * 2 + 2);

            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);
            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);
            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);

            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;

            date = this.getFixedDate(day, month, year);
        }

        // mm-yy || yy-mm
        if (value.length === 4 && (datePattern[0] === 'y' || datePattern[1] === 'y')) {
            monthStartIndex = datePattern[0] === 'm' ? 0 : 2;
            yearStartIndex = 2 - monthStartIndex;
            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);
            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 2), 10);

            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 2).length === 2;

            date = [0, month, year];
        }

        // mm-yyyy || yyyy-mm
        if (value.length === 6 && (datePattern[0] === 'Y' || datePattern[1] === 'Y')) {
            monthStartIndex = datePattern[0] === 'm' ? 0 : 4;
            yearStartIndex = 2 - 0.5 * monthStartIndex;
            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);
            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);

            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;

            date = [0, month, year];
        }

        date = owner.getRangeFixedDate(date);
        owner.date = date;

        var result = date.length === 0 ? value : datePattern.reduce(function (previous, current) {
            switch (current) {
            case 'd':
                return previous + (date[0] === 0 ? '' : owner.addLeadingZero(date[0]));
            case 'm':
                return previous + (date[1] === 0 ? '' : owner.addLeadingZero(date[1]));
            case 'y':
                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], false) : '');
            case 'Y':
                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], true) : '');
            }
        }, '');

        return result;
    },

    getRangeFixedDate: function (date) {
        var owner = this,
            datePattern = owner.datePattern,
            dateMin = owner.dateMin || [],
            dateMax = owner.dateMax || [];

        if (!date.length || (dateMin.length < 3 && dateMax.length < 3)) return date;

        if (
          datePattern.find(function(x) {
            return x.toLowerCase() === 'y';
          }) &&
          date[2] === 0
        ) return date;

        if (dateMax.length && (dateMax[2] < date[2] || (
          dateMax[2] === date[2] && (dateMax[1] < date[1] || (
            dateMax[1] === date[1] && dateMax[0] < date[0]
          ))
        ))) return dateMax;

        if (dateMin.length && (dateMin[2] > date[2] || (
          dateMin[2] === date[2] && (dateMin[1] > date[1] || (
            dateMin[1] === date[1] && dateMin[0] > date[0]
          ))
        ))) return dateMin;

        return date;
    },

    getFixedDate: function (day, month, year) {
        day = Math.min(day, 31);
        month = Math.min(month, 12);
        year = parseInt((year || 0), 10);

        if ((month < 7 && month % 2 === 0) || (month > 8 && month % 2 === 1)) {
            day = Math.min(day, month === 2 ? (this.isLeapYear(year) ? 29 : 28) : 30);
        }

        return [day, month, year];
    },

    isLeapYear: function (year) {
        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);
    },

    addLeadingZero: function (number) {
        return (number < 10 ? '0' : '') + number;
    },

    addLeadingZeroForYear: function (number, fullYearMode) {
        if (fullYearMode) {
            return (number < 10 ? '000' : (number < 100 ? '00' : (number < 1000 ? '0' : ''))) + number;
        }

        return (number < 10 ? '0' : '') + number;
    }
};

var DateFormatter_1 = DateFormatter;

var TimeFormatter = function (timePattern, timeFormat) {
    var owner = this;

    owner.time = [];
    owner.blocks = [];
    owner.timePattern = timePattern;
    owner.timeFormat = timeFormat;
    owner.initBlocks();
};

TimeFormatter.prototype = {
    initBlocks: function () {
        var owner = this;
        owner.timePattern.forEach(function () {
            owner.blocks.push(2);
        });
    },

    getISOFormatTime: function () {
        var owner = this,
            time = owner.time;

        return time[2] ? (
            owner.addLeadingZero(time[0]) + ':' + owner.addLeadingZero(time[1]) + ':' + owner.addLeadingZero(time[2])
        ) : '';
    },

    getBlocks: function () {
        return this.blocks;
    },

    getTimeFormatOptions: function () {
        var owner = this;
        if (String(owner.timeFormat) === '12') {
            return {
                maxHourFirstDigit: 1,
                maxHours: 12,
                maxMinutesFirstDigit: 5,
                maxMinutes: 60
            };
        }

        return {
            maxHourFirstDigit: 2,
            maxHours: 23,
            maxMinutesFirstDigit: 5,
            maxMinutes: 60
        };
    },

    getValidatedTime: function (value) {
        var owner = this, result = '';

        value = value.replace(/[^\d]/g, '');

        var timeFormatOptions = owner.getTimeFormatOptions();

        owner.blocks.forEach(function (length, index) {
            if (value.length > 0) {
                var sub = value.slice(0, length),
                    sub0 = sub.slice(0, 1),
                    rest = value.slice(length);

                switch (owner.timePattern[index]) {

                case 'h':
                    if (parseInt(sub0, 10) > timeFormatOptions.maxHourFirstDigit) {
                        sub = '0' + sub0;
                    } else if (parseInt(sub, 10) > timeFormatOptions.maxHours) {
                        sub = timeFormatOptions.maxHours + '';
                    }

                    break;

                case 'm':
                case 's':
                    if (parseInt(sub0, 10) > timeFormatOptions.maxMinutesFirstDigit) {
                        sub = '0' + sub0;
                    } else if (parseInt(sub, 10) > timeFormatOptions.maxMinutes) {
                        sub = timeFormatOptions.maxMinutes + '';
                    }
                    break;
                }

                result += sub;

                // update remaining string
                value = rest;
            }
        });

        return this.getFixedTimeString(result);
    },

    getFixedTimeString: function (value) {
        var owner = this, timePattern = owner.timePattern, time = [],
            secondIndex = 0, minuteIndex = 0, hourIndex = 0,
            secondStartIndex = 0, minuteStartIndex = 0, hourStartIndex = 0,
            second, minute, hour;

        if (value.length === 6) {
            timePattern.forEach(function (type, index) {
                switch (type) {
                case 's':
                    secondIndex = index * 2;
                    break;
                case 'm':
                    minuteIndex = index * 2;
                    break;
                case 'h':
                    hourIndex = index * 2;
                    break;
                }
            });

            hourStartIndex = hourIndex;
            minuteStartIndex = minuteIndex;
            secondStartIndex = secondIndex;

            second = parseInt(value.slice(secondStartIndex, secondStartIndex + 2), 10);
            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);
            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);

            time = this.getFixedTime(hour, minute, second);
        }

        if (value.length === 4 && owner.timePattern.indexOf('s') < 0) {
            timePattern.forEach(function (type, index) {
                switch (type) {
                case 'm':
                    minuteIndex = index * 2;
                    break;
                case 'h':
                    hourIndex = index * 2;
                    break;
                }
            });

            hourStartIndex = hourIndex;
            minuteStartIndex = minuteIndex;

            second = 0;
            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);
            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);

            time = this.getFixedTime(hour, minute, second);
        }

        owner.time = time;

        return time.length === 0 ? value : timePattern.reduce(function (previous, current) {
            switch (current) {
            case 's':
                return previous + owner.addLeadingZero(time[2]);
            case 'm':
                return previous + owner.addLeadingZero(time[1]);
            case 'h':
                return previous + owner.addLeadingZero(time[0]);
            }
        }, '');
    },

    getFixedTime: function (hour, minute, second) {
        second = Math.min(parseInt(second || 0, 10), 60);
        minute = Math.min(minute, 60);
        hour = Math.min(hour, 60);

        return [hour, minute, second];
    },

    addLeadingZero: function (number) {
        return (number < 10 ? '0' : '') + number;
    }
};

var TimeFormatter_1 = TimeFormatter;

var PhoneFormatter = function (formatter, delimiter) {
    var owner = this;

    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ' ';
    owner.delimiterRE = delimiter ? new RegExp('\\' + delimiter, 'g') : '';

    owner.formatter = formatter;
};

PhoneFormatter.prototype = {
    setFormatter: function (formatter) {
        this.formatter = formatter;
    },

    format: function (phoneNumber) {
        var owner = this;

        owner.formatter.clear();

        // only keep number and +
        phoneNumber = phoneNumber.replace(/[^\d+]/g, '');

        // strip non-leading +
        phoneNumber = phoneNumber.replace(/^\+/, 'B').replace(/\+/g, '').replace('B', '+');

        // strip delimiter
        phoneNumber = phoneNumber.replace(owner.delimiterRE, '');

        var result = '', current, validated = false;

        for (var i = 0, iMax = phoneNumber.length; i < iMax; i++) {
            current = owner.formatter.inputDigit(phoneNumber.charAt(i));

            // has ()- or space inside
            if (/[\s()-]/g.test(current)) {
                result = current;

                validated = true;
            } else {
                if (!validated) {
                    result = current;
                }
                // else: over length input
                // it turns to invalid number again
            }
        }

        // strip ()
        // e.g. US: 7161234567 returns (716) 123-4567
        result = result.replace(/[()]/g, '');
        // replace library delimiter with user customized delimiter
        result = result.replace(/[\s-]/g, owner.delimiter);

        return result;
    }
};

var PhoneFormatter_1 = PhoneFormatter;

var CreditCardDetector = {
    blocks: {
        uatp:          [4, 5, 6],
        amex:          [4, 6, 5],
        diners:        [4, 6, 4],
        discover:      [4, 4, 4, 4],
        mastercard:    [4, 4, 4, 4],
        dankort:       [4, 4, 4, 4],
        instapayment:  [4, 4, 4, 4],
        jcb15:         [4, 6, 5],
        jcb:           [4, 4, 4, 4],
        maestro:       [4, 4, 4, 4],
        visa:          [4, 4, 4, 4],
        mir:           [4, 4, 4, 4],
        unionPay:      [4, 4, 4, 4],
        general:       [4, 4, 4, 4]
    },

    re: {
        // starts with 1; 15 digits, not starts with 1800 (jcb card)
        uatp: /^(?!1800)1\d{0,14}/,

        // starts with 34/37; 15 digits
        amex: /^3[47]\d{0,13}/,

        // starts with 6011/65/644-649; 16 digits
        discover: /^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,

        // starts with 300-305/309 or 36/38/39; 14 digits
        diners: /^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,

        // starts with 51-55/22212720; 16 digits
        mastercard: /^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,

        // starts with 5019/4175/4571; 16 digits
        dankort: /^(5019|4175|4571)\d{0,12}/,

        // starts with 637-639; 16 digits
        instapayment: /^63[7-9]\d{0,13}/,

        // starts with 2131/1800; 15 digits
        jcb15: /^(?:2131|1800)\d{0,11}/,

        // starts with 2131/1800/35; 16 digits
        jcb: /^(?:35\d{0,2})\d{0,12}/,

        // starts with 50/56-58/6304/67; 16 digits
        maestro: /^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,

        // starts with 22; 16 digits
        mir: /^220[0-4]\d{0,12}/,

        // starts with 4; 16 digits
        visa: /^4\d{0,15}/,

        // starts with 62; 16 digits
        unionPay: /^62\d{0,14}/
    },

    getStrictBlocks: function (block) {
      var total = block.reduce(function (prev, current) {
        return prev + current;
      }, 0);

      return block.concat(19 - total);
    },

    getInfo: function (value, strictMode) {
        var blocks = CreditCardDetector.blocks,
            re = CreditCardDetector.re;

        // Some credit card can have up to 19 digits number.
        // Set strictMode to true will remove the 16 max-length restrain,
        // however, I never found any website validate card number like
        // this, hence probably you don't want to enable this option.
        strictMode = !!strictMode;

        for (var key in re) {
            if (re[key].test(value)) {
                var matchedBlocks = blocks[key];
                return {
                    type: key,
                    blocks: strictMode ? this.getStrictBlocks(matchedBlocks) : matchedBlocks
                };
            }
        }

        return {
            type: 'unknown',
            blocks: strictMode ? this.getStrictBlocks(blocks.general) : blocks.general
        };
    }
};

var CreditCardDetector_1 = CreditCardDetector;

var Util = {
    noop: function () {
    },

    strip: function (value, re) {
        return value.replace(re, '');
    },

    getPostDelimiter: function (value, delimiter, delimiters) {
        // single delimiter
        if (delimiters.length === 0) {
            return value.slice(-delimiter.length) === delimiter ? delimiter : '';
        }

        // multiple delimiters
        var matchedDelimiter = '';
        delimiters.forEach(function (current) {
            if (value.slice(-current.length) === current) {
                matchedDelimiter = current;
            }
        });

        return matchedDelimiter;
    },

    getDelimiterREByDelimiter: function (delimiter) {
        return new RegExp(delimiter.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1'), 'g');
    },

    getNextCursorPosition: function (prevPos, oldValue, newValue, delimiter, delimiters) {
      // If cursor was at the end of value, just place it back.
      // Because new value could contain additional chars.
      if (oldValue.length === prevPos) {
          return newValue.length;
      }

      return prevPos + this.getPositionOffset(prevPos, oldValue, newValue, delimiter ,delimiters);
    },

    getPositionOffset: function (prevPos, oldValue, newValue, delimiter, delimiters) {
        var oldRawValue, newRawValue, lengthOffset;

        oldRawValue = this.stripDelimiters(oldValue.slice(0, prevPos), delimiter, delimiters);
        newRawValue = this.stripDelimiters(newValue.slice(0, prevPos), delimiter, delimiters);
        lengthOffset = oldRawValue.length - newRawValue.length;

        return (lengthOffset !== 0) ? (lengthOffset / Math.abs(lengthOffset)) : 0;
    },

    stripDelimiters: function (value, delimiter, delimiters) {
        var owner = this;

        // single delimiter
        if (delimiters.length === 0) {
            var delimiterRE = delimiter ? owner.getDelimiterREByDelimiter(delimiter) : '';

            return value.replace(delimiterRE, '');
        }

        // multiple delimiters
        delimiters.forEach(function (current) {
            current.split('').forEach(function (letter) {
                value = value.replace(owner.getDelimiterREByDelimiter(letter), '');
            });
        });

        return value;
    },

    headStr: function (str, length) {
        return str.slice(0, length);
    },

    getMaxLength: function (blocks) {
        return blocks.reduce(function (previous, current) {
            return previous + current;
        }, 0);
    },

    // strip prefix
    // Before type  |   After type    |     Return value
    // PEFIX-...    |   PEFIX-...     |     ''
    // PREFIX-123   |   PEFIX-123     |     123
    // PREFIX-123   |   PREFIX-23     |     23
    // PREFIX-123   |   PREFIX-1234   |     1234
    getPrefixStrippedValue: function (value, prefix, prefixLength, prevResult, delimiter, delimiters, noImmediatePrefix) {
        // No prefix
        if (prefixLength === 0) {
          return value;
        }

        // Pre result prefix string does not match pre-defined prefix
        if (prevResult.slice(0, prefixLength) !== prefix) {
          // Check if the first time user entered something
          if (noImmediatePrefix && !prevResult && value) return value;

          return '';
        }

        var prevValue = this.stripDelimiters(prevResult, delimiter, delimiters);

        // New value has issue, someone typed in between prefix letters
        // Revert to pre value
        if (value.slice(0, prefixLength) !== prefix) {
          return prevValue.slice(prefixLength);
        }

        // No issue, strip prefix for new value
        return value.slice(prefixLength);
    },

    getFirstDiffIndex: function (prev, current) {
        var index = 0;

        while (prev.charAt(index) === current.charAt(index)) {
            if (prev.charAt(index++) === '') {
                return -1;
            }
        }

        return index;
    },

    getFormattedValue: function (value, blocks, blocksLength, delimiter, delimiters, delimiterLazyShow) {
        var result = '',
            multipleDelimiters = delimiters.length > 0,
            currentDelimiter;

        // no options, normal input
        if (blocksLength === 0) {
            return value;
        }

        blocks.forEach(function (length, index) {
            if (value.length > 0) {
                var sub = value.slice(0, length),
                    rest = value.slice(length);

                if (multipleDelimiters) {
                    currentDelimiter = delimiters[delimiterLazyShow ? (index - 1) : index] || currentDelimiter;
                } else {
                    currentDelimiter = delimiter;
                }

                if (delimiterLazyShow) {
                    if (index > 0) {
                        result += currentDelimiter;
                    }

                    result += sub;
                } else {
                    result += sub;

                    if (sub.length === length && index < blocksLength - 1) {
                        result += currentDelimiter;
                    }
                }

                // update remaining string
                value = rest;
            }
        });

        return result;
    },

    // move cursor to the end
    // the first time user focuses on an input with prefix
    fixPrefixCursor: function (el, prefix, delimiter, delimiters) {
        if (!el) {
            return;
        }

        var val = el.value,
            appendix = delimiter || (delimiters[0] || ' ');

        if (!el.setSelectionRange || !prefix || (prefix.length + appendix.length) < val.length) {
            return;
        }

        var len = val.length * 2;

        // set timeout to avoid blink
        setTimeout(function () {
            el.setSelectionRange(len, len);
        }, 1);
    },

    // Check if input field is fully selected
    checkFullSelection: function(value) {
      try {
        var selection = window.getSelection() || document.getSelection() || {};
        return selection.toString().length === value.length;
      } catch (ex) {
        // Ignore
      }

      return false;
    },

    setSelection: function (element, position, doc) {
        if (element !== this.getActiveElement(doc)) {
            return;
        }

        // cursor is already in the end
        if (element && element.value.length <= position) {
          return;
        }

        if (element.createTextRange) {
            var range = element.createTextRange();

            range.move('character', position);
            range.select();
        } else {
            try {
                element.setSelectionRange(position, position);
            } catch (e) {
                // eslint-disable-next-line
                console.warn('The input element type does not support selection');
            }
        }
    },

    getActiveElement: function(parent) {
        var activeElement = parent.activeElement;
        if (activeElement && activeElement.shadowRoot) {
            return this.getActiveElement(activeElement.shadowRoot);
        }
        return activeElement;
    },

    isAndroid: function () {
        return navigator && /android/i.test(navigator.userAgent);
    },

    // On Android chrome, the keyup and keydown events
    // always return key code 229 as a composition that
    // buffers the users keystrokes
    // see https://github.com/nosir/cleave.js/issues/147
    isAndroidBackspaceKeydown: function (lastInputValue, currentInputValue) {
        if (!this.isAndroid() || !lastInputValue || !currentInputValue) {
            return false;
        }

        return currentInputValue === lastInputValue.slice(0, -1);
    }
};

var Util_1 = Util;

/**
 * Props Assignment
 *
 * Separate this, so react module can share the usage
 */
var DefaultProperties = {
    // Maybe change to object-assign
    // for now just keep it as simple
    assign: function (target, opts) {
        target = target || {};
        opts = opts || {};

        // credit card
        target.creditCard = !!opts.creditCard;
        target.creditCardStrictMode = !!opts.creditCardStrictMode;
        target.creditCardType = '';
        target.onCreditCardTypeChanged = opts.onCreditCardTypeChanged || (function () {});

        // phone
        target.phone = !!opts.phone;
        target.phoneRegionCode = opts.phoneRegionCode || 'AU';
        target.phoneFormatter = {};

        // time
        target.time = !!opts.time;
        target.timePattern = opts.timePattern || ['h', 'm', 's'];
        target.timeFormat = opts.timeFormat || '24';
        target.timeFormatter = {};

        // date
        target.date = !!opts.date;
        target.datePattern = opts.datePattern || ['d', 'm', 'Y'];
        target.dateMin = opts.dateMin || '';
        target.dateMax = opts.dateMax || '';
        target.dateFormatter = {};

        // numeral
        target.numeral = !!opts.numeral;
        target.numeralIntegerScale = opts.numeralIntegerScale > 0 ? opts.numeralIntegerScale : 0;
        target.numeralDecimalScale = opts.numeralDecimalScale >= 0 ? opts.numeralDecimalScale : 2;
        target.numeralDecimalMark = opts.numeralDecimalMark || '.';
        target.numeralThousandsGroupStyle = opts.numeralThousandsGroupStyle || 'thousand';
        target.numeralPositiveOnly = !!opts.numeralPositiveOnly;
        target.stripLeadingZeroes = opts.stripLeadingZeroes !== false;
        target.signBeforePrefix = !!opts.signBeforePrefix;

        // others
        target.numericOnly = target.creditCard || target.date || !!opts.numericOnly;

        target.uppercase = !!opts.uppercase;
        target.lowercase = !!opts.lowercase;

        target.prefix = (target.creditCard || target.date) ? '' : (opts.prefix || '');
        target.noImmediatePrefix = !!opts.noImmediatePrefix;
        target.prefixLength = target.prefix.length;
        target.rawValueTrimPrefix = !!opts.rawValueTrimPrefix;
        target.copyDelimiter = !!opts.copyDelimiter;

        target.initValue = (opts.initValue !== undefined && opts.initValue !== null) ? opts.initValue.toString() : '';

        target.delimiter =
            (opts.delimiter || opts.delimiter === '') ? opts.delimiter :
                (opts.date ? '/' :
                    (opts.time ? ':' :
                        (opts.numeral ? ',' :
                            (opts.phone ? ' ' :
                                ' '))));
        target.delimiterLength = target.delimiter.length;
        target.delimiterLazyShow = !!opts.delimiterLazyShow;
        target.delimiters = opts.delimiters || [];

        target.blocks = opts.blocks || [];
        target.blocksLength = target.blocks.length;

        target.root = (typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window;
        target.document = opts.document || target.root.document;

        target.maxLength = 0;

        target.backspace = false;
        target.result = '';

        target.onValueChanged = opts.onValueChanged || (function () {});

        return target;
    }
};

var DefaultProperties_1 = DefaultProperties;

/**
 * Construct a new Cleave instance by passing the configuration object
 *
 * @param {String | HTMLElement} element
 * @param {Object} opts
 */
var Cleave = function (element, opts) {
    var owner = this;
    var hasMultipleElements = false;

    if (typeof element === 'string') {
        owner.element = document.querySelector(element);
        hasMultipleElements = document.querySelectorAll(element).length > 1;
    } else {
      if (typeof element.length !== 'undefined' && element.length > 0) {
        owner.element = element[0];
        hasMultipleElements = element.length > 1;
      } else {
        owner.element = element;
      }
    }

    if (!owner.element) {
        throw new Error('[cleave.js] Please check the element');
    }

    if (hasMultipleElements) {
      try {
        // eslint-disable-next-line
        console.warn('[cleave.js] Multiple input fields matched, cleave.js will only take the first one.');
      } catch (e) {
        // Old IE
      }
    }

    opts.initValue = owner.element.value;

    owner.properties = Cleave.DefaultProperties.assign({}, opts);

    owner.init();
};

Cleave.prototype = {
    init: function () {
        var owner = this, pps = owner.properties;

        // no need to use this lib
        if (!pps.numeral && !pps.phone && !pps.creditCard && !pps.time && !pps.date && (pps.blocksLength === 0 && !pps.prefix)) {
            owner.onInput(pps.initValue);

            return;
        }

        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);

        owner.isAndroid = Cleave.Util.isAndroid();
        owner.lastInputValue = '';

        owner.onChangeListener = owner.onChange.bind(owner);
        owner.onKeyDownListener = owner.onKeyDown.bind(owner);
        owner.onFocusListener = owner.onFocus.bind(owner);
        owner.onCutListener = owner.onCut.bind(owner);
        owner.onCopyListener = owner.onCopy.bind(owner);

        owner.element.addEventListener('input', owner.onChangeListener);
        owner.element.addEventListener('keydown', owner.onKeyDownListener);
        owner.element.addEventListener('focus', owner.onFocusListener);
        owner.element.addEventListener('cut', owner.onCutListener);
        owner.element.addEventListener('copy', owner.onCopyListener);


        owner.initPhoneFormatter();
        owner.initDateFormatter();
        owner.initTimeFormatter();
        owner.initNumeralFormatter();

        // avoid touch input field if value is null
        // otherwise Firefox will add red box-shadow for <input required />
        if (pps.initValue || (pps.prefix && !pps.noImmediatePrefix)) {
            owner.onInput(pps.initValue);
        }
    },

    initNumeralFormatter: function () {
        var owner = this, pps = owner.properties;

        if (!pps.numeral) {
            return;
        }

        pps.numeralFormatter = new Cleave.NumeralFormatter(
            pps.numeralDecimalMark,
            pps.numeralIntegerScale,
            pps.numeralDecimalScale,
            pps.numeralThousandsGroupStyle,
            pps.numeralPositiveOnly,
            pps.stripLeadingZeroes,
            pps.prefix,
            pps.signBeforePrefix,
            pps.delimiter
        );
    },

    initTimeFormatter: function() {
        var owner = this, pps = owner.properties;

        if (!pps.time) {
            return;
        }

        pps.timeFormatter = new Cleave.TimeFormatter(pps.timePattern, pps.timeFormat);
        pps.blocks = pps.timeFormatter.getBlocks();
        pps.blocksLength = pps.blocks.length;
        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);
    },

    initDateFormatter: function () {
        var owner = this, pps = owner.properties;

        if (!pps.date) {
            return;
        }

        pps.dateFormatter = new Cleave.DateFormatter(pps.datePattern, pps.dateMin, pps.dateMax);
        pps.blocks = pps.dateFormatter.getBlocks();
        pps.blocksLength = pps.blocks.length;
        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);
    },

    initPhoneFormatter: function () {
        var owner = this, pps = owner.properties;

        if (!pps.phone) {
            return;
        }

        // Cleave.AsYouTypeFormatter should be provided by
        // external google closure lib
        try {
            pps.phoneFormatter = new Cleave.PhoneFormatter(
                new pps.root.Cleave.AsYouTypeFormatter(pps.phoneRegionCode),
                pps.delimiter
            );
        } catch (ex) {
            throw new Error('[cleave.js] Please include phone-type-formatter.{country}.js lib');
        }
    },

    onKeyDown: function (event) {
        var owner = this, pps = owner.properties,
            charCode = event.which || event.keyCode,
            Util = Cleave.Util,
            currentValue = owner.element.value;

        // if we got any charCode === 8, this means, that this device correctly
        // sends backspace keys in event, so we do not need to apply any hacks
        owner.hasBackspaceSupport = owner.hasBackspaceSupport || charCode === 8;
        if (!owner.hasBackspaceSupport
          && Util.isAndroidBackspaceKeydown(owner.lastInputValue, currentValue)
        ) {
            charCode = 8;
        }

        owner.lastInputValue = currentValue;

        // hit backspace when last character is delimiter
        var postDelimiter = Util.getPostDelimiter(currentValue, pps.delimiter, pps.delimiters);
        if (charCode === 8 && postDelimiter) {
            pps.postDelimiterBackspace = postDelimiter;
        } else {
            pps.postDelimiterBackspace = false;
        }
    },

    onChange: function () {
        this.onInput(this.element.value);
    },

    onFocus: function () {
        var owner = this,
            pps = owner.properties;

        Cleave.Util.fixPrefixCursor(owner.element, pps.prefix, pps.delimiter, pps.delimiters);
    },

    onCut: function (e) {
        if (!Cleave.Util.checkFullSelection(this.element.value)) return;
        this.copyClipboardData(e);
        this.onInput('');
    },

    onCopy: function (e) {
        if (!Cleave.Util.checkFullSelection(this.element.value)) return;
        this.copyClipboardData(e);
    },

    copyClipboardData: function (e) {
        var owner = this,
            pps = owner.properties,
            Util = Cleave.Util,
            inputValue = owner.element.value,
            textToCopy = '';

        if (!pps.copyDelimiter) {
            textToCopy = Util.stripDelimiters(inputValue, pps.delimiter, pps.delimiters);
        } else {
            textToCopy = inputValue;
        }

        try {
            if (e.clipboardData) {
                e.clipboardData.setData('Text', textToCopy);
            } else {
                window.clipboardData.setData('Text', textToCopy);
            }

            e.preventDefault();
        } catch (ex) {
            //  empty
        }
    },

    onInput: function (value) {
        var owner = this, pps = owner.properties,
            Util = Cleave.Util;

        // case 1: delete one more character "4"
        // 1234*| -> hit backspace -> 123|
        // case 2: last character is not delimiter which is:
        // 12|34* -> hit backspace -> 1|34*
        // note: no need to apply this for numeral mode
        var postDelimiterAfter = Util.getPostDelimiter(value, pps.delimiter, pps.delimiters);
        if (!pps.numeral && pps.postDelimiterBackspace && !postDelimiterAfter) {
            value = Util.headStr(value, value.length - pps.postDelimiterBackspace.length);
        }

        // phone formatter
        if (pps.phone) {
            if (pps.prefix && (!pps.noImmediatePrefix || value.length)) {
                pps.result = pps.prefix + pps.phoneFormatter.format(value).slice(pps.prefix.length);
            } else {
                pps.result = pps.phoneFormatter.format(value);
            }
            owner.updateValueState();

            return;
        }

        // numeral formatter
        if (pps.numeral) {
            // Do not show prefix when noImmediatePrefix is specified
            // This mostly because we need to show user the native input placeholder
            if (pps.prefix && pps.noImmediatePrefix && value.length === 0) {
                pps.result = '';
            } else {
                pps.result = pps.numeralFormatter.format(value);
            }
            owner.updateValueState();

            return;
        }

        // date
        if (pps.date) {
            value = pps.dateFormatter.getValidatedDate(value);
        }

        // time
        if (pps.time) {
            value = pps.timeFormatter.getValidatedTime(value);
        }

        // strip delimiters
        value = Util.stripDelimiters(value, pps.delimiter, pps.delimiters);

        // strip prefix
        value = Util.getPrefixStrippedValue(
            value, pps.prefix, pps.prefixLength,
            pps.result, pps.delimiter, pps.delimiters, pps.noImmediatePrefix
        );

        // strip non-numeric characters
        value = pps.numericOnly ? Util.strip(value, /[^\d]/g) : value;

        // convert case
        value = pps.uppercase ? value.toUpperCase() : value;
        value = pps.lowercase ? value.toLowerCase() : value;

        // prevent from showing prefix when no immediate option enabled with empty input value
        if (pps.prefix && (!pps.noImmediatePrefix || value.length)) {
            value = pps.prefix + value;

            // no blocks specified, no need to do formatting
            if (pps.blocksLength === 0) {
                pps.result = value;
                owner.updateValueState();

                return;
            }
        }

        // update credit card props
        if (pps.creditCard) {
            owner.updateCreditCardPropsByValue(value);
        }

        // strip over length characters
        value = Util.headStr(value, pps.maxLength);

        // apply blocks
        pps.result = Util.getFormattedValue(
            value,
            pps.blocks, pps.blocksLength,
            pps.delimiter, pps.delimiters, pps.delimiterLazyShow
        );

        owner.updateValueState();
    },

    updateCreditCardPropsByValue: function (value) {
        var owner = this, pps = owner.properties,
            Util = Cleave.Util,
            creditCardInfo;

        // At least one of the first 4 characters has changed
        if (Util.headStr(pps.result, 4) === Util.headStr(value, 4)) {
            return;
        }

        creditCardInfo = Cleave.CreditCardDetector.getInfo(value, pps.creditCardStrictMode);

        pps.blocks = creditCardInfo.blocks;
        pps.blocksLength = pps.blocks.length;
        pps.maxLength = Util.getMaxLength(pps.blocks);

        // credit card type changed
        if (pps.creditCardType !== creditCardInfo.type) {
            pps.creditCardType = creditCardInfo.type;

            pps.onCreditCardTypeChanged.call(owner, pps.creditCardType);
        }
    },

    updateValueState: function () {
        var owner = this,
            Util = Cleave.Util,
            pps = owner.properties;

        if (!owner.element) {
            return;
        }

        var endPos = owner.element.selectionEnd;
        var oldValue = owner.element.value;
        var newValue = pps.result;

        endPos = Util.getNextCursorPosition(endPos, oldValue, newValue, pps.delimiter, pps.delimiters);

        // fix Android browser type="text" input field
        // cursor not jumping issue
        if (owner.isAndroid) {
            window.setTimeout(function () {
                owner.element.value = newValue;
                Util.setSelection(owner.element, endPos, pps.document, false);
                owner.callOnValueChanged();
            }, 1);

            return;
        }

        owner.element.value = newValue;
        Util.setSelection(owner.element, endPos, pps.document, false);
        owner.callOnValueChanged();
    },

    callOnValueChanged: function () {
        var owner = this,
            pps = owner.properties;

        pps.onValueChanged.call(owner, {
            target: {
                value: pps.result,
                rawValue: owner.getRawValue()
            }
        });
    },

    setPhoneRegionCode: function (phoneRegionCode) {
        var owner = this, pps = owner.properties;

        pps.phoneRegionCode = phoneRegionCode;
        owner.initPhoneFormatter();
        owner.onChange();
    },

    setRawValue: function (value) {
        var owner = this, pps = owner.properties;

        value = value !== undefined && value !== null ? value.toString() : '';

        if (pps.numeral) {
            value = value.replace('.', pps.numeralDecimalMark);
        }

        pps.postDelimiterBackspace = false;

        owner.element.value = value;
        owner.onInput(value);
    },

    getRawValue: function () {
        var owner = this,
            pps = owner.properties,
            Util = Cleave.Util,
            rawValue = owner.element.value;

        if (pps.rawValueTrimPrefix) {
            rawValue = Util.getPrefixStrippedValue(rawValue, pps.prefix, pps.prefixLength, pps.result, pps.delimiter, pps.delimiters);
        }

        if (pps.numeral) {
            rawValue = pps.numeralFormatter.getRawValue(rawValue);
        } else {
            rawValue = Util.stripDelimiters(rawValue, pps.delimiter, pps.delimiters);
        }

        return rawValue;
    },

    getISOFormatDate: function () {
        var owner = this,
            pps = owner.properties;

        return pps.date ? pps.dateFormatter.getISOFormatDate() : '';
    },

    getISOFormatTime: function () {
        var owner = this,
            pps = owner.properties;

        return pps.time ? pps.timeFormatter.getISOFormatTime() : '';
    },

    getFormattedValue: function () {
        return this.element.value;
    },

    destroy: function () {
        var owner = this;

        owner.element.removeEventListener('input', owner.onChangeListener);
        owner.element.removeEventListener('keydown', owner.onKeyDownListener);
        owner.element.removeEventListener('focus', owner.onFocusListener);
        owner.element.removeEventListener('cut', owner.onCutListener);
        owner.element.removeEventListener('copy', owner.onCopyListener);
    },

    toString: function () {
        return '[Cleave Object]';
    }
};

Cleave.NumeralFormatter = NumeralFormatter_1;
Cleave.DateFormatter = DateFormatter_1;
Cleave.TimeFormatter = TimeFormatter_1;
Cleave.PhoneFormatter = PhoneFormatter_1;
Cleave.CreditCardDetector = CreditCardDetector_1;
Cleave.Util = Util_1;
Cleave.DefaultProperties = DefaultProperties_1;

// for angular directive
((typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window)['Cleave'] = Cleave;

// CommonJS
var Cleave_1 = Cleave;

/* harmony default export */ __webpack_exports__["default"] = (Cleave_1);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/component-clone/index.js":
/*!***********************************************!*\
  !*** ./node_modules/component-clone/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies.
 */

var type;
try {
  type = __webpack_require__(/*! component-type */ "./node_modules/component-type/index.js");
} catch (_) {
  type = __webpack_require__(/*! type */ "./node_modules/component-type/index.js");
}

/**
 * Module exports.
 */

module.exports = clone;

/**
 * Clones objects.
 *
 * @param {Mixed} any object
 * @api public
 */

function clone(obj){
  switch (type(obj)) {
    case 'object':
      var copy = {};
      for (var key in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, key)) {
          copy[key] = clone(obj[key]);
        }
      }
      return copy;

    case 'array':
      var copy = new Array(obj.length);
      for (var i = 0, l = obj.length; i < l; i++) {
        copy[i] = clone(obj[i]);
      }
      return copy;

    case 'regexp':
      // from millermedeiros/amd-utils - MIT
      var flags = '';
      flags += obj.multiline ? 'm' : '';
      flags += obj.global ? 'g' : '';
      flags += obj.ignoreCase ? 'i' : '';
      return new RegExp(obj.source, flags);

    case 'date':
      return new Date(obj.getTime());

    default: // string, number, boolean, 
      return obj;
  }
}


/***/ }),

/***/ "./node_modules/component-each/index.js":
/*!**********************************************!*\
  !*** ./node_modules/component-each/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

try {
  var type = __webpack_require__(/*! type */ "./node_modules/component-each/node_modules/component-type/index.js");
} catch (err) {
  var type = __webpack_require__(/*! component-type */ "./node_modules/component-each/node_modules/component-type/index.js");
}

var toFunction = __webpack_require__(/*! to-function */ "./node_modules/to-function/index.js");

/**
 * HOP reference.
 */

var has = Object.prototype.hasOwnProperty;

/**
 * Iterate the given `obj` and invoke `fn(val, i)`
 * in optional context `ctx`.
 *
 * @param {String|Array|Object} obj
 * @param {Function} fn
 * @param {Object} [ctx]
 * @api public
 */

module.exports = function(obj, fn, ctx){
  fn = toFunction(fn);
  ctx = ctx || this;
  switch (type(obj)) {
    case 'array':
      return array(obj, fn, ctx);
    case 'object':
      if ('number' == typeof obj.length) return array(obj, fn, ctx);
      return object(obj, fn, ctx);
    case 'string':
      return string(obj, fn, ctx);
  }
};

/**
 * Iterate string chars.
 *
 * @param {String} obj
 * @param {Function} fn
 * @param {Object} ctx
 * @api private
 */

function string(obj, fn, ctx) {
  for (var i = 0; i < obj.length; ++i) {
    fn.call(ctx, obj.charAt(i), i);
  }
}

/**
 * Iterate object keys.
 *
 * @param {Object} obj
 * @param {Function} fn
 * @param {Object} ctx
 * @api private
 */

function object(obj, fn, ctx) {
  for (var key in obj) {
    if (has.call(obj, key)) {
      fn.call(ctx, key, obj[key]);
    }
  }
}

/**
 * Iterate array-ish.
 *
 * @param {Array|Object} obj
 * @param {Function} fn
 * @param {Object} ctx
 * @api private
 */

function array(obj, fn, ctx) {
  for (var i = 0; i < obj.length; ++i) {
    fn.call(ctx, obj[i], i);
  }
}


/***/ }),

/***/ "./node_modules/component-each/node_modules/component-type/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/component-each/node_modules/component-type/index.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * toString ref.
 */

var toString = Object.prototype.toString;

/**
 * Return the type of `val`.
 *
 * @param {Mixed} val
 * @return {String}
 * @api public
 */

module.exports = function(val){
  switch (toString.call(val)) {
    case '[object Function]': return 'function';
    case '[object Date]': return 'date';
    case '[object RegExp]': return 'regexp';
    case '[object Arguments]': return 'arguments';
    case '[object Array]': return 'array';
    case '[object String]': return 'string';
  }

  if (val === null) return 'null';
  if (val === undefined) return 'undefined';
  if (val && val.nodeType === 1) return 'element';
  if (val === Object(val)) return 'object';

  return typeof val;
};


/***/ }),

/***/ "./node_modules/component-emitter/index.js":
/*!*************************************************!*\
  !*** ./node_modules/component-emitter/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Expose `Emitter`.
 */

if (true) {
  module.exports = Emitter;
}

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  function on() {
    this.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks['$' + event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks['$' + event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }

  // Remove event specific arrays for event types that no
  // one is subscribed for to avoid memory leak.
  if (callbacks.length === 0) {
    delete this._callbacks['$' + event];
  }

  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};

  var args = new Array(arguments.length - 1)
    , callbacks = this._callbacks['$' + event];

  for (var i = 1; i < arguments.length; i++) {
    args[i - 1] = arguments[i];
  }

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks['$' + event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};


/***/ }),

/***/ "./node_modules/component-find/index.js":
/*!**********************************************!*\
  !*** ./node_modules/component-find/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var toFunction = __webpack_require__(/*! to-function */ "./node_modules/to-function/index.js");

/**
 * Find the first value in `arr` with when `fn(val, i)` is truthy.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @return {Array}
 * @api public
 */

module.exports = function(arr, fn){
  // callback
  if ('function' != typeof fn) {
    if (Object(fn) === fn) fn = objectToFunction(fn);
    else fn = toFunction(fn);
  }

  // filter
  for (var i = 0, len = arr.length; i < len; ++i) {
    if (fn(arr[i], i)) return arr[i];
  }
};

/**
 * Convert `obj` into a match function.
 *
 * @param {Object} obj
 * @return {Function}
 * @api private
 */

function objectToFunction(obj) {
  return function(o){
    for (var key in obj) {
      if (o[key] != obj[key]) return false;
    }
    return true;
  }
}

/***/ }),

/***/ "./node_modules/component-props/index.js":
/*!***********************************************!*\
  !*** ./node_modules/component-props/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Global Names
 */

var globals = /\b(Array|Date|Object|Math|JSON)\b/g;

/**
 * Return immediate identifiers parsed from `str`.
 *
 * @param {String} str
 * @param {String|Function} map function or prefix
 * @return {Array}
 * @api public
 */

module.exports = function(str, fn){
  var p = unique(props(str));
  if (fn && 'string' == typeof fn) fn = prefixed(fn);
  if (fn) return map(str, p, fn);
  return p;
};

/**
 * Return immediate identifiers in `str`.
 *
 * @param {String} str
 * @return {Array}
 * @api private
 */

function props(str) {
  return str
    .replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g, '')
    .replace(globals, '')
    .match(/[a-zA-Z_]\w*/g)
    || [];
}

/**
 * Return `str` with `props` mapped with `fn`.
 *
 * @param {String} str
 * @param {Array} props
 * @param {Function} fn
 * @return {String}
 * @api private
 */

function map(str, props, fn) {
  var re = /\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;
  return str.replace(re, function(_){
    if ('(' == _[_.length - 1]) return fn(_);
    if (!~props.indexOf(_)) return _;
    return fn(_);
  });
}

/**
 * Return unique array.
 *
 * @param {Array} arr
 * @return {Array}
 * @api private
 */

function unique(arr) {
  var ret = [];

  for (var i = 0; i < arr.length; i++) {
    if (~ret.indexOf(arr[i])) continue;
    ret.push(arr[i]);
  }

  return ret;
}

/**
 * Map with prefix `str`.
 */

function prefixed(str) {
  return function(_){
    return str + _;
  };
}


/***/ }),

/***/ "./node_modules/component-type/index.js":
/*!**********************************************!*\
  !*** ./node_modules/component-type/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * toString ref.
 */

var toString = Object.prototype.toString;

/**
 * Return the type of `val`.
 *
 * @param {Mixed} val
 * @return {String}
 * @api public
 */

module.exports = function(val){
  switch (toString.call(val)) {
    case '[object Date]': return 'date';
    case '[object RegExp]': return 'regexp';
    case '[object Arguments]': return 'arguments';
    case '[object Array]': return 'array';
    case '[object Error]': return 'error';
  }

  if (val === null) return 'null';
  if (val === undefined) return 'undefined';
  if (val !== val) return 'nan';
  if (val && val.nodeType === 1) return 'element';

  if (isBuffer(val)) return 'buffer';

  val = val.valueOf
    ? val.valueOf()
    : Object.prototype.valueOf.apply(val);

  return typeof val;
};

// code borrowed from https://github.com/feross/is-buffer/blob/master/index.js
function isBuffer(obj) {
  return !!(obj != null &&
    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)
      (obj.constructor &&
      typeof obj.constructor.isBuffer === 'function' &&
      obj.constructor.isBuffer(obj))
    ))
}


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], "{").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      // eslint-disable-next-line prefer-destructuring
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = modules[_i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = "(".concat(item[2], ") and (").concat(mediaQuery, ")");
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot).concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),

/***/ "./node_modules/currency-symbol-map/currency-symbol-map.js":
/*!*****************************************************************!*\
  !*** ./node_modules/currency-symbol-map/currency-symbol-map.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var currencySymbolMap = __webpack_require__(/*! ./map */ "./node_modules/currency-symbol-map/map.js")

module.exports = function getSymbolFromCurrency (currencyCode) {
  if (typeof currencyCode !== 'string') return undefined
  var code = currencyCode.toUpperCase()
  if (!currencySymbolMap.hasOwnProperty(code)) return undefined
  return currencySymbolMap[code]
}

module.exports.currencySymbolMap = currencySymbolMap


/***/ }),

/***/ "./node_modules/currency-symbol-map/map.js":
/*!*************************************************!*\
  !*** ./node_modules/currency-symbol-map/map.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = {
  'AED': '.',
  'AFN': '',
  'ALL': 'L',
  'AMD': '',
  'ANG': '',
  'AOA': 'Kz',
  'ARS': '$',
  'AUD': '$',
  'AWG': '',
  'AZN': '',
  'BAM': 'KM',
  'BBD': '$',
  'BDT': '',
  'BGN': '',
  'BHD': '..',
  'BIF': 'FBu',
  'BMD': '$',
  'BND': '$',
  'BOB': '$b',
  'BRL': 'R$',
  'BSD': '$',
  'BTC': '',
  'BTN': 'Nu.',
  'BWP': 'P',
  'BYR': 'Br',
  'BYN': 'Br',
  'BZD': 'BZ$',
  'CAD': '$',
  'CDF': 'FC',
  'CHF': 'CHF',
  'CLP': '$',
  'CNY': '',
  'COP': '$',
  'CRC': '',
  'CUC': '$',
  'CUP': '',
  'CVE': '$',
  'CZK': 'K',
  'DJF': 'Fdj',
  'DKK': 'kr',
  'DOP': 'RD$',
  'DZD': '',
  'EEK': 'kr',
  'EGP': '',
  'ERN': 'Nfk',
  'ETB': 'Br',
  'ETH': '',
  'EUR': '',
  'FJD': '$',
  'FKP': '',
  'GBP': '',
  'GEL': '',
  'GGP': '',
  'GHC': '',
  'GHS': 'GH',
  'GIP': '',
  'GMD': 'D',
  'GNF': 'FG',
  'GTQ': 'Q',
  'GYD': '$',
  'HKD': '$',
  'HNL': 'L',
  'HRK': 'kn',
  'HTG': 'G',
  'HUF': 'Ft',
  'IDR': 'Rp',
  'ILS': '',
  'IMP': '',
  'INR': '',
  'IQD': '.',
  'IRR': '',
  'ISK': 'kr',
  'JEP': '',
  'JMD': 'J$',
  'JOD': 'JD',
  'JPY': '',
  'KES': 'KSh',
  'KGS': '',
  'KHR': '',
  'KMF': 'CF',
  'KPW': '',
  'KRW': '',
  'KWD': 'KD',
  'KYD': '$',
  'KZT': '',
  'LAK': '',
  'LBP': '',
  'LKR': '',
  'LRD': '$',
  'LSL': 'M',
  'LTC': '',
  'LTL': 'Lt',
  'LVL': 'Ls',
  'LYD': 'LD',
  'MAD': 'MAD',
  'MDL': 'lei',
  'MGA': 'Ar',
  'MKD': '',
  'MMK': 'K',
  'MNT': '',
  'MOP': 'MOP$',
  'MRO': 'UM',
  'MRU': 'UM',
  'MUR': '',
  'MVR': 'Rf',
  'MWK': 'MK',
  'MXN': '$',
  'MYR': 'RM',
  'MZN': 'MT',
  'NAD': '$',
  'NGN': '',
  'NIO': 'C$',
  'NOK': 'kr',
  'NPR': '',
  'NZD': '$',
  'OMR': '',
  'PAB': 'B/.',
  'PEN': 'S/.',
  'PGK': 'K',
  'PHP': '',
  'PKR': '',
  'PLN': 'z',
  'PYG': 'Gs',
  'QAR': '',
  'RMB': '',
  'RON': 'lei',
  'RSD': '.',
  'RUB': '',
  'RWF': 'R',
  'SAR': '',
  'SBD': '$',
  'SCR': '',
  'SDG': '..',
  'SEK': 'kr',
  'SGD': '$',
  'SHP': '',
  'SLL': 'Le',
  'SOS': 'S',
  'SRD': '$',
  'SSP': '',
  'STD': 'Db',
  'STN': 'Db',
  'SVC': '$',
  'SYP': '',
  'SZL': 'E',
  'THB': '',
  'TJS': 'SM',
  'TMT': 'T',
  'TND': '.',
  'TOP': 'T$',
  'TRL': '',
  'TRY': '',
  'TTD': 'TT$',
  'TVD': '$',
  'TWD': 'NT$',
  'TZS': 'TSh',
  'UAH': '',
  'UGX': 'USh',
  'USD': '$',
  'UYU': '$U',
  'UZS': '',
  'VEF': 'Bs',
  'VND': '',
  'VUV': 'VT',
  'WST': 'WS$',
  'XAF': 'FCFA',
  'XBT': '',
  'XCD': '$',
  'XOF': 'CFA',
  'XPF': '',
  'YER': '',
  'ZAR': 'R',
  'ZWD': 'Z$'
}


/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',
  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',
  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',
  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',
  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',
  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',
  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',
  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',
  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',
  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',
  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // Internet Explorer and Edge do not support colors.
  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/debug/src/debug.js":
/*!*****************************************!*\
  !*** ./node_modules/debug/src/debug.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * Active `debug` instances.
 */
exports.instances = [];

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  var prevTime;

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);
  debug.destroy = destroy;

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  exports.instances.push(debug);

  return debug;
}

function destroy () {
  var index = exports.instances.indexOf(this);
  if (index !== -1) {
    exports.instances.splice(index, 1);
    return true;
  } else {
    return false;
  }
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var i;
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }

  for (i = 0; i < exports.instances.length; i++) {
    var instance = exports.instances[i];
    instance.enabled = exports.enabled(instance.namespace);
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  if (name[name.length - 1] === '*') {
    return true;
  }
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/deep-filter/index.js":
/*!*******************************************!*\
  !*** ./node_modules/deep-filter/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var isPlainObject = __webpack_require__(/*! is-plain-object */ "./node_modules/is-plain-object/index.js");

function filter(value, fn) {
    if (Array.isArray(value)) {
        return filterArray(value, fn);
    } else if (isPlainObject(value)) {
        return filterObject(value, fn);
    }

    return value;
}

function filterObject(obj, fn) {
    var newObj = {};
    var key;
    var value;

    for (key in obj) {
        value = filter(obj[key], fn);

        if (fn.call(obj, value, key, obj)) {
            if (value !== obj[key] && !isCollection(value)) {
                value = obj[key];
            }

            newObj[key] = value;
        }
    }

    return newObj;
}

function filterArray(array, fn) {
    var filtered = [];

    array.forEach(function (value, index, array) {
        value = filter(value, fn);

        if (fn.call(array, value, index, array)) {
            if (value !== array[index] && !isCollection(value)) {
                value = array[index];
            }

            filtered.push(value);
        }
    });

    return filtered;
}

function isCollection(value) {
    return Array.isArray(value) || isPlainObject(value);
}

module.exports = filter;


/***/ }),

/***/ "./node_modules/function-bind/implementation.js":
/*!******************************************************!*\
  !*** ./node_modules/function-bind/implementation.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice = Array.prototype.slice;
var toStr = Object.prototype.toString;
var funcType = '[object Function]';

module.exports = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};


/***/ }),

/***/ "./node_modules/function-bind/index.js":
/*!*********************************************!*\
  !*** ./node_modules/function-bind/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/function-bind/implementation.js");

module.exports = Function.prototype.bind || implementation;


/***/ }),

/***/ "./node_modules/get-intrinsic/index.js":
/*!*********************************************!*\
  !*** ./node_modules/get-intrinsic/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var undefined;

var $SyntaxError = SyntaxError;
var $Function = Function;
var $TypeError = TypeError;

// eslint-disable-next-line consistent-return
var getEvalledConstructor = function (expressionSyntax) {
	try {
		return $Function('"use strict"; return (' + expressionSyntax + ').constructor;')();
	} catch (e) {}
};

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () {
	throw new $TypeError();
};
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/get-intrinsic/node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var needsEval = {};

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': needsEval,
	'%AsyncGenerator%': needsEval,
	'%AsyncGeneratorFunction%': needsEval,
	'%AsyncIteratorPrototype%': needsEval,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,
	'%Boolean%': Boolean,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%Date%': Date,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,
	'%Function%': $Function,
	'%GeneratorFunction%': needsEval,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%Math%': Math,
	'%Number%': Number,
	'%Object%': Object,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%ReferenceError%': ReferenceError,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SyntaxError%': $SyntaxError,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypeError%': $TypeError,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%URIError%': URIError,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet
};

var doEval = function doEval(name) {
	var value;
	if (name === '%AsyncFunction%') {
		value = getEvalledConstructor('async function () {}');
	} else if (name === '%GeneratorFunction%') {
		value = getEvalledConstructor('function* () {}');
	} else if (name === '%AsyncGeneratorFunction%') {
		value = getEvalledConstructor('async function* () {}');
	} else if (name === '%AsyncGenerator%') {
		var fn = doEval('%AsyncGeneratorFunction%');
		if (fn) {
			value = fn.prototype;
		}
	} else if (name === '%AsyncIteratorPrototype%') {
		var gen = doEval('%AsyncGenerator%');
		if (gen) {
			value = getProto(gen.prototype);
		}
	}

	INTRINSICS[name] = value;

	return value;
};

var LEGACY_ALIASES = {
	'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],
	'%ArrayPrototype%': ['Array', 'prototype'],
	'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],
	'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],
	'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],
	'%ArrayProto_values%': ['Array', 'prototype', 'values'],
	'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],
	'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],
	'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],
	'%BooleanPrototype%': ['Boolean', 'prototype'],
	'%DataViewPrototype%': ['DataView', 'prototype'],
	'%DatePrototype%': ['Date', 'prototype'],
	'%ErrorPrototype%': ['Error', 'prototype'],
	'%EvalErrorPrototype%': ['EvalError', 'prototype'],
	'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],
	'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],
	'%FunctionPrototype%': ['Function', 'prototype'],
	'%Generator%': ['GeneratorFunction', 'prototype'],
	'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],
	'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],
	'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],
	'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],
	'%JSONParse%': ['JSON', 'parse'],
	'%JSONStringify%': ['JSON', 'stringify'],
	'%MapPrototype%': ['Map', 'prototype'],
	'%NumberPrototype%': ['Number', 'prototype'],
	'%ObjectPrototype%': ['Object', 'prototype'],
	'%ObjProto_toString%': ['Object', 'prototype', 'toString'],
	'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],
	'%PromisePrototype%': ['Promise', 'prototype'],
	'%PromiseProto_then%': ['Promise', 'prototype', 'then'],
	'%Promise_all%': ['Promise', 'all'],
	'%Promise_reject%': ['Promise', 'reject'],
	'%Promise_resolve%': ['Promise', 'resolve'],
	'%RangeErrorPrototype%': ['RangeError', 'prototype'],
	'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],
	'%RegExpPrototype%': ['RegExp', 'prototype'],
	'%SetPrototype%': ['Set', 'prototype'],
	'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],
	'%StringPrototype%': ['String', 'prototype'],
	'%SymbolPrototype%': ['Symbol', 'prototype'],
	'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],
	'%TypedArrayPrototype%': ['TypedArray', 'prototype'],
	'%TypeErrorPrototype%': ['TypeError', 'prototype'],
	'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],
	'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],
	'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],
	'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],
	'%URIErrorPrototype%': ['URIError', 'prototype'],
	'%WeakMapPrototype%': ['WeakMap', 'prototype'],
	'%WeakSetPrototype%': ['WeakSet', 'prototype']
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var hasOwn = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var $concat = bind.call(Function.call, Array.prototype.concat);
var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
var $replace = bind.call(Function.call, String.prototype.replace);
var $strSlice = bind.call(Function.call, String.prototype.slice);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
var reEscapeChar = /\\(\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var first = $strSlice(string, 0, 1);
	var last = $strSlice(string, -1);
	if (first === '%' && last !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected closing `%`');
	} else if (last === '%' && first !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected opening `%`');
	}
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	var intrinsicName = name;
	var alias;
	if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
		alias = LEGACY_ALIASES[intrinsicName];
		intrinsicName = '%' + alias[0] + '%';
	}

	if (hasOwn(INTRINSICS, intrinsicName)) {
		var value = INTRINSICS[intrinsicName];
		if (value === needsEval) {
			value = doEval(intrinsicName);
		}
		if (typeof value === 'undefined' && !allowMissing) {
			throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
		}

		return {
			alias: alias,
			name: intrinsicName,
			value: value
		};
	}

	throw new $SyntaxError('intrinsic ' + name + ' does not exist!');
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new $TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new $TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);
	var intrinsicBaseName = parts.length > 0 ? parts[0] : '';

	var intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);
	var intrinsicRealName = intrinsic.name;
	var value = intrinsic.value;
	var skipFurtherCaching = false;

	var alias = intrinsic.alias;
	if (alias) {
		intrinsicBaseName = alias[0];
		$spliceApply(parts, $concat([0, 1], alias));
	}

	for (var i = 1, isOwn = true; i < parts.length; i += 1) {
		var part = parts[i];
		var first = $strSlice(part, 0, 1);
		var last = $strSlice(part, -1);
		if (
			(
				(first === '"' || first === "'" || first === '`')
				|| (last === '"' || last === "'" || last === '`')
			)
			&& first !== last
		) {
			throw new $SyntaxError('property names with quotes must have matching quotes');
		}
		if (part === 'constructor' || !isOwn) {
			skipFurtherCaching = true;
		}

		intrinsicBaseName += '.' + part;
		intrinsicRealName = '%' + intrinsicBaseName + '%';

		if (hasOwn(INTRINSICS, intrinsicRealName)) {
			value = INTRINSICS[intrinsicRealName];
		} else if (value != null) {
			if (!(part in value)) {
				if (!allowMissing) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				return void undefined;
			}
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, part);
				isOwn = !!desc;

				// By convention, when a data property is converted to an accessor
				// property to emulate a data property that does not suffer from
				// the override mistake, that accessor's getter is marked with
				// an `originalValue` property. Here, when we detect this, we
				// uphold the illusion by pretending to see that original data
				// property, i.e., returning the value rather than the getter
				// itself.
				if (isOwn && 'get' in desc && !('originalValue' in desc.get)) {
					value = desc.get;
				} else {
					value = value[part];
				}
			} else {
				isOwn = hasOwn(value, part);
				value = value[part];
			}

			if (isOwn && !skipFurtherCaching) {
				INTRINSICS[intrinsicRealName] = value;
			}
		}
	}
	return value;
};


/***/ }),

/***/ "./node_modules/get-intrinsic/node_modules/has-symbols/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/get-intrinsic/node_modules/has-symbols/index.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var origSymbol = typeof Symbol !== 'undefined' && Symbol;
var hasSymbolSham = __webpack_require__(/*! ./shams */ "./node_modules/get-intrinsic/node_modules/has-symbols/shams.js");

module.exports = function hasNativeSymbols() {
	if (typeof origSymbol !== 'function') { return false; }
	if (typeof Symbol !== 'function') { return false; }
	if (typeof origSymbol('foo') !== 'symbol') { return false; }
	if (typeof Symbol('bar') !== 'symbol') { return false; }

	return hasSymbolSham();
};


/***/ }),

/***/ "./node_modules/get-intrinsic/node_modules/has-symbols/shams.js":
/*!**********************************************************************!*\
  !*** ./node_modules/get-intrinsic/node_modules/has-symbols/shams.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/* eslint complexity: [2, 18], max-statements: [2, 33] */
module.exports = function hasSymbols() {
	if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }
	if (typeof Symbol.iterator === 'symbol') { return true; }

	var obj = {};
	var sym = Symbol('test');
	var symObj = Object(sym);
	if (typeof sym === 'string') { return false; }

	if (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }
	if (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }

	// temp disabled per https://github.com/ljharb/object.assign/issues/17
	// if (sym instanceof Symbol) { return false; }
	// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4
	// if (!(symObj instanceof Symbol)) { return false; }

	// if (typeof Symbol.prototype.toString !== 'function') { return false; }
	// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }

	var symVal = 42;
	obj[sym] = symVal;
	for (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop
	if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }

	if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }

	var syms = Object.getOwnPropertySymbols(obj);
	if (syms.length !== 1 || syms[0] !== sym) { return false; }

	if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }

	if (typeof Object.getOwnPropertyDescriptor === 'function') {
		var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
		if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }
	}

	return true;
};


/***/ }),

/***/ "./node_modules/has/src/index.js":
/*!***************************************!*\
  !*** ./node_modules/has/src/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);


/***/ }),

/***/ "./node_modules/intersect/index.js":
/*!*****************************************!*\
  !*** ./node_modules/intersect/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = intersect;

function many (sets) {
  var o = {};
  var l = sets.length - 1;
  var first = sets[0];
  var last = sets[l];
  
  for(var i in first) o[first[i]] = 0;
  
  for(var i = 1; i <= l; i++) {
    var row = sets[i];
    for(var j in row) {
      var key = row[j];
      if(o[key] === i - 1) o[key] = i;
    }
  }
  
  var a = [];
  for(var i in last) {
    var key = last[i];
    if(o[key] === l) a.push(key);
  }
  
  return a;
}

function intersect (a, b) {
  if (!b) return many(a);

  var res = [];
  for (var i = 0; i < a.length; i++) {
    if (indexOf(b, a[i]) > -1) res.push(a[i]);
  }
  return res;
}

intersect.big = function(a, b) {
  if (!b) return many(a);
  
  var ret = [];
  var temp = {};
  
  for (var i = 0; i < b.length; i++) {
    temp[b[i]] = true;
  }
  for (var i = 0; i < a.length; i++) {
    if (temp[a[i]]) ret.push(a[i]);
  }
  
  return ret;
}

function indexOf(arr, el) {
  for (var i = 0; i < arr.length; i++) {
    if (arr[i] === el) return i;
  }
  return -1;
}


/***/ }),

/***/ "./node_modules/is-plain-object/index.js":
/*!***********************************************!*\
  !*** ./node_modules/is-plain-object/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */



var isObject = __webpack_require__(/*! isobject */ "./node_modules/isobject/index.js");

function isObjectObject(o) {
  return isObject(o) === true
    && Object.prototype.toString.call(o) === '[object Object]';
}

module.exports = function isPlainObject(o) {
  var ctor,prot;

  if (isObjectObject(o) === false) return false;

  // If has modified constructor
  ctor = o.constructor;
  if (typeof ctor !== 'function') return false;

  // If has modified prototype
  prot = ctor.prototype;
  if (isObjectObject(prot) === false) return false;

  // If constructor does not have an Object-specific method
  if (prot.hasOwnProperty('isPrototypeOf') === false) {
    return false;
  }

  // Most likely a plain Object
  return true;
};


/***/ }),

/***/ "./node_modules/isobject/index.js":
/*!****************************************!*\
  !*** ./node_modules/isobject/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */



module.exports = function isObject(val) {
  return val != null && typeof val === 'object' && Array.isArray(val) === false;
};


/***/ }),

/***/ "./node_modules/jsonp/index.js":
/*!*************************************!*\
  !*** ./node_modules/jsonp/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies
 */

var debug = __webpack_require__(/*! debug */ "./node_modules/jsonp/node_modules/debug/src/browser.js")('jsonp');

/**
 * Module exports.
 */

module.exports = jsonp;

/**
 * Callback index.
 */

var count = 0;

/**
 * Noop function.
 */

function noop(){}

/**
 * JSONP handler
 *
 * Options:
 *  - param {String} qs parameter (`callback`)
 *  - prefix {String} qs parameter (`__jp`)
 *  - name {String} qs parameter (`prefix` + incr)
 *  - timeout {Number} how long after a timeout error is emitted (`60000`)
 *
 * @param {String} url
 * @param {Object|Function} optional options / callback
 * @param {Function} optional callback
 */

function jsonp(url, opts, fn){
  if ('function' == typeof opts) {
    fn = opts;
    opts = {};
  }
  if (!opts) opts = {};

  var prefix = opts.prefix || '__jp';

  // use the callback name that was passed if one was provided.
  // otherwise generate a unique name by incrementing our counter.
  var id = opts.name || (prefix + (count++));

  var param = opts.param || 'callback';
  var timeout = null != opts.timeout ? opts.timeout : 60000;
  var enc = encodeURIComponent;
  var target = document.getElementsByTagName('script')[0] || document.head;
  var script;
  var timer;


  if (timeout) {
    timer = setTimeout(function(){
      cleanup();
      if (fn) fn(new Error('Timeout'));
    }, timeout);
  }

  function cleanup(){
    if (script.parentNode) script.parentNode.removeChild(script);
    window[id] = noop;
    if (timer) clearTimeout(timer);
  }

  function cancel(){
    if (window[id]) {
      cleanup();
    }
  }

  window[id] = function(data){
    debug('jsonp got', data);
    cleanup();
    if (fn) fn(null, data);
  };

  // add qs component
  url += (~url.indexOf('?') ? '&' : '?') + param + '=' + enc(id);
  url = url.replace('?&', '?');

  debug('jsonp req "%s"', url);

  // create script
  script = document.createElement('script');
  script.src = url;
  target.parentNode.insertBefore(script, target);

  return cancel;
}


/***/ }),

/***/ "./node_modules/jsonp/node_modules/debug/src/browser.js":
/*!**************************************************************!*\
  !*** ./node_modules/jsonp/node_modules/debug/src/browser.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/jsonp/node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/jsonp/node_modules/debug/src/debug.js":
/*!************************************************************!*\
  !*** ./node_modules/jsonp/node_modules/debug/src/debug.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/jss-browserify/jss.js":
/*!********************************************!*\
  !*** ./node_modules/jss-browserify/jss.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
 * JSS v0.6 - JavaScript Stylesheets
 * https://github.com/Box9/jss
 *
 * Copyright (c) 2011, David Tang
 * MIT Licensed (http://www.opensource.org/licenses/mit-license.php)
 */
var jss = (function() {
    var adjSelAttrRegex = /((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g;
    var doubleColonPseudoElRegex = /(::)(before|after|first-line|first-letter|selection)/;
    var singleColonPseudoElRegex = /([^:])(:)(before|after|first-line|first-letter|selection)/;
    var singleColonForPseudoElements; // flag for older browsers

    function getSelectorsAndRules(sheet) {
        var rules = sheet.cssRules || sheet.rules || [];
        var results = {};
        for (var i = 0; i < rules.length; i++) {
            // Older browsers and FF report pseudo element selectors in an outdated format
            var selectorText = toDoubleColonPseudoElements(rules[i].selectorText);
            if (!results[selectorText]) {
                results[selectorText] = [];
            }
            results[selectorText].push({
                sheet: sheet,
                index: i,
                style: rules[i].style
            });
        }
        return results;
    }

    function getRules(sheet, selector) {
        var rules = sheet.cssRules || sheet.rules || [];
        var results = [];
        // Browsers report selectors in lowercase
        selector = selector.toLowerCase();
        for (var i = 0; i < rules.length; i++) {
            var selectorText = rules[i].selectorText;
            // Note - certain rules (e.g. @rules) don't have selectorText
            if (selectorText && (selectorText == selector || selectorText == swapAdjSelAttr(selector) || selectorText == swapPseudoElSyntax(selector))) {
                results.push({
                    sheet: sheet,
                    index: i,
                    style: rules[i].style
                });
            }
        }
        return results;
    }

    function addRule(sheet, selector) {
        var rules = sheet.cssRules || sheet.rules || [];
        var index = rules.length;
        var pseudoElementRule = addPseudoElementRule(sheet, selector, rules, index);

        if (!pseudoElementRule) {
            addRuleToSheet(sheet, selector, index);
        }
        
        return {
            sheet: sheet,
            index: index,
            style: rules[index].style
        };
    };

    function addRuleToSheet(sheet, selector, index) {
        if (sheet.insertRule) {
            sheet.insertRule(selector + ' { }', index);
        } else {
            sheet.addRule(selector, null, index);
        }
    }

    // Handles single colon syntax for older browsers and bugzilla.mozilla.org/show_bug.cgi?id=949651
    function addPseudoElementRule(sheet, selector, rules, index) {
        var doubleColonSelector;
        var singleColonSelector;

        if (doubleColonPseudoElRegex.exec(selector)) {
            doubleColonSelector = selector;
            singleColonSelector = toSingleColonPseudoElements(selector);
        } else if (singleColonPseudoElRegex.exec(selector)) {
            doubleColonSelector = toDoubleColonPseudoElements(selector);
            singleColonSelector = selector;
        } else {
            return false; // Not dealing with a pseudo element
        }

        if (!singleColonForPseudoElements) {
            // Assume modern browser and then check if successful
            addRuleToSheet(sheet, doubleColonSelector, index);
            if (rules.length <= index) {
                singleColonForPseudoElements = true;
            }
        }
        if (singleColonForPseudoElements) {
            addRuleToSheet(sheet, singleColonSelector, index);
        }

        return true;
    }

    function toDoubleColonPseudoElements(selector) {
        return selector.replace(singleColonPseudoElRegex, function (match, submatch1, submatch2, submatch3) {
            return submatch1 + '::' + submatch3;
        });
    }

    function toSingleColonPseudoElements(selector) {
        return selector.replace(doubleColonPseudoElRegex, function(match, submatch1, submatch2) {
            return ':' + submatch2;
        })
    }

    function removeRule(rule) {
        var sheet = rule.sheet;
        if (sheet.deleteRule) {
            sheet.deleteRule(rule.index);
        } else if (sheet.removeRule) {
            sheet.removeRule(rule.index);
        }
    }

    function extend(dest, src) {
        for (var key in src) {
            if (!src.hasOwnProperty(key))
                continue;
            dest[key] = src[key];
        }
        return dest;
    }

    function aggregateStyles(rules) {
        var aggregate = {};
        for (var i = 0; i < rules.length; i++) {
            extend(aggregate, declaredProperties(rules[i].style));
        }
        return aggregate;
    }

    function declaredProperties(style) {
        var declared = {};
        for (var i = 0; i < style.length; i++) {
            declared[style[i]] = style[toCamelCase(style[i])];
        }
        return declared;
    }

    // IE9 stores rules with attributes (classes or ID's) adjacent in the opposite order as defined
    // causing them to not be found, so this method swaps [#|.]sel1[#|.]sel2 to become [#|.]sel2[#|.]sel1
    function swapAdjSelAttr(selector) {
        var swap = '';
        var lastIndex = 0;
            
        while ((match = adjSelAttrRegex.exec(selector)) != null) {
            if (match[0] === '')
                break;
            swap += selector.substring(lastIndex, match.index);
            swap += selector.substr(match.index + match[1].length, match[2].length);
            swap += selector.substr(match.index, match[1].length);
            lastIndex = match.index + match[0].length;
        }
        swap += selector.substr(lastIndex);
        
        return swap;
    };

    // FF and older browsers store rules with pseudo elements using single-colon syntax
    function swapPseudoElSyntax(selector) {
        if (doubleColonPseudoElRegex.exec(selector)) {
            return toSingleColonPseudoElements(selector);
        }
        return selector;
    }

    function setStyleProperties(rule, properties) {
        for (var key in properties) {
            var value = properties[key];
            var importantIndex = value.indexOf(' !important');

            // Modern browsers seem to handle overrides fine, but IE9 doesn't
            rule.style.removeProperty(key); 
            if (importantIndex > 0) {
                rule.style.setProperty(key, value.substr(0, importantIndex), 'important');
            } else {
                rule.style.setProperty(key, value);
            }
        }
    }

    function toCamelCase(str) {
        return str.replace(/-([a-z])/g, function (match, submatch) {
            return submatch.toUpperCase();
        });
    }

    function transformCamelCasedPropertyNames(oldProps) {
        var newProps = {};
        for (var key in oldProps) {
            newProps[unCamelCase(key)] = oldProps[key];
        }
        return newProps;
    }

    function unCamelCase(str) {
        return str.replace(/([A-Z])/g, function(match, submatch) {
            return '-' + submatch.toLowerCase();
        });
    }

    var Jss = function(doc) {
        this.doc = doc;
        this.head = this.doc.head || this.doc.getElementsByTagName('head')[0];
        this.sheets = this.doc.styleSheets || [];
    };

    Jss.prototype = {
        // Returns JSS rules (selector is optional)
        get: function(selector) {
            if (!this.defaultSheet) {
                return {};
            }
            if (selector) {
                return aggregateStyles(getRules(this.defaultSheet, selector));
            }
            var rules = getSelectorsAndRules(this.defaultSheet);
            for (selector in rules) {
                rules[selector] = aggregateStyles(rules[selector]);
            }
            return rules;
        },
        // Returns all rules (selector is required)
        getAll: function(selector) {
            var properties = {};
            for (var i = 0; i < this.sheets.length; i++) {
                extend(properties, aggregateStyles(getRules(this.sheets[i], selector)));
            }
            return properties;
        },
        // Adds JSS rules for the selector based on the given properties
        set: function(selector, properties) {
            if (!this.defaultSheet) {
                this.defaultSheet = this._createSheet();
            }
            properties = transformCamelCasedPropertyNames(properties);
            var rules = getRules(this.defaultSheet, selector);
            if (!rules.length) {
                rules = [addRule(this.defaultSheet, selector)];
            }
            for (var i = 0; i < rules.length; i++) {
                setStyleProperties(rules[i], properties);
            }
        },
        // Removes JSS rules (selector is optional)
        remove: function(selector) {
            if (!this.defaultSheet)
                return;
            if (!selector) {
                this._removeSheet(this.defaultSheet);
                delete this.defaultSheet;
                return;
            }
            var rules = getRules(this.defaultSheet, selector);
            for (var i = 0; i < rules.length; i++) {
                removeRule(rules[i]);
            }
            return rules.length;
        },
        _createSheet: function() {
            var styleNode = this.doc.createElement('style');
            styleNode.type = 'text/css';
            styleNode.rel = 'stylesheet';
            this.head.appendChild(styleNode);
            return styleNode.sheet;
        },
        _removeSheet: function(sheet) {
            var node = sheet.ownerNode;
            node.parentNode.removeChild(node);
        }
    };

    var exports = new Jss(document);
    exports.forDocument = function(doc) {
        return new Jss(doc);
    };
    return exports;
})();

 true && module.exports && (module.exports = jss); // CommonJS support

/***/ }),

/***/ "./node_modules/load-script/index.js":
/*!*******************************************!*\
  !*** ./node_modules/load-script/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {


module.exports = function load (src, opts, cb) {
  var head = document.head || document.getElementsByTagName('head')[0]
  var script = document.createElement('script')

  if (typeof opts === 'function') {
    cb = opts
    opts = {}
  }

  opts = opts || {}
  cb = cb || function() {}

  script.type = opts.type || 'text/javascript'
  script.charset = opts.charset || 'utf8';
  script.async = 'async' in opts ? !!opts.async : true
  script.src = src

  if (opts.attrs) {
    setAttributes(script, opts.attrs)
  }

  if (opts.text) {
    script.text = '' + opts.text
  }

  var onend = 'onload' in script ? stdOnEnd : ieOnEnd
  onend(script, cb)

  // some good legacy browsers (firefox) fail the 'in' detection above
  // so as a fallback we always set onload
  // old IE will ignore this and new IE will set onload
  if (!script.onload) {
    stdOnEnd(script, cb);
  }

  head.appendChild(script)
}

function setAttributes(script, attrs) {
  for (var attr in attrs) {
    script.setAttribute(attr, attrs[attr]);
  }
}

function stdOnEnd (script, cb) {
  script.onload = function () {
    this.onerror = this.onload = null
    cb(null, script)
  }
  script.onerror = function () {
    // this.onload = null here is necessary
    // because even IE9 works not like others
    this.onerror = this.onload = null
    cb(new Error('Failed to load ' + this.src), script)
  }
}

function ieOnEnd (script, cb) {
  script.onreadystatechange = function () {
    if (this.readyState != 'complete' && this.readyState != 'loaded') return
    this.onreadystatechange = null
    cb(null, script) // there is no way to catch loading errors in IE8
  }
}


/***/ }),

/***/ "./node_modules/lodash.chunk/index.js":
/*!********************************************!*\
  !*** ./node_modules/lodash.chunk/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991,
    MAX_INTEGER = 1.7976931348623157e+308,
    NAN = 0 / 0;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeCeil = Math.ceil,
    nativeMax = Math.max;

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : (length + start);
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : ((end - start) >>> 0);
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Creates an array of elements split into groups the length of `size`.
 * If `array` can't be split evenly, the final chunk will be the remaining
 * elements.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Array
 * @param {Array} array The array to process.
 * @param {number} [size=1] The length of each chunk
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the new array of chunks.
 * @example
 *
 * _.chunk(['a', 'b', 'c', 'd'], 2);
 * // => [['a', 'b'], ['c', 'd']]
 *
 * _.chunk(['a', 'b', 'c', 'd'], 3);
 * // => [['a', 'b', 'c'], ['d']]
 */
function chunk(array, size, guard) {
  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {
    size = 1;
  } else {
    size = nativeMax(toInteger(size), 0);
  }
  var length = array ? array.length : 0;
  if (!length || size < 1) {
    return [];
  }
  var index = 0,
      resIndex = 0,
      result = Array(nativeCeil(length / size));

  while (index < length) {
    result[resIndex++] = baseSlice(array, index, (index += size));
  }
  return result;
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a finite number.
 *
 * @static
 * @memberOf _
 * @since 4.12.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted number.
 * @example
 *
 * _.toFinite(3.2);
 * // => 3.2
 *
 * _.toFinite(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toFinite(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toFinite('3.2');
 * // => 3.2
 */
function toFinite(value) {
  if (!value) {
    return value === 0 ? value : 0;
  }
  value = toNumber(value);
  if (value === INFINITY || value === -INFINITY) {
    var sign = (value < 0 ? -1 : 1);
    return sign * MAX_INTEGER;
  }
  return value === value ? value : 0;
}

/**
 * Converts `value` to an integer.
 *
 * **Note:** This method is loosely based on
 * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted integer.
 * @example
 *
 * _.toInteger(3.2);
 * // => 3
 *
 * _.toInteger(Number.MIN_VALUE);
 * // => 0
 *
 * _.toInteger(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toInteger('3.2');
 * // => 3
 */
function toInteger(value) {
  var result = toFinite(value),
      remainder = result % 1;

  return result === result ? (remainder ? result - remainder : result) : 0;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = chunk;


/***/ }),

/***/ "./node_modules/lodash.isempty/index.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash.isempty/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    setTag = '[object Set]',
    weakMapTag = '[object WeakMap]';

var dataViewTag = '[object DataView]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    propertyIsEnumerable = objectProto.propertyIsEnumerable;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeKeys = overArg(Object.keys, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap');

/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */
var nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||
    (Map && getTag(new Map) != mapTag) ||
    (Promise && getTag(Promise.resolve()) != promiseTag) ||
    (Set && getTag(new Set) != setTag) ||
    (WeakMap && getTag(new WeakMap) != weakMapTag)) {
  getTag = function(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString: return dataViewTag;
        case mapCtorString: return mapTag;
        case promiseCtorString: return promiseTag;
        case setCtorString: return setTag;
        case weakMapCtorString: return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is an empty object, collection, map, or set.
 *
 * Objects are considered empty if they have no own enumerable string keyed
 * properties.
 *
 * Array-like values such as `arguments` objects, arrays, buffers, strings, or
 * jQuery-like collections are considered empty if they have a `length` of `0`.
 * Similarly, maps and sets are considered empty if they have a `size` of `0`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is empty, else `false`.
 * @example
 *
 * _.isEmpty(null);
 * // => true
 *
 * _.isEmpty(true);
 * // => true
 *
 * _.isEmpty(1);
 * // => true
 *
 * _.isEmpty([1, 2, 3]);
 * // => false
 *
 * _.isEmpty({ 'a': 1 });
 * // => false
 */
function isEmpty(value) {
  if (isArrayLike(value) &&
      (isArray(value) || typeof value == 'string' ||
        typeof value.splice == 'function' || isBuffer(value) || isArguments(value))) {
    return !value.length;
  }
  var tag = getTag(value);
  if (tag == mapTag || tag == setTag) {
    return !value.size;
  }
  if (nonEnumShadows || isPrototype(value)) {
    return !nativeKeys(value).length;
  }
  for (var key in value) {
    if (hasOwnProperty.call(value, key)) {
      return false;
    }
  }
  return true;
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = isEmpty;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/lodash.pick/index.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash.pick/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.pick` without support for individual
 * property identifiers.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick.
 * @returns {Object} Returns the new object.
 */
function basePick(object, props) {
  object = Object(object);
  return basePickBy(object, props, function(value, key) {
    return key in object;
  });
}

/**
 * The base implementation of  `_.pickBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick from.
 * @param {Function} predicate The function invoked per property.
 * @returns {Object} Returns the new object.
 */
function basePickBy(object, props, predicate) {
  var index = -1,
      length = props.length,
      result = {};

  while (++index < length) {
    var key = props[index],
        value = object[key];

    if (predicate(value, key)) {
      result[key] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Creates an object composed of the picked `object` properties.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The source object.
 * @param {...(string|string[])} [props] The property identifiers to pick.
 * @returns {Object} Returns the new object.
 * @example
 *
 * var object = { 'a': 1, 'b': '2', 'c': 3 };
 *
 * _.pick(object, ['a', 'c']);
 * // => { 'a': 1, 'c': 3 }
 */
var pick = baseRest(function(object, props) {
  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));
});

module.exports = pick;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash.times/index.js":
/*!********************************************!*\
  !*** ./node_modules/lodash.times/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991,
    MAX_INTEGER = 1.7976931348623157e+308,
    NAN = 0 / 0;

/** Used as references for the maximum length and index of an array. */
var MAX_ARRAY_LENGTH = 4294967295;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMin = Math.min;

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a finite number.
 *
 * @static
 * @memberOf _
 * @since 4.12.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted number.
 * @example
 *
 * _.toFinite(3.2);
 * // => 3.2
 *
 * _.toFinite(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toFinite(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toFinite('3.2');
 * // => 3.2
 */
function toFinite(value) {
  if (!value) {
    return value === 0 ? value : 0;
  }
  value = toNumber(value);
  if (value === INFINITY || value === -INFINITY) {
    var sign = (value < 0 ? -1 : 1);
    return sign * MAX_INTEGER;
  }
  return value === value ? value : 0;
}

/**
 * Converts `value` to an integer.
 *
 * **Note:** This method is loosely based on
 * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted integer.
 * @example
 *
 * _.toInteger(3.2);
 * // => 3
 *
 * _.toInteger(Number.MIN_VALUE);
 * // => 0
 *
 * _.toInteger(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toInteger('3.2');
 * // => 3
 */
function toInteger(value) {
  var result = toFinite(value),
      remainder = result % 1;

  return result === result ? (remainder ? result - remainder : result) : 0;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * Invokes the iteratee `n` times, returning an array of the results of
 * each invocation. The iteratee is invoked with one argument; (index).
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} [iteratee=_.identity] The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 * @example
 *
 * _.times(3, String);
 * // => ['0', '1', '2']
 *
 *  _.times(4, _.constant(0));
 * // => [0, 0, 0, 0]
 */
function times(n, iteratee) {
  n = toInteger(n);
  if (n < 1 || n > MAX_SAFE_INTEGER) {
    return [];
  }
  var index = MAX_ARRAY_LENGTH,
      length = nativeMin(n, MAX_ARRAY_LENGTH);

  iteratee = typeof iteratee == 'function' ? iteratee : identity;
  n -= MAX_ARRAY_LENGTH;

  var result = baseTimes(length, iteratee);
  while (++index < n) {
    iteratee(index);
  }
  return result;
}

module.exports = times;


/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}


/***/ }),

/***/ "./node_modules/nanoid/format.browser.js":
/*!***********************************************!*\
  !*** ./node_modules/nanoid/format.browser.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// This file replaces `format.js` in bundlers like webpack or Rollup,
// according to `browser` config in `package.json`.

module.exports = function (random, alphabet, size) {
  // We cant use bytes bigger than the alphabet. To make bytes values closer
  // to the alphabet, we apply bitmask on them. We look for the closest
  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have
  // 30 symbols in the alphabet, we will take 31 (00011111).
  // We do not use faster Math.clz32, because it is not available in browsers.
  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1
  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,
  // which is bigger than the alphabet). As a result, we will need more bytes,
  // than ID size, because we will refuse bytes bigger than the alphabet.

  // Every hardware random generator call is costly,
  // because we need to wait for entropy collection. This is why often it will
  // be faster to ask for few extra bytes in advance, to avoid additional calls.

  // Here we calculate how many random bytes should we call in advance.
  // It depends on ID length, mask / alphabet size and magic number 1.6
  // (which was selected according benchmarks).

  // -~f => Math.ceil(f) if n is float number
  // -~i => i + 1 if n is integer number
  var step = -~(1.6 * mask * size / alphabet.length)
  var id = ''

  while (true) {
    var bytes = random(step)
    // Compact alternative for `for (var i = 0; i < step; i++)`
    var i = step
    while (i--) {
      // If random byte is bigger than alphabet even after bitmask,
      // we refuse it by `|| ''`.
      id += alphabet[bytes[i] & mask] || ''
      // More compact than `id.length + 1 === size`
      if (id.length === +size) return id
    }
  }
}


/***/ }),

/***/ "./node_modules/nanoid/generate.js":
/*!*****************************************!*\
  !*** ./node_modules/nanoid/generate.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var random = __webpack_require__(/*! ./random */ "./node_modules/nanoid/random.browser.js")
var format = __webpack_require__(/*! ./format */ "./node_modules/nanoid/format.browser.js")

/**
 * Low-level function to change alphabet and ID size.
 *
 * Alphabet must contain 256 symbols or less. Otherwise, the generator
 * will not be secure.
 *
 * @param {string} alphabet Symbols to be used in ID.
 * @param {number} size The number of symbols in ID.
 *
 * @return {string} Unique ID.
 *
 * @example
 * const generate = require('nanoid/generate')
 * model.id = generate('0123456789', 5) //=> "856"
 *
 * @name generate
 * @function
 */
module.exports = format.bind(null, random)


/***/ }),

/***/ "./node_modules/nanoid/random.browser.js":
/*!***********************************************!*\
  !*** ./node_modules/nanoid/random.browser.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var crypto = self.crypto || self.msCrypto

module.exports = function (bytes) {
  return crypto.getRandomValues(new Uint8Array(bytes))
}


/***/ }),

/***/ "./node_modules/payment/lib/index.js":
/*!*******************************************!*\
  !*** ./node_modules/payment/lib/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// Generated by CoffeeScript 1.10.0
(function() {
  var Payment, QJ, cardFromNumber, cardFromType, cards, cursorSafeAssignValue, defaultFormat, formatBackCardNumber, formatBackExpiry, formatCardNumber, formatExpiry, formatForwardExpiry, formatForwardSlash, formatMonthExpiry, hasTextSelected, luhnCheck, reFormatCardNumber, restrictCVC, restrictCardNumber, restrictCombinedExpiry, restrictExpiry, restrictMonthExpiry, restrictNumeric, restrictYearExpiry, setCardType,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  QJ = __webpack_require__(/*! qj */ "./node_modules/qj/lib/index.js");

  defaultFormat = /(\d{1,4})/g;

  cards = [
    {
      type: 'amex',
      pattern: /^3[47]/,
      format: /(\d{1,4})(\d{1,6})?(\d{1,5})?/,
      length: [15],
      cvcLength: [4],
      luhn: true
    }, {
      type: 'dankort',
      pattern: /^5019/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'hipercard',
      pattern: /^(384100|384140|384160|606282|637095|637568|60(?!11))/,
      format: defaultFormat,
      length: [14, 15, 16, 17, 18, 19],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'dinersclub',
      pattern: /^(36|38|30[0-5])/,
      format: /(\d{1,4})(\d{1,6})?(\d{1,4})?/,
      length: [14],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'discover',
      pattern: /^(6011|65|64[4-9]|622)/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'jcb',
      pattern: /^35/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'laser',
      pattern: /^(6706|6771|6709)/,
      format: defaultFormat,
      length: [16, 17, 18, 19],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'maestro',
      pattern: /^(5018|5020|5038|6304|6703|6708|6759|676[1-3])/,
      format: defaultFormat,
      length: [12, 13, 14, 15, 16, 17, 18, 19],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'mastercard',
      pattern: /^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'unionpay',
      pattern: /^62/,
      format: defaultFormat,
      length: [16, 17, 18, 19],
      cvcLength: [3],
      luhn: false
    }, {
      type: 'visaelectron',
      pattern: /^4(026|17500|405|508|844|91[37])/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'elo',
      pattern: /^(4011(78|79)|43(1274|8935)|45(1416|7393|763(1|2))|50(4175|6699|67[0-7][0-9]|9000)|627780|63(6297|6368)|650(03([^4])|04([0-9])|05(0|1)|4(0[5-9]|3[0-9]|8[5-9]|9[0-9])|5([0-2][0-9]|3[0-8])|9([2-6][0-9]|7[0-8])|541|700|720|901)|651652|655000|655021)/,
      format: defaultFormat,
      length: [16],
      cvcLength: [3],
      luhn: true
    }, {
      type: 'visa',
      pattern: /^4/,
      format: defaultFormat,
      length: [13, 16, 19],
      cvcLength: [3],
      luhn: true
    }
  ];

  cardFromNumber = function(num) {
    var card, j, len;
    num = (num + '').replace(/\D/g, '');
    for (j = 0, len = cards.length; j < len; j++) {
      card = cards[j];
      if (card.pattern.test(num)) {
        return card;
      }
    }
  };

  cardFromType = function(type) {
    var card, j, len;
    for (j = 0, len = cards.length; j < len; j++) {
      card = cards[j];
      if (card.type === type) {
        return card;
      }
    }
  };

  luhnCheck = function(num) {
    var digit, digits, j, len, odd, sum;
    odd = true;
    sum = 0;
    digits = (num + '').split('').reverse();
    for (j = 0, len = digits.length; j < len; j++) {
      digit = digits[j];
      digit = parseInt(digit, 10);
      if ((odd = !odd)) {
        digit *= 2;
      }
      if (digit > 9) {
        digit -= 9;
      }
      sum += digit;
    }
    return sum % 10 === 0;
  };

  hasTextSelected = function(target) {
    var e, error, ref;
    try {
      if ((target.selectionStart != null) && target.selectionStart !== target.selectionEnd) {
        return true;
      }
      if ((typeof document !== "undefined" && document !== null ? (ref = document.selection) != null ? ref.createRange : void 0 : void 0) != null) {
        if (document.selection.createRange().text) {
          return true;
        }
      }
    } catch (error) {
      e = error;
    }
    return false;
  };

  reFormatCardNumber = function(e) {
    return setTimeout((function(_this) {
      return function() {
        var target, value;
        target = e.target;
        value = QJ.val(target);
        value = Payment.fns.formatCardNumber(value);
        cursorSafeAssignValue(target, value);
        return QJ.trigger(target, 'change');
      };
    })(this));
  };

  formatCardNumber = function(maxLength) {
    return function(e) {
      var card, digit, i, j, len, length, re, target, upperLength, upperLengths, value;
      digit = String.fromCharCode(e.which);
      if (!/^\d+$/.test(digit)) {
        return;
      }
      target = e.target;
      value = QJ.val(target);
      card = cardFromNumber(value + digit);
      length = (value.replace(/\D/g, '') + digit).length;
      upperLengths = [16];
      if (card) {
        upperLengths = card.length;
      }
      if (maxLength) {
        upperLengths = upperLengths.filter(function(x) {
          return x <= maxLength;
        });
      }
      for (i = j = 0, len = upperLengths.length; j < len; i = ++j) {
        upperLength = upperLengths[i];
        if (length >= upperLength && upperLengths[i + 1]) {
          continue;
        }
        if (length >= upperLength) {
          return;
        }
      }
      if (hasTextSelected(target)) {
        return;
      }
      if (card && card.type === 'amex') {
        re = /^(\d{4}|\d{4}\s\d{6})$/;
      } else {
        re = /(?:^|\s)(\d{4})$/;
      }
      if (re.test(value)) {
        e.preventDefault();
        QJ.val(target, value + ' ' + digit);
        return QJ.trigger(target, 'change');
      }
    };
  };

  formatBackCardNumber = function(e) {
    var target, value;
    target = e.target;
    value = QJ.val(target);
    if (e.meta) {
      return;
    }
    if (e.which !== 8) {
      return;
    }
    if (hasTextSelected(target)) {
      return;
    }
    if (/\d\s$/.test(value)) {
      e.preventDefault();
      QJ.val(target, value.replace(/\d\s$/, ''));
      return QJ.trigger(target, 'change');
    } else if (/\s\d?$/.test(value)) {
      e.preventDefault();
      QJ.val(target, value.replace(/\s\d?$/, ''));
      return QJ.trigger(target, 'change');
    }
  };

  formatExpiry = function(e) {
    var digit, target, val;
    digit = String.fromCharCode(e.which);
    if (!/^\d+$/.test(digit)) {
      return;
    }
    target = e.target;
    val = QJ.val(target) + digit;
    if (/^\d$/.test(val) && (val !== '0' && val !== '1')) {
      e.preventDefault();
      QJ.val(target, "0" + val + " / ");
      return QJ.trigger(target, 'change');
    } else if (/^\d\d$/.test(val)) {
      e.preventDefault();
      QJ.val(target, val + " / ");
      return QJ.trigger(target, 'change');
    }
  };

  formatMonthExpiry = function(e) {
    var digit, target, val;
    digit = String.fromCharCode(e.which);
    if (!/^\d+$/.test(digit)) {
      return;
    }
    target = e.target;
    val = QJ.val(target) + digit;
    if (/^\d$/.test(val) && (val !== '0' && val !== '1')) {
      e.preventDefault();
      QJ.val(target, "0" + val);
      return QJ.trigger(target, 'change');
    } else if (/^\d\d$/.test(val)) {
      e.preventDefault();
      QJ.val(target, "" + val);
      return QJ.trigger(target, 'change');
    }
  };

  formatForwardExpiry = function(e) {
    var digit, target, val;
    digit = String.fromCharCode(e.which);
    if (!/^\d+$/.test(digit)) {
      return;
    }
    target = e.target;
    val = QJ.val(target);
    if (/^\d\d$/.test(val)) {
      QJ.val(target, val + " / ");
      return QJ.trigger(target, 'change');
    }
  };

  formatForwardSlash = function(e) {
    var slash, target, val;
    slash = String.fromCharCode(e.which);
    if (slash !== '/') {
      return;
    }
    target = e.target;
    val = QJ.val(target);
    if (/^\d$/.test(val) && val !== '0') {
      QJ.val(target, "0" + val + " / ");
      return QJ.trigger(target, 'change');
    }
  };

  formatBackExpiry = function(e) {
    var target, value;
    if (e.metaKey) {
      return;
    }
    target = e.target;
    value = QJ.val(target);
    if (e.which !== 8) {
      return;
    }
    if (hasTextSelected(target)) {
      return;
    }
    if (/\d(\s|\/)+$/.test(value)) {
      e.preventDefault();
      QJ.val(target, value.replace(/\d(\s|\/)*$/, ''));
      return QJ.trigger(target, 'change');
    } else if (/\s\/\s?\d?$/.test(value)) {
      e.preventDefault();
      QJ.val(target, value.replace(/\s\/\s?\d?$/, ''));
      return QJ.trigger(target, 'change');
    }
  };

  restrictNumeric = function(e) {
    var input;
    if (e.originalEvent.metaKey || e.originalEvent.ctrlKey) {
      return true;
    }
    if (e.which === 32) {
      return e.preventDefault();
    }
    if (e.which === 0) {
      return true;
    }
    if (e.which < 33) {
      return true;
    }
    input = String.fromCharCode(e.which);
    if (!/[\d\s]/.test(input)) {
      return e.preventDefault();
    }
  };

  restrictCardNumber = function(maxLength) {
    return function(e) {
      var card, digit, length, target, value;
      target = e.target;
      digit = String.fromCharCode(e.which);
      if (!/^\d+$/.test(digit)) {
        return;
      }
      if (hasTextSelected(target)) {
        return;
      }
      value = (QJ.val(target) + digit).replace(/\D/g, '');
      card = cardFromNumber(value);
      length = 16;
      if (card) {
        length = card.length[card.length.length - 1];
      }
      if (maxLength) {
        length = Math.min(length, maxLength);
      }
      if (!(value.length <= length)) {
        return e.preventDefault();
      }
    };
  };

  restrictExpiry = function(e, length) {
    var digit, target, value;
    target = e.target;
    digit = String.fromCharCode(e.which);
    if (!/^\d+$/.test(digit)) {
      return;
    }
    if (hasTextSelected(target)) {
      return;
    }
    value = QJ.val(target) + digit;
    value = value.replace(/\D/g, '');
    if (value.length > length) {
      return e.preventDefault();
    }
  };

  restrictCombinedExpiry = function(e) {
    return restrictExpiry(e, 6);
  };

  restrictMonthExpiry = function(e) {
    return restrictExpiry(e, 2);
  };

  restrictYearExpiry = function(e) {
    return restrictExpiry(e, 4);
  };

  restrictCVC = function(e) {
    var digit, target, val;
    target = e.target;
    digit = String.fromCharCode(e.which);
    if (!/^\d+$/.test(digit)) {
      return;
    }
    if (hasTextSelected(target)) {
      return;
    }
    val = QJ.val(target) + digit;
    if (!(val.length <= 4)) {
      return e.preventDefault();
    }
  };

  setCardType = function(e) {
    var allTypes, card, cardType, target, val;
    target = e.target;
    val = QJ.val(target);
    cardType = Payment.fns.cardType(val) || 'unknown';
    if (!QJ.hasClass(target, cardType)) {
      allTypes = (function() {
        var j, len, results;
        results = [];
        for (j = 0, len = cards.length; j < len; j++) {
          card = cards[j];
          results.push(card.type);
        }
        return results;
      })();
      QJ.removeClass(target, 'unknown');
      QJ.removeClass(target, allTypes.join(' '));
      QJ.addClass(target, cardType);
      QJ.toggleClass(target, 'identified', cardType !== 'unknown');
      return QJ.trigger(target, 'payment.cardType', cardType);
    }
  };

  cursorSafeAssignValue = function(target, value) {
    var selectionEnd;
    selectionEnd = target.selectionEnd;
    QJ.val(target, value);
    if (typeof selectionEnd === 'number' && global.document.activeElement === target) {
      return target.selectionEnd = selectionEnd;
    }
  };

  Payment = (function() {
    function Payment() {}

    Payment.fns = {
      cardExpiryVal: function(value) {
        var month, prefix, ref, year;
        value = value.replace(/\s/g, '');
        ref = value.split('/', 2), month = ref[0], year = ref[1];
        if ((year != null ? year.length : void 0) === 2 && /^\d+$/.test(year)) {
          prefix = (new Date).getFullYear();
          prefix = prefix.toString().slice(0, 2);
          year = prefix + year;
        }
        month = parseInt(month, 10);
        year = parseInt(year, 10);
        return {
          month: month,
          year: year
        };
      },
      validateCardNumber: function(num) {
        var card, ref;
        num = (num + '').replace(/\s+|-/g, '');
        if (!/^\d+$/.test(num)) {
          return false;
        }
        card = cardFromNumber(num);
        if (!card) {
          return false;
        }
        return (ref = num.length, indexOf.call(card.length, ref) >= 0) && (card.luhn === false || luhnCheck(num));
      },
      validateCardExpiry: function(month, year) {
        var currentTime, expiry, prefix, ref, ref1;
        if (typeof month === 'object' && 'month' in month) {
          ref = month, month = ref.month, year = ref.year;
        } else if (typeof month === 'string' && indexOf.call(month, '/') >= 0) {
          ref1 = Payment.fns.cardExpiryVal(month), month = ref1.month, year = ref1.year;
        }
        if (!(month && year)) {
          return false;
        }
        month = QJ.trim(month);
        year = QJ.trim(year);
        if (!/^\d+$/.test(month)) {
          return false;
        }
        if (!/^\d+$/.test(year)) {
          return false;
        }
        month = parseInt(month, 10);
        if (!(month && month <= 12)) {
          return false;
        }
        if (year.length === 2) {
          prefix = (new Date).getFullYear();
          prefix = prefix.toString().slice(0, 2);
          year = prefix + year;
        }
        expiry = new Date(year, month);
        currentTime = new Date;
        expiry.setMonth(expiry.getMonth() - 1);
        expiry.setMonth(expiry.getMonth() + 1, 1);
        return expiry > currentTime;
      },
      validateCardCVC: function(cvc, type) {
        var ref, ref1;
        cvc = QJ.trim(cvc);
        if (!/^\d+$/.test(cvc)) {
          return false;
        }
        if (type && cardFromType(type)) {
          return ref = cvc.length, indexOf.call((ref1 = cardFromType(type)) != null ? ref1.cvcLength : void 0, ref) >= 0;
        } else {
          return cvc.length >= 3 && cvc.length <= 4;
        }
      },
      cardType: function(num) {
        var ref;
        if (!num) {
          return null;
        }
        return ((ref = cardFromNumber(num)) != null ? ref.type : void 0) || null;
      },
      formatCardNumber: function(num) {
        var card, groups, ref, upperLength;
        card = cardFromNumber(num);
        if (!card) {
          return num;
        }
        upperLength = card.length[card.length.length - 1];
        num = num.replace(/\D/g, '');
        num = num.slice(0, upperLength);
        if (card.format.global) {
          return (ref = num.match(card.format)) != null ? ref.join(' ') : void 0;
        } else {
          groups = card.format.exec(num);
          if (groups == null) {
            return;
          }
          groups.shift();
          groups = groups.filter(function(n) {
            return n;
          });
          return groups.join(' ');
        }
      }
    };

    Payment.restrictNumeric = function(el) {
      return QJ.on(el, 'keypress', restrictNumeric);
    };

    Payment.cardExpiryVal = function(el) {
      return Payment.fns.cardExpiryVal(QJ.val(el));
    };

    Payment.formatCardCVC = function(el) {
      Payment.restrictNumeric(el);
      QJ.on(el, 'keypress', restrictCVC);
      return el;
    };

    Payment.formatCardExpiry = function(el) {
      var month, year;
      Payment.restrictNumeric(el);
      if (el.length && el.length === 2) {
        month = el[0], year = el[1];
        this.formatCardExpiryMultiple(month, year);
      } else {
        QJ.on(el, 'keypress', restrictCombinedExpiry);
        QJ.on(el, 'keypress', formatExpiry);
        QJ.on(el, 'keypress', formatForwardSlash);
        QJ.on(el, 'keypress', formatForwardExpiry);
        QJ.on(el, 'keydown', formatBackExpiry);
      }
      return el;
    };

    Payment.formatCardExpiryMultiple = function(month, year) {
      QJ.on(month, 'keypress', restrictMonthExpiry);
      QJ.on(month, 'keypress', formatMonthExpiry);
      return QJ.on(year, 'keypress', restrictYearExpiry);
    };

    Payment.formatCardNumber = function(el, maxLength) {
      Payment.restrictNumeric(el);
      QJ.on(el, 'keypress', restrictCardNumber(maxLength));
      QJ.on(el, 'keypress', formatCardNumber(maxLength));
      QJ.on(el, 'keydown', formatBackCardNumber);
      QJ.on(el, 'keyup blur', setCardType);
      QJ.on(el, 'paste', reFormatCardNumber);
      QJ.on(el, 'input', reFormatCardNumber);
      return el;
    };

    Payment.getCardArray = function() {
      return cards;
    };

    Payment.setCardArray = function(cardArray) {
      cards = cardArray;
      return true;
    };

    Payment.addToCardArray = function(cardObject) {
      return cards.push(cardObject);
    };

    Payment.removeFromCardArray = function(type) {
      var key, value;
      for (key in cards) {
        value = cards[key];
        if (value.type === type) {
          cards.splice(key, 1);
        }
      }
      return true;
    };

    return Payment;

  })();

  module.exports = Payment;

  global.Payment = Payment;

}).call(this);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/promise/index.js":
/*!***************************************!*\
  !*** ./node_modules/promise/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./lib */ "./node_modules/promise/lib/index.js")


/***/ }),

/***/ "./node_modules/promise/lib/core.js":
/*!******************************************!*\
  !*** ./node_modules/promise/lib/core.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var asap = __webpack_require__(/*! asap/raw */ "./node_modules/asap/browser-raw.js");

function noop() {}

// States:
//
// 0 - pending
// 1 - fulfilled with _value
// 2 - rejected with _value
// 3 - adopted the state of another promise, _value
//
// once the state is no longer pending (0) it is immutable

// All `_` prefixed properties will be reduced to `_{random number}`
// at build time to obfuscate them and discourage their use.
// We don't use symbols or Object.defineProperty to fully hide them
// because the performance isn't good enough.


// to avoid using try/catch inside critical functions, we
// extract them to here.
var LAST_ERROR = null;
var IS_ERROR = {};
function getThen(obj) {
  try {
    return obj.then;
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

function tryCallOne(fn, a) {
  try {
    return fn(a);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}
function tryCallTwo(fn, a, b) {
  try {
    fn(a, b);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

module.exports = Promise;

function Promise(fn) {
  if (typeof this !== 'object') {
    throw new TypeError('Promises must be constructed via new');
  }
  if (typeof fn !== 'function') {
    throw new TypeError('Promise constructor\'s argument is not a function');
  }
  this._U = 0;
  this._V = 0;
  this._W = null;
  this._X = null;
  if (fn === noop) return;
  doResolve(fn, this);
}
Promise._Y = null;
Promise._Z = null;
Promise._0 = noop;

Promise.prototype.then = function(onFulfilled, onRejected) {
  if (this.constructor !== Promise) {
    return safeThen(this, onFulfilled, onRejected);
  }
  var res = new Promise(noop);
  handle(this, new Handler(onFulfilled, onRejected, res));
  return res;
};

function safeThen(self, onFulfilled, onRejected) {
  return new self.constructor(function (resolve, reject) {
    var res = new Promise(noop);
    res.then(resolve, reject);
    handle(self, new Handler(onFulfilled, onRejected, res));
  });
}
function handle(self, deferred) {
  while (self._V === 3) {
    self = self._W;
  }
  if (Promise._Y) {
    Promise._Y(self);
  }
  if (self._V === 0) {
    if (self._U === 0) {
      self._U = 1;
      self._X = deferred;
      return;
    }
    if (self._U === 1) {
      self._U = 2;
      self._X = [self._X, deferred];
      return;
    }
    self._X.push(deferred);
    return;
  }
  handleResolved(self, deferred);
}

function handleResolved(self, deferred) {
  asap(function() {
    var cb = self._V === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      if (self._V === 1) {
        resolve(deferred.promise, self._W);
      } else {
        reject(deferred.promise, self._W);
      }
      return;
    }
    var ret = tryCallOne(cb, self._W);
    if (ret === IS_ERROR) {
      reject(deferred.promise, LAST_ERROR);
    } else {
      resolve(deferred.promise, ret);
    }
  });
}
function resolve(self, newValue) {
  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
  if (newValue === self) {
    return reject(
      self,
      new TypeError('A promise cannot be resolved with itself.')
    );
  }
  if (
    newValue &&
    (typeof newValue === 'object' || typeof newValue === 'function')
  ) {
    var then = getThen(newValue);
    if (then === IS_ERROR) {
      return reject(self, LAST_ERROR);
    }
    if (
      then === self.then &&
      newValue instanceof Promise
    ) {
      self._V = 3;
      self._W = newValue;
      finale(self);
      return;
    } else if (typeof then === 'function') {
      doResolve(then.bind(newValue), self);
      return;
    }
  }
  self._V = 1;
  self._W = newValue;
  finale(self);
}

function reject(self, newValue) {
  self._V = 2;
  self._W = newValue;
  if (Promise._Z) {
    Promise._Z(self, newValue);
  }
  finale(self);
}
function finale(self) {
  if (self._U === 1) {
    handle(self, self._X);
    self._X = null;
  }
  if (self._U === 2) {
    for (var i = 0; i < self._X.length; i++) {
      handle(self, self._X[i]);
    }
    self._X = null;
  }
}

function Handler(onFulfilled, onRejected, promise){
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, promise) {
  var done = false;
  var res = tryCallTwo(fn, function (value) {
    if (done) return;
    done = true;
    resolve(promise, value);
  }, function (reason) {
    if (done) return;
    done = true;
    reject(promise, reason);
  });
  if (!done && res === IS_ERROR) {
    done = true;
    reject(promise, LAST_ERROR);
  }
}


/***/ }),

/***/ "./node_modules/promise/lib/done.js":
/*!******************************************!*\
  !*** ./node_modules/promise/lib/done.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");

module.exports = Promise;
Promise.prototype.done = function (onFulfilled, onRejected) {
  var self = arguments.length ? this.then.apply(this, arguments) : this;
  self.then(null, function (err) {
    setTimeout(function () {
      throw err;
    }, 0);
  });
};


/***/ }),

/***/ "./node_modules/promise/lib/es6-extensions.js":
/*!****************************************************!*\
  !*** ./node_modules/promise/lib/es6-extensions.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


//This file contains the ES6 extensions to the core Promises/A+ API

var Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");

module.exports = Promise;

/* Static Functions */

var TRUE = valuePromise(true);
var FALSE = valuePromise(false);
var NULL = valuePromise(null);
var UNDEFINED = valuePromise(undefined);
var ZERO = valuePromise(0);
var EMPTYSTRING = valuePromise('');

function valuePromise(value) {
  var p = new Promise(Promise._0);
  p._V = 1;
  p._W = value;
  return p;
}
Promise.resolve = function (value) {
  if (value instanceof Promise) return value;

  if (value === null) return NULL;
  if (value === undefined) return UNDEFINED;
  if (value === true) return TRUE;
  if (value === false) return FALSE;
  if (value === 0) return ZERO;
  if (value === '') return EMPTYSTRING;

  if (typeof value === 'object' || typeof value === 'function') {
    try {
      var then = value.then;
      if (typeof then === 'function') {
        return new Promise(then.bind(value));
      }
    } catch (ex) {
      return new Promise(function (resolve, reject) {
        reject(ex);
      });
    }
  }
  return valuePromise(value);
};

var iterableToArray = function (iterable) {
  if (typeof Array.from === 'function') {
    // ES2015+, iterables exist
    iterableToArray = Array.from;
    return Array.from(iterable);
  }

  // ES5, only arrays and array-likes exist
  iterableToArray = function (x) { return Array.prototype.slice.call(x); };
  return Array.prototype.slice.call(iterable);
}

Promise.all = function (arr) {
  var args = iterableToArray(arr);

  return new Promise(function (resolve, reject) {
    if (args.length === 0) return resolve([]);
    var remaining = args.length;
    function res(i, val) {
      if (val && (typeof val === 'object' || typeof val === 'function')) {
        if (val instanceof Promise && val.then === Promise.prototype.then) {
          while (val._V === 3) {
            val = val._W;
          }
          if (val._V === 1) return res(i, val._W);
          if (val._V === 2) reject(val._W);
          val.then(function (val) {
            res(i, val);
          }, reject);
          return;
        } else {
          var then = val.then;
          if (typeof then === 'function') {
            var p = new Promise(then.bind(val));
            p.then(function (val) {
              res(i, val);
            }, reject);
            return;
          }
        }
      }
      args[i] = val;
      if (--remaining === 0) {
        resolve(args);
      }
    }
    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.reject = function (value) {
  return new Promise(function (resolve, reject) {
    reject(value);
  });
};

Promise.race = function (values) {
  return new Promise(function (resolve, reject) {
    iterableToArray(values).forEach(function(value){
      Promise.resolve(value).then(resolve, reject);
    });
  });
};

/* Prototype Methods */

Promise.prototype['catch'] = function (onRejected) {
  return this.then(null, onRejected);
};


/***/ }),

/***/ "./node_modules/promise/lib/finally.js":
/*!*********************************************!*\
  !*** ./node_modules/promise/lib/finally.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");

module.exports = Promise;
Promise.prototype.finally = function (f) {
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};


/***/ }),

/***/ "./node_modules/promise/lib/index.js":
/*!*******************************************!*\
  !*** ./node_modules/promise/lib/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");
__webpack_require__(/*! ./done.js */ "./node_modules/promise/lib/done.js");
__webpack_require__(/*! ./finally.js */ "./node_modules/promise/lib/finally.js");
__webpack_require__(/*! ./es6-extensions.js */ "./node_modules/promise/lib/es6-extensions.js");
__webpack_require__(/*! ./node-extensions.js */ "./node_modules/promise/lib/node-extensions.js");
__webpack_require__(/*! ./synchronous.js */ "./node_modules/promise/lib/synchronous.js");


/***/ }),

/***/ "./node_modules/promise/lib/node-extensions.js":
/*!*****************************************************!*\
  !*** ./node_modules/promise/lib/node-extensions.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// This file contains then/promise specific extensions that are only useful
// for node.js interop

var Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");
var asap = __webpack_require__(/*! asap */ "./node_modules/asap/browser-asap.js");

module.exports = Promise;

/* Static Functions */

Promise.denodeify = function (fn, argumentCount) {
  if (
    typeof argumentCount === 'number' && argumentCount !== Infinity
  ) {
    return denodeifyWithCount(fn, argumentCount);
  } else {
    return denodeifyWithoutCount(fn);
  }
};

var callbackFn = (
  'function (err, res) {' +
  'if (err) { rj(err); } else { rs(res); }' +
  '}'
);
function denodeifyWithCount(fn, argumentCount) {
  var args = [];
  for (var i = 0; i < argumentCount; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'return new Promise(function (rs, rj) {',
    'var res = fn.call(',
    ['self'].concat(args).concat([callbackFn]).join(','),
    ');',
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');
  return Function(['Promise', 'fn'], body)(Promise, fn);
}
function denodeifyWithoutCount(fn) {
  var fnLength = Math.max(fn.length - 1, 3);
  var args = [];
  for (var i = 0; i < fnLength; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'var args;',
    'var argLength = arguments.length;',
    'if (arguments.length > ' + fnLength + ') {',
    'args = new Array(arguments.length + 1);',
    'for (var i = 0; i < arguments.length; i++) {',
    'args[i] = arguments[i];',
    '}',
    '}',
    'return new Promise(function (rs, rj) {',
    'var cb = ' + callbackFn + ';',
    'var res;',
    'switch (argLength) {',
    args.concat(['extra']).map(function (_, index) {
      return (
        'case ' + (index) + ':' +
        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +
        'break;'
      );
    }).join(''),
    'default:',
    'args[argLength] = cb;',
    'res = fn.apply(self, args);',
    '}',
    
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');

  return Function(
    ['Promise', 'fn'],
    body
  )(Promise, fn);
}

Promise.nodeify = function (fn) {
  return function () {
    var args = Array.prototype.slice.call(arguments);
    var callback =
      typeof args[args.length - 1] === 'function' ? args.pop() : null;
    var ctx = this;
    try {
      return fn.apply(this, arguments).nodeify(callback, ctx);
    } catch (ex) {
      if (callback === null || typeof callback == 'undefined') {
        return new Promise(function (resolve, reject) {
          reject(ex);
        });
      } else {
        asap(function () {
          callback.call(ctx, ex);
        })
      }
    }
  }
};

Promise.prototype.nodeify = function (callback, ctx) {
  if (typeof callback != 'function') return this;

  this.then(function (value) {
    asap(function () {
      callback.call(ctx, null, value);
    });
  }, function (err) {
    asap(function () {
      callback.call(ctx, err);
    });
  });
};


/***/ }),

/***/ "./node_modules/promise/lib/synchronous.js":
/*!*************************************************!*\
  !*** ./node_modules/promise/lib/synchronous.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Promise = __webpack_require__(/*! ./core.js */ "./node_modules/promise/lib/core.js");

module.exports = Promise;
Promise.enableSynchronous = function () {
  Promise.prototype.isPending = function() {
    return this.getState() == 0;
  };

  Promise.prototype.isFulfilled = function() {
    return this.getState() == 1;
  };

  Promise.prototype.isRejected = function() {
    return this.getState() == 2;
  };

  Promise.prototype.getValue = function () {
    if (this._V === 3) {
      return this._W.getValue();
    }

    if (!this.isFulfilled()) {
      throw new Error('Cannot get a value of an unfulfilled promise.');
    }

    return this._W;
  };

  Promise.prototype.getReason = function () {
    if (this._V === 3) {
      return this._W.getReason();
    }

    if (!this.isRejected()) {
      throw new Error('Cannot get a rejection reason of a non-rejected promise.');
    }

    return this._W;
  };

  Promise.prototype.getState = function () {
    if (this._V === 3) {
      return this._W.getState();
    }
    if (this._V === -1 || this._V === -2) {
      return 0;
    }

    return this._V;
  };
};

Promise.disableSynchronous = function() {
  Promise.prototype.isPending = undefined;
  Promise.prototype.isFulfilled = undefined;
  Promise.prototype.isRejected = undefined;
  Promise.prototype.getValue = undefined;
  Promise.prototype.getReason = undefined;
  Promise.prototype.getState = undefined;
};


/***/ }),

/***/ "./node_modules/qj/lib/index.js":
/*!**************************************!*\
  !*** ./node_modules/qj/lib/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Generated by CoffeeScript 1.10.0
(function() {
  var QJ, rreturn, rtrim;

  QJ = function(selector) {
    if (QJ.isDOMElement(selector)) {
      return selector;
    }
    return document.querySelectorAll(selector);
  };

  QJ.isDOMElement = function(el) {
    return el && (el.nodeName != null);
  };

  rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

  QJ.trim = function(text) {
    if (text === null) {
      return "";
    } else {
      return (text + "").replace(rtrim, "");
    }
  };

  rreturn = /\r/g;

  QJ.val = function(el, val) {
    var ret;
    if (arguments.length > 1) {
      return el.value = val;
    } else {
      ret = el.value;
      if (typeof ret === "string") {
        return ret.replace(rreturn, "");
      } else {
        if (ret === null) {
          return "";
        } else {
          return ret;
        }
      }
    }
  };

  QJ.preventDefault = function(eventObject) {
    if (typeof eventObject.preventDefault === "function") {
      eventObject.preventDefault();
      return;
    }
    eventObject.returnValue = false;
    return false;
  };

  QJ.normalizeEvent = function(e) {
    var original;
    original = e;
    e = {
      which: original.which != null ? original.which : void 0,
      target: original.target || original.srcElement,
      preventDefault: function() {
        return QJ.preventDefault(original);
      },
      originalEvent: original,
      data: original.data || original.detail
    };
    if (e.which == null) {
      e.which = original.charCode != null ? original.charCode : original.keyCode;
    }
    return e;
  };

  QJ.on = function(element, eventName, callback) {
    var el, i, j, len, len1, multEventName, originalCallback, ref;
    if (element.length) {
      for (i = 0, len = element.length; i < len; i++) {
        el = element[i];
        QJ.on(el, eventName, callback);
      }
      return;
    }
    if (eventName.match(" ")) {
      ref = eventName.split(" ");
      for (j = 0, len1 = ref.length; j < len1; j++) {
        multEventName = ref[j];
        QJ.on(element, multEventName, callback);
      }
      return;
    }
    originalCallback = callback;
    callback = function(e) {
      e = QJ.normalizeEvent(e);
      return originalCallback(e);
    };
    if (element.addEventListener) {
      return element.addEventListener(eventName, callback, false);
    }
    if (element.attachEvent) {
      eventName = "on" + eventName;
      return element.attachEvent(eventName, callback);
    }
    element['on' + eventName] = callback;
  };

  QJ.addClass = function(el, className) {
    var e;
    if (el.length) {
      return (function() {
        var i, len, results;
        results = [];
        for (i = 0, len = el.length; i < len; i++) {
          e = el[i];
          results.push(QJ.addClass(e, className));
        }
        return results;
      })();
    }
    if (el.classList) {
      return el.classList.add(className);
    } else {
      return el.className += ' ' + className;
    }
  };

  QJ.hasClass = function(el, className) {
    var e, hasClass, i, len;
    if (el.length) {
      hasClass = true;
      for (i = 0, len = el.length; i < len; i++) {
        e = el[i];
        hasClass = hasClass && QJ.hasClass(e, className);
      }
      return hasClass;
    }
    if (el.classList) {
      return el.classList.contains(className);
    } else {
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
    }
  };

  QJ.removeClass = function(el, className) {
    var cls, e, i, len, ref, results;
    if (el.length) {
      return (function() {
        var i, len, results;
        results = [];
        for (i = 0, len = el.length; i < len; i++) {
          e = el[i];
          results.push(QJ.removeClass(e, className));
        }
        return results;
      })();
    }
    if (el.classList) {
      ref = className.split(' ');
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        cls = ref[i];
        results.push(el.classList.remove(cls));
      }
      return results;
    } else {
      return el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    }
  };

  QJ.toggleClass = function(el, className, bool) {
    var e;
    if (el.length) {
      return (function() {
        var i, len, results;
        results = [];
        for (i = 0, len = el.length; i < len; i++) {
          e = el[i];
          results.push(QJ.toggleClass(e, className, bool));
        }
        return results;
      })();
    }
    if (bool) {
      if (!QJ.hasClass(el, className)) {
        return QJ.addClass(el, className);
      }
    } else {
      return QJ.removeClass(el, className);
    }
  };

  QJ.append = function(el, toAppend) {
    var e;
    if (el.length) {
      return (function() {
        var i, len, results;
        results = [];
        for (i = 0, len = el.length; i < len; i++) {
          e = el[i];
          results.push(QJ.append(e, toAppend));
        }
        return results;
      })();
    }
    return el.insertAdjacentHTML('beforeend', toAppend);
  };

  QJ.find = function(el, selector) {
    if (el instanceof NodeList || el instanceof Array) {
      el = el[0];
    }
    return el.querySelectorAll(selector);
  };

  QJ.trigger = function(el, name, data) {
    var e, error, ev;
    try {
      ev = new CustomEvent(name, {
        detail: data
      });
    } catch (error) {
      e = error;
      ev = document.createEvent('CustomEvent');
      if (ev.initCustomEvent) {
        ev.initCustomEvent(name, true, true, data);
      } else {
        ev.initEvent(name, true, true, data);
      }
    }
    return el.dispatchEvent(ev);
  };

  module.exports = QJ;

}).call(this);


/***/ }),

/***/ "./node_modules/recurly.js/index.js":
/*!******************************************!*\
  !*** ./node_modules/recurly.js/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_recurly_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/recurly.css */ "./node_modules/recurly.js/lib/recurly.css");
/* harmony import */ var _lib_recurly_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_recurly_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lib_recurly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/recurly */ "./node_modules/recurly.js/lib/recurly.js");
/**
 * License information available at https://docs.recurly.com/page/open-source-attribution
 * @attribution
 */


var recurly = new _lib_recurly__WEBPACK_IMPORTED_MODULE_1__["Recurly"]();
/* harmony default export */ __webpack_exports__["default"] = (recurly);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly.css":
/*!*************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".recurly-hosted-field,\n.recurly-element {\n  background-color: white;\n  border: 1px solid #D7D7D9;\n  border-radius: 3px;\n  margin-top: 10px;\n  height: 2em;\n  box-sizing: border-box;\n  padding: 0 8px 0 8px;\n}\n\n.recurly-hosted-field-focus,\n.recurly-element-focus {\n  border: 1px solid #8C8C91;\n}\n\n.recurly-hosted-field-invalid,\n.recurly-element-invalid {\n  border: 1px solid #E35256;\n}\n\n.recurly-hosted-field-number,\n.recurly-element-number {\n  width: 12em;\n}\n\n.recurly-hosted-field-month,\n.recurly-hosted-field-year,\n.recurly-hosted-field-cvv,\n.recurly-element-month,\n.recurly-element-year,\n.recurly-element-cvv {\n  width: 4em;\n}\n", ""]);


/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly.js":
/*!************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly.js ***!
  \************************************************/
/*! exports provided: Recurly */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Recurly", function() { return Recurly; });
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
/* harmony import */ var deep_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deep-filter */ "./node_modules/deep-filter/index.js");
/* harmony import */ var deep_filter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(deep_filter__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
/* harmony import */ var _recurly_errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./recurly/errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./recurly/bank-account */ "./node_modules/recurly.js/lib/recurly/bank-account.js");
/* harmony import */ var _recurly_coupon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./recurly/coupon */ "./node_modules/recurly.js/lib/recurly/coupon.js");
/* harmony import */ var _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./recurly/gift-card */ "./node_modules/recurly.js/lib/recurly/gift-card.js");
/* harmony import */ var _recurly_item__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./recurly/item */ "./node_modules/recurly.js/lib/recurly/item.js");
/* harmony import */ var _recurly_plan__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./recurly/plan */ "./node_modules/recurly.js/lib/recurly/plan.js");
/* harmony import */ var _recurly_tax__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./recurly/tax */ "./node_modules/recurly.js/lib/recurly/tax.js");
/* harmony import */ var _recurly_version__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./recurly/version */ "./node_modules/recurly.js/lib/recurly/version.js");
/* harmony import */ var _recurly_version__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_recurly_version__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _recurly_token__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./recurly/token */ "./node_modules/recurly.js/lib/recurly/token.js");
/* harmony import */ var _recurly_adyen__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./recurly/adyen */ "./node_modules/recurly.js/lib/recurly/adyen.js");
/* harmony import */ var _recurly_apple_pay__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./recurly/apple-pay */ "./node_modules/recurly.js/lib/recurly/apple-pay.js");
/* harmony import */ var _recurly_elements__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./recurly/elements */ "./node_modules/recurly.js/lib/recurly/elements.js");
/* harmony import */ var _recurly_frame__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./recurly/frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
/* harmony import */ var _recurly_paypal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./recurly/paypal */ "./node_modules/recurly.js/lib/recurly/paypal/index.js");
/* harmony import */ var _recurly_venmo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./recurly/venmo */ "./node_modules/recurly.js/lib/recurly/venmo/index.js");
/* harmony import */ var _recurly_risk__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./recurly/risk */ "./node_modules/recurly.js/lib/recurly/risk/index.js");
/* harmony import */ var _recurly_paypal_strategy_direct__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./recurly/paypal/strategy/direct */ "./node_modules/recurly.js/lib/recurly/paypal/strategy/direct.js");
/* harmony import */ var _recurly_bus__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./recurly/bus */ "./node_modules/recurly.js/lib/recurly/bus.js");
/* harmony import */ var _recurly_reporter__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./recurly/reporter */ "./node_modules/recurly.js/lib/recurly/reporter.js");
/* harmony import */ var _recurly_fraud__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./recurly/fraud */ "./node_modules/recurly.js/lib/recurly/fraud.js");
/* harmony import */ var _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./recurly/hosted-fields */ "./node_modules/recurly.js/lib/recurly/hosted-fields.js");
/* harmony import */ var _recurly_request__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./recurly/request */ "./node_modules/recurly.js/lib/recurly/request.js");
/* harmony import */ var _util_web_storage__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./util/web-storage */ "./node_modules/recurly.js/lib/util/web-storage.js");
/* harmony import */ var _recurly_pricing_checkout__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./recurly/pricing/checkout */ "./node_modules/recurly.js/lib/recurly/pricing/checkout/index.js");
/* harmony import */ var _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./recurly/pricing/subscription */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/*jshint -W058 */
































var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly');
/**
 * Default configuration values.
 *
 * currency: ISO 4217
 * timeout: API request timeout in ms
 * publicKey: Recurly site public key
 * cors: Whether to use XHR2/XDR+CORS over jsonp for API requests
 * fraud: fraud configuration
 * api: URL of API
 * fields: field behavior and styling configuration
 *
 * @private
 * @type {Object}
 */


var DEFAULTS = {
  currency: 'USD',
  timeout: 60000,
  publicKey: '',
  parent: true,
  parentVersion: _recurly_version__WEBPACK_IMPORTED_MODULE_13___default.a,
  cors: true,
  fraud: {
    kount: {
      dataCollector: false,
      form: undefined
    },
    litle: {
      sessionId: undefined
    },
    braintree: {
      deviceData: undefined
    }
  },
  risk: {
    threeDSecure: {
      preflightDeviceDataCollector: true
    }
  },
  api: 'https://api.recurly.com/js/v1',
  fields: {
    all: {
      style: {}
    },
    number: {
      selector: '[data-recurly=number]',
      style: {}
    },
    month: {
      selector: '[data-recurly=month]',
      style: {}
    },
    year: {
      selector: '[data-recurly=year]',
      style: {}
    },
    cvv: {
      selector: '[data-recurly=cvv]',
      style: {}
    },
    card: {
      selector: '[data-recurly=card]',
      style: {}
    }
  }
};
/**
 * Initialize defaults.
 *
 * @param {Object} options
 * @constructor
 * @public
 */

var Recurly =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Recurly, _Emitter);

  // DEPRECATED

  /**
   * Expose the class through its common name
   */
  function Recurly(options) {
    var _this;

    _classCallCheck(this, Recurly);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Recurly).call(this));

    _defineProperty(_assertThisInitialized(_this), "Adyen", _recurly_adyen__WEBPACK_IMPORTED_MODULE_15__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "ApplePay", _recurly_apple_pay__WEBPACK_IMPORTED_MODULE_16__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "coupon", _recurly_coupon__WEBPACK_IMPORTED_MODULE_8__["default"]);

    _defineProperty(_assertThisInitialized(_this), "Elements", _recurly_elements__WEBPACK_IMPORTED_MODULE_17__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "Frame", _recurly_frame__WEBPACK_IMPORTED_MODULE_18__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "giftCard", _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__["default"]);

    _defineProperty(_assertThisInitialized(_this), "giftcard", _recurly_gift_card__WEBPACK_IMPORTED_MODULE_9__["default"]);

    _defineProperty(_assertThisInitialized(_this), "item", _recurly_item__WEBPACK_IMPORTED_MODULE_10__["default"]);

    _defineProperty(_assertThisInitialized(_this), "PayPal", _recurly_paypal__WEBPACK_IMPORTED_MODULE_19__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "Venmo", _recurly_venmo__WEBPACK_IMPORTED_MODULE_20__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "paypal", _recurly_paypal_strategy_direct__WEBPACK_IMPORTED_MODULE_22__["deprecated"]);

    _defineProperty(_assertThisInitialized(_this), "plan", _recurly_plan__WEBPACK_IMPORTED_MODULE_11__["default"]);

    _defineProperty(_assertThisInitialized(_this), "Risk", _recurly_risk__WEBPACK_IMPORTED_MODULE_21__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "tax", _recurly_tax__WEBPACK_IMPORTED_MODULE_12__["default"]);

    _defineProperty(_assertThisInitialized(_this), "token", _recurly_token__WEBPACK_IMPORTED_MODULE_14__["tokenDispatcher"]);

    _defineProperty(_assertThisInitialized(_this), "validate", __webpack_require__(/*! ./recurly/validate */ "./node_modules/recurly.js/lib/recurly/validate.js").publicMethods);

    _defineProperty(_assertThisInitialized(_this), "Recurly", _this.constructor);

    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])();
    _this.version = _recurly_version__WEBPACK_IMPORTED_MODULE_13___default.a;
    _this.configured = false;
    _this.readyState = 0;
    _this.config = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, DEFAULTS);
    if (options) _this.configure(options);
    _this.bankAccount = {
      token: _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__["bankAccount"].token.bind(_assertThisInitialized(_this)),
      bankInfo: _recurly_bank_account__WEBPACK_IMPORTED_MODULE_7__["bankAccount"].bankInfo.bind(_assertThisInitialized(_this))
    };
    _this.reporter = new _recurly_reporter__WEBPACK_IMPORTED_MODULE_24__["Reporter"]({
      recurly: _assertThisInitialized(_this)
    });
    _this.request = new _recurly_request__WEBPACK_IMPORTED_MODULE_27__["Request"]({
      recurly: _assertThisInitialized(_this)
    });

    _this.Pricing = function () {
      return new _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_30__["default"](_assertThisInitialized(_this));
    }; // deprecated


    _this.Pricing.Checkout = function () {
      return new _recurly_pricing_checkout__WEBPACK_IMPORTED_MODULE_29__["default"](_assertThisInitialized(_this));
    };

    _this.Pricing.Subscription = function () {
      return new _recurly_pricing_subscription__WEBPACK_IMPORTED_MODULE_30__["default"](_assertThisInitialized(_this));
    };

    _this.once('ready', function () {
      return _this.report('ready');
    });

    _this.bindReporting();

    return _this;
  }
  /**
   * Whether this instance is considered a parent
   *
   * @return {Boolean}
   */


  _createClass(Recurly, [{
    key: "url",

    /**
     * Assembles the API endpoint
     *
     * @return {String} route
     */
    value: function url(route) {
      return this.config.api + route;
    }
    /**
     * Queues or immediately invokes a callback when the instance is
     * in the ready state
     *
     * @param  {Function} done callback
     */

  }, {
    key: "ready",
    value: function ready(done) {
      if (this.readyState > 1) done();else this.once('ready', done);
    }
    /**
     * Configure settings.
     *
     * @param {String|Object} options Either publicKey or object containing
     *                                publicKey and other optional members
     * @param {String} options.publicKey
     * @param {String} [options.currency] sets a default currency
     * @param {String} [options.api]
     * @param {Boolean} [options.cors] Enables data transmission over XHR+CORS
     * @param {Array} [options.required] Adds additional field requirements for
     *                                   tokenization. ex: ['cvv']
     * @public
     */

  }, {
    key: "configure",
    value: function configure(options) {
      debug('configure');
      options = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(options);
      if (typeof options === 'string') options = {
        publicKey: options
      };
      options = normalizeOptions(options);

      if (options.publicKey) {
        this.config.publicKey = options.publicKey;
      } else if (!this.config.publicKey) {
        throw Object(_recurly_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('config-missing-public-key');
      }

      if (options.api) {
        this.config.api = options.api;
      }

      if (options.currency) {
        this.config.currency = options.currency;
      }

      if ('cors' in options) {
        this.config.cors = options.cors;
      }

      if ('fraud' in options) {
        Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.config.fraud, options.fraud);
      }

      if ('risk' in options) {
        Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.config.risk, options.risk);
      }

      if ('parent' in options) {
        this.config.parent = options.parent;
      }

      if (_typeof(options.fields) === 'object') {
        Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])(this.config.fields, options.fields);
      }

      this.config.required = options.required || this.config.required || []; // Begin parent role configuration and setup

      if (this.config.parent) {
        this.parent();
      } else {
        if (options.parentVersion) this.config.parentVersion = options.parentVersion;
      }

      if (!this.configured) {
        this.configured = true;
        this.emit('configured');
        this.report('configured');
      } // Since this readyState indicates synchronous preparation, we may now
      // emit ready


      if (this.readyState === 3) {
        this.emit('ready');
      }
    }
    /**
     * Disables a recurly.js instance
     *
     * - Removes all listeners
     * - Propagates a destroy call to the bus
     * - Stops the bus
     * - Removes external references
     *
     * TODO:
     *  - destroy pricing instances, or let them live on? Currently they
     *    may live on since their associated recurly instances remain configured
     *    for API requests.
     */

  }, {
    key: "destroy",
    value: function destroy() {
      debug('destroying Recurly instance', this.id);
      this.off();

      if (this.bus) {
        this.bus.send('destroy');
        this.bus.destroy();
      }

      if (this.fraud) {
        this.fraud.destroy();
      }

      if (this.reporter) {
        this.reporter.destroy();
        delete this.reporter;
      }
    }
    /**
     * Initialize the parent recurly instance concerns: hosted fields and message bus
     *
     * TODO: readyState is not a good pattern
     *
     * sets this.readyState
     *   0: unconfigured
     *   1: begun intializing hosted fields
     *   2: done initializing hosted fields
     *   3: done initializing (no hosted fields)
     *
     * @private
     */

  }, {
    key: "parent",
    value: function parent() {
      var _this2 = this;

      // Check integrity of hostedFields. If fields are dead or
      // do not match chosen selectors, reset
      var reset = this.hostedFields && this.readyState > 0 && !this.hostedFields.integrityCheck(this.config.fields);

      if (reset) {
        // If we are between states 1 and 2, we must abandon the advancement listeners
        if (this.readyState === 1) {
          this.off('hostedFields:ready');
          this.off('hostedFields:state:change');
          this.off('hostedField:submit');
        }

        this.readyState = 0;
        this.hostedFields.destroy();
      }

      if (this.readyState > 0) {
        this.bus.send('hostedFields:configure', {
          recurlyConfig: this.sanitizedConfig
        });
        return;
      }

      if (!this.fraud) this.fraud = new _recurly_fraud__WEBPACK_IMPORTED_MODULE_25__["Fraud"](this);
      this.fraud.on('error', function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this2.emit.apply(_this2, ['error'].concat(args));
      });

      if (!this.bus) {
        this.bus = new _recurly_bus__WEBPACK_IMPORTED_MODULE_23__["Bus"]({
          api: this.config.api,
          role: 'recurly'
        });
        this.bus.add(this);
      }

      if (!this.hostedFields || reset) {
        this.hostedFields = new _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_26__["HostedFields"]({
          recurly: this
        });
      }

      if (this.hostedFields.errors.length === 0) {
        this.bus.add(this.hostedFields);
        this.once('hostedFields:ready', function () {
          _this2.readyState = 2;
          setTimeout(function () {
            return _this2.emit('ready');
          }, 0);
        });
        this.on('hostedFields:state:change', function (body) {
          return _this2.emit('change', {
            fields: body
          });
        });
        this.on('hostedField:submit', function () {
          return _this2.emit('field:submit');
        });
        this.readyState = 1;
      } else {
        this.readyState = 3;
      }
    }
    /**
     * Reports an event to the Reporter if it is available
     *
     * @private
     */

  }, {
    key: "report",
    value: function report() {
      var _this$reporter;

      if (!this.reporter) return;

      (_this$reporter = this.reporter).send.apply(_this$reporter, arguments);
    }
  }, {
    key: "error",
    value: function error(code) {
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return Object(_recurly_errors__WEBPACK_IMPORTED_MODULE_6__["default"])(code, context, {
        reporter: this.reporter
      });
    }
    /**
     * Binds important events to the EventDispatcher
     *
     * @private
     */

  }, {
    key: "bindReporting",
    value: function bindReporting() {
      var _this3 = this;

      if (!this.isParent) return;
      ['focus', 'blur'].forEach(function (eventName) {
        _this3.on("hostedField:".concat(eventName), function (_ref) {
          var type = _ref.type;
          var state = _this3.hostedFields.state[type];
          var meta = lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(state, ['type', 'valid', 'empty']);
          if (state.brand) meta.brand = state.brand;

          _this3.report("hosted-field:".concat(eventName), meta);
        });
      });
    }
  }, {
    key: "isParent",
    get: function get() {
      return !!this.config.parent;
    }
  }, {
    key: "deviceId",
    get: function get() {
      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_28__["fetch"])({
        key: 'deviceId',
        otherwise: Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])()
      });
    },
    set: function set(id) {
      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_28__["set"])({
        key: 'deviceId',
        value: id
      });
    }
  }, {
    key: "sessionId",
    get: function get() {
      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_28__["fetch"])({
        scope: 'session',
        key: 'sessionId',
        otherwise: Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])()
      });
    },
    set: function set(id) {
      return Object(_util_web_storage__WEBPACK_IMPORTED_MODULE_28__["set"])({
        scope: 'session',
        key: 'sessionId',
        value: id
      });
    }
    /**
     * Configuration Object prepared for marshalling
     *
     * @return {Object}
     */

  }, {
    key: "sanitizedConfig",
    get: function get() {
      return deep_filter__WEBPACK_IMPORTED_MODULE_2___default()(this.config, function (val) {
        return !(val instanceof Node);
      });
    }
  }]);

  return Recurly;
}(component_emitter__WEBPACK_IMPORTED_MODULE_3___default.a);
/**
 * Standardizes old configuration structure to current
 *
 * 1. options.fields.[field] {String} -> options.fields.[field].selector {String}
 * 2. options.style.[field] {Object} -> options.fields.[field].style {Object}
 * 3. options.style.all {Object} -> options.fields.all.style {Object}
 *
 * @param  {Object} options
 * @return {Object}
 */

function normalizeOptions(options) {
  var baseStyleConfig = options.style || {};
  delete options.style;
  _recurly_hosted_fields__WEBPACK_IMPORTED_MODULE_26__["FIELD_TYPES"].forEach(function (type) {
    // 1
    if (options.fields && typeof options.fields[type] === 'string') {
      options.fields[type] = {
        selector: options.fields[type]
      };
    } // 2


    if (baseStyleConfig[type]) {
      options.fields = options.fields || {};
      options.fields[type] = options.fields[type] || {};
      options.fields[type].style = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, baseStyleConfig[type], options.fields[type].style);
    }
  }); // 3

  if (baseStyleConfig.all) {
    options.fields = options.fields || {};
    options.fields.all = {
      style: baseStyleConfig.all
    };
  }

  return options;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/adyen.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/adyen.js ***!
  \******************************************************/
/*! exports provided: factory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:adyen');
/**
 * Instantiation factory
 *
 * @param  {Object} options
 * @return {Adyen}
 */


function factory(options) {
  return new Adyen(_extends({}, options, {
    recurly: this
  }));
}
/**
 * Initializes an Adyen session.
 *
 * @param {Object} options
 * @param {Recurly} options.recurly
 * @constructor
 * @public
 */

var Adyen =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Adyen, _Emitter);

  function Adyen(options) {
    var _this;

    _classCallCheck(this, Adyen);

    debug('Creating new Adyen session');
    _this = _possibleConstructorReturn(this, _getPrototypeOf(Adyen).call(this));
    _this.recurly = options.recurly;
    return _this;
  }
  /**
   * Invokes the Adyen Payment Modal
   * @param {Object} opts
   * @param {String} opts.invoiceUuid - invoice Uuid from PendingPurchase
   * @param {String} [opts.countryCode] - 2 Digit Country Code
   * @param {String} [opts.shopperLocale] - shopperLocale for Payment Modal
   * @param {String} [opts.skinCode] - Skin code provided by Adyen
  */


  _createClass(Adyen, [{
    key: "start",
    value: function start(opts) {
      var _this2 = this;

      debug('Invoking Adyen Modal');
      var payload = {
        invoiceUuid: opts.invoiceUuid,
        countryCode: opts.countryCode,
        shopperLocale: opts.shopperLocale,
        skinCode: opts.skinCode
      };
      var errors = validatePayload(payload);

      if (errors.length > 0) {
        return this.error('validation', {
          fields: errors
        });
      }

      var frame = this.recurly.Frame({
        height: 600,
        path: '/adyen/start',
        payload: payload
      });
      frame.once('error', function (cause) {
        return _this2.error('adyen-error', {
          cause: cause
        });
      });
      frame.once('done', function (token) {
        return _this2.emit('token', token);
      });
    }
  }, {
    key: "error",
    value: function error() {
      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_1__["default"].apply(void 0, arguments);
      this.emit('error', err);
      return err;
    }
  }]);

  return Adyen;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);

function validatePayload(payload) {
  var errors = [];

  if (payload.skinCode && payload.skinCode.length != 8) {
    errors.push('skinCode should be 8 characters');
  }

  if (payload.countryCode && payload.countryCode.length != 2) {
    errors.push('countryCode should be 2 characters');
  }

  if (payload.shopperLocale && payload.shopperLocale.length != 5) {
    errors.push('shopperLocale should be 5 characters');
  }

  if (!payload.invoiceUuid) {
    errors.push('invoiceUuid cannot be blank');
  }

  debug('validate errors', errors);
  return errors;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/apple-pay.js":
/*!**********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/apple-pay.js ***!
  \**********************************************************/
/*! exports provided: factory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _pricing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pricing */ "./node_modules/recurly.js/lib/recurly/pricing/index.js");
/* harmony import */ var _pricing_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pricing/promise */ "./node_modules/recurly.js/lib/recurly/pricing/promise.js");
/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/normalize */ "./node_modules/recurly.js/lib/util/normalize.js");
/* harmony import */ var _util_decimalize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/decimalize */ "./node_modules/recurly.js/lib/util/decimalize.js");
/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./token */ "./node_modules/recurly.js/lib/recurly/token.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:apple-pay');

var APPLE_PAY_API_VERSION = 2;
var APPLE_PAY_ADDRESS_MAP = {
  first_name: 'givenName',
  last_name: 'familyName',
  address1: 'addressLines',
  address2: 'addressLines',
  city: 'locality',
  state: 'administrativeArea',
  postal_code: 'postalCode',
  country: 'countryCode'
};
var I18N = {
  authorizationLineItemLabel: 'Card Authorization (Temporary)',
  subtotalLineItemLabel: 'Subtotal',
  discountLineItemLabel: 'Discount',
  taxLineItemLabel: 'Tax',
  giftCardLineItemLabel: 'Gift card'
};
/**
 * Instantiation factory
 *
 * @param  {Object} options
 * @return {ApplePay}
 */

function factory(options) {
  return new ApplePay(_extends({}, options, {
    recurly: this
  }));
}
/**
 * Initializes an Apple Pay session.
 *
 * @param {Object} options
 * @param {Recurly} options.recurly
 * @param {String} options.country
 * @param {String} options.currency
 * @param {String} options.label label to display to customers in the Apple Pay dialogue
 * @param {String} options.total transaction total in format '1.00'
 * @param {HTMLElement} [options.form] to provide additional customer data
 * @param {Pricing} [options.pricing] to provide transaction total from Pricing
 * @constructor
 * @public
 */

var ApplePay =
/*#__PURE__*/
function (_Emitter) {
  _inherits(ApplePay, _Emitter);

  function ApplePay(options) {
    var _this;

    _classCallCheck(this, ApplePay);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ApplePay).call(this));
    _this._ready = false;
    _this.config = {
      i18n: I18N
    };

    _this.once('ready', function () {
      return _this._ready = true;
    }); // Detect whether Apple Pay is available


    if (!window.ApplePaySession) {
      _this.initError = _this.error('apple-pay-not-supported');
    } else if (!window.ApplePaySession.canMakePayments()) {
      _this.initError = _this.error('apple-pay-not-available');
    }

    if (!_this.initError) {
      _this.configure(options);
    }

    return _this;
  }
  /**
   * @return {ApplePaySession} Bound Apple Pay session
   * @private
   */


  _createClass(ApplePay, [{
    key: "ready",

    /**
     * Initialized state callback registry
     *
     * @param  {Function} cb callback
     * @public
     */
    value: function ready(cb) {
      if (this._ready) cb();else this.once('ready', cb);
    }
    /**
     * Configures a new instance
     *
     * @param  {Object} options
     * @emit 'ready'
     * @private
     */

  }, {
    key: "configure",
    value: function configure(options) {
      var _this2 = this;

      if ('label' in options) this.config.label = options.label;else return this.initError = this.error('apple-pay-config-missing', {
        opt: 'label'
      });
      if ('form' in options) this.config.form = options.form; // Initialize with no line items

      this.config.lineItems = [];
      if ('recurly' in options) this.recurly = options.recurly;else return this.initError = this.error('apple-pay-factory-only');
      if ('i18n' in options) _extends(this.config.i18n, options.i18n);

      if (options.pricing instanceof _pricing_promise__WEBPACK_IMPORTED_MODULE_3__["default"]) {
        this.config.pricing = options.pricing.pricing;
      } else if (options.pricing instanceof _pricing__WEBPACK_IMPORTED_MODULE_2__["Pricing"]) {
        this.config.pricing = options.pricing;
      } else if ('total' in options) {
        this.config.total = options.total;
      } else {
        return this.initError = this.error('apple-pay-config-missing', {
          opt: 'total'
        });
      } // If pricing is provided, attach change listeners


      if (this.config.pricing) {
        this.config.pricing.on('change', function () {
          return _this2.onPricingChange();
        });
        if (this.config.pricing.hasPrice) this.onPricingChange();
      }

      this.recurly.request.get({
        route: '/apple_pay/info',
        data: {
          currency: options.currency
        },
        done: this.applyRemoteConfig(options)
      });
    }
    /**
     * Assigns ApplePay configuration from site config
     * @param  {object} options
     * @private
     */

  }, {
    key: "applyRemoteConfig",
    value: function applyRemoteConfig(options) {
      var _this3 = this;

      return function (err, info) {
        if (err) return _this3.initError = _this3.error(err);
        if ('countries' in info && ~info.countries.indexOf(options.country)) _this3.config.country = options.country;else return _this3.initError = _this3.error('apple-pay-config-invalid', {
          opt: 'country',
          set: info.countries
        });
        if ('currencies' in info && ~info.currencies.indexOf(options.currency)) _this3.config.currency = options.currency;else return _this3.initError = _this3.error('apple-pay-config-invalid', {
          opt: 'currency',
          set: info.currencies
        });
        _this3.config.merchantCapabilities = info.merchantCapabilities || [];
        _this3.config.supportedNetworks = info.supportedNetworks || [];
        _this3.config.requiredShippingContactFields = options.requiredShippingContactFields || [];

        _this3.emit('ready');
      };
    }
    /**
     * Begins Apple Pay transaction
     *
     * @public
     */

  }, {
    key: "begin",
    value: function begin() {
      if (this.initError) return this.error('apple-pay-init-error', {
        err: this.initError
      });
      delete this._session;
      this.session.begin();
    }
    /**
     * Conditionally adds an authorization line item in order to circumvent Apple Pay
     * zero-amount authorization limitation
     *
     * @private
     */

  }, {
    key: "addAuthorizationLineItem",
    value: function addAuthorizationLineItem() {
      if (parseFloat(this.config.total) > 0) return;
      this.config.lineItems.push(this.authorizationLineItem);
      this.config.total = this.authorizationLineItem.amount;
    }
    /**
     * Updates line items and total price on pricing module changes
     *
     * @param  {Object} price Pricing.price
     * @private
     */

  }, {
    key: "onPricingChange",
    value: function onPricingChange() {
      var pricing = this.config.pricing;
      var lineItems = this.config.lineItems = [];
      this.config.total = pricing.totalNow;
      if (!pricing.hasPrice) return;
      var taxAmount = pricing.price.now.taxes || pricing.price.now.tax;
      lineItems.push(lineItem(this.config.i18n.subtotalLineItemLabel, pricing.subtotalPreDiscountNow));

      if (+pricing.price.now.discount) {
        lineItems.push(lineItem(this.config.i18n.discountLineItemLabel, -pricing.price.now.discount));
      }

      if (+taxAmount) {
        lineItems.push(lineItem(this.config.i18n.taxLineItemLabel, taxAmount));
      }

      if (+pricing.price.now.giftCard) {
        lineItems.push(lineItem(this.config.i18n.giftCardLineItemLabel, -pricing.price.now.giftCard));
      }

      this.config.lineItems = lineItems;
    }
    /**
     * Validates the merchant session
     *
     * @param  {Event} event ApplePayValidateMerchantEvent
     * @return {[type]} [description]
     * @private
     */

  }, {
    key: "onValidateMerchant",
    value: function onValidateMerchant(event) {
      var _this4 = this;

      debug('Validating Apple Pay merchant session', event);
      var validationURL = event.validationURL;
      this.recurly.request.post({
        route: '/apple_pay/start',
        data: {
          validationURL: validationURL
        },
        done: function done(err, merchantSession) {
          if (err) return _this4.error(err);

          _this4.session.completeMerchantValidation(merchantSession);
        }
      });
    }
    /**
     * Handles payment method selection
     *
     * @param  {Event} event
     * @private
     */

  }, {
    key: "onPaymentMethodSelected",
    value: function onPaymentMethodSelected(event) {
      debug('Payment method selected', event);
      this.session.completePaymentMethodSelection(this.finalTotalLineItem, this.lineItems);
    }
    /**
     * Handles shipping contact selection. Not utilized
     *
     * @param  {Event} event
     * @private
     */

  }, {
    key: "onShippingContactSelected",
    value: function onShippingContactSelected(event) {
      var status = this.session.STATUS_SUCCESS;
      var newShippingMethods = [];
      this.emit('shippingContactSelected', event);
      this.session.completeShippingContactSelection(status, newShippingMethods, this.finalTotalLineItem, this.lineItems);
    }
    /**
     * Handles shipping method selection. Not utilized
     *
     * @param  {Event} event
     * @private
     */

  }, {
    key: "onShippingMethodSelected",
    value: function onShippingMethodSelected(event) {
      var status = this.session.STATUS_SUCCESS;
      this.emit('shippingMethodSelected', event);
      this.session.completeShippingMethodSelection(status, this.finalTotalLineItem, this.lineItems);
    }
    /**
     * Handles payment authorization. Submits payment token and
     * emits the resultant authorization token
     *
     * @param  {Event} event
     * @emit 'token'
     * @private
     */

  }, {
    key: "onPaymentAuthorized",
    value: function onPaymentAuthorized(event) {
      var _this5 = this;

      debug('Payment authorization received', event);
      var data = {};

      if (this.config.form) {
        data = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_4__["normalize"])(this.config.form, _token__WEBPACK_IMPORTED_MODULE_6__["FIELDS"], {
          parseCard: false
        }).values;
      }

      this.emit('paymentAuthorized', event);
      this.mapPaymentData(data, event.payment);
      this.recurly.request.post({
        route: '/apple_pay/token',
        data: data,
        done: function done(err, token) {
          if (err) {
            _this5.session.completePayment(_this5.session.STATUS_FAILURE);

            return _this5.error('apple-pay-payment-failure', err);
          }

          debug('Token received', token);

          _this5.session.completePayment(_this5.session.STATUS_SUCCESS);

          _this5.emit('authorized', event);

          _this5.emit('token', token);
        }
      });
    }
    /**
     * Handles customer cancelation. Passes on the event
     *
     * @param  {Event} event
     * @emit 'cancel'
     * @private
     */

  }, {
    key: "onCancel",
    value: function onCancel(event) {
      debug('User canceled Apple Pay payment', event);
      this.emit('cancel', event);
    }
    /**
     * Creates and emits a RecurlyError
     *
     * @param  {...Mixed} params to be passed to the Recurlyerror factory
     * @return {RecurlyError}
     * @emit 'error'
     * @private
     */

  }, {
    key: "error",
    value: function error() {
      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_1__["default"].apply(void 0, arguments);
      this.emit('error', err);
      return err;
    }
    /**
     * Maps data from the Apple Pay token into the inputs
     * object that is sent to RA for tokenization
     *
     * @private
     */

  }, {
    key: "mapPaymentData",
    value: function mapPaymentData(inputs, data) {
      inputs.paymentData = data.token.paymentData;
      inputs.paymentMethod = data.token.paymentMethod;
      if (!data.billingContact) return;
      if (_token__WEBPACK_IMPORTED_MODULE_6__["FIELDS"].some(function (field) {
        return inputs[field];
      })) return;
      _token__WEBPACK_IMPORTED_MODULE_6__["FIELDS"].forEach(function (field) {
        if (!APPLE_PAY_ADDRESS_MAP[field]) return;
        var tokenData = data.billingContact[APPLE_PAY_ADDRESS_MAP[field]]; // address lines are an array from Apple Pay

        if (field === 'address1') tokenData = tokenData[0];else if (field === 'address2') tokenData = tokenData[1];
        inputs[field] = tokenData;
      });
    }
  }, {
    key: "session",
    get: function get() {
      if (this._session) return this._session;
      debug('Creating new Apple Pay session');
      this.addAuthorizationLineItem();
      var session = new window.ApplePaySession(APPLE_PAY_API_VERSION, {
        countryCode: this.config.country,
        currencyCode: this.config.currency,
        supportedNetworks: this.config.supportedNetworks,
        merchantCapabilities: this.config.merchantCapabilities,
        requiredBillingContactFields: ['postalAddress'],
        requiredShippingContactFields: this.config.requiredShippingContactFields,
        total: this.totalLineItem
      });
      session.onvalidatemerchant = this.onValidateMerchant.bind(this);
      session.onshippingcontactselected = this.onShippingContactSelected.bind(this);
      session.onshippingmethodselected = this.onShippingMethodSelected.bind(this);
      session.onpaymentmethodselected = this.onPaymentMethodSelected.bind(this);
      session.onpaymentauthorized = this.onPaymentAuthorized.bind(this);
      session.oncancel = this.onCancel.bind(this);
      return this._session = session;
    }
    /**
     * @return {Array} subtotal line items for display on payment sheet
     * @private
     */

  }, {
    key: "lineItems",
    get: function get() {
      // Clone configured line items
      return [].concat(this.config.lineItems);
    }
    /**
     * @return {Object} total cost line item
     * @private
     */

  }, {
    key: "totalLineItem",
    get: function get() {
      return lineItem(this.config.label, this.config.total);
    }
    /**
     * @return {Object} total cost line item indicating a finalized line item
     * @private
     */

  }, {
    key: "finalTotalLineItem",
    get: function get() {
      return _extends({}, this.totalLineItem, {
        type: 'final'
      });
    }
    /**
     * Used when the total price is zero, to circumvent Apple Pay
     * zero amount authorization limitation
     * @return {Object} card authorization line item, $1.00
     * @private
     */

  }, {
    key: "authorizationLineItem",
    get: function get() {
      return lineItem(this.config.i18n.authorizationLineItemLabel, 1.00);
    }
  }]);

  return ApplePay;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);
/**
 * Builds an ApplePayLineItem
 * @param  {String} label
 * @param  {Number} amount
 * @return {object}
 */


function lineItem() {
  var label = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  var amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return {
    label: label,
    amount: Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_5__["default"])(amount)
  };
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/bank-account.js":
/*!*************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/bank-account.js ***!
  \*************************************************************/
/*! exports provided: bankAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bankAccount", function() { return bankAccount; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/normalize */ "./node_modules/recurly.js/lib/util/normalize.js");
/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate */ "./node_modules/recurly.js/lib/recurly/validate.js");




var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:bankAccount');

var bankAccount = {
  token: token,
  bankInfo: bankInfo
};
/**
 * Fields that are sent to API.
 *
 * @type {Array}
 * @private
 */

var FIELDS = ['account_number', 'account_number_confirmation', 'bsb_code', 'iban', 'routing_number', 'sort_code', 'name_on_account', 'account_type', 'address1', 'address2', 'company', 'country', 'city', 'state', 'postal_code', 'phone', 'vat_number', 'token', 'type'];
/**
 * Generates a token from customer data.
 *
 * The callback signature: `err, response` where `err` is a
 * connection, request, or server error, and `response` is the
 * recurly service response. The generated token is accessed
 * at `response.token`.
 *
 * @param {Object|HTMLFormElement} options Billing properties or an HTMLFormElement
 * with children corresponding to billing properties via 'data-recurly' attributes.
 * @param {String} options.name_on_account customer name on bank account
 *
 * -- required when tokenizing a US bank account
 *
 * @param {String} options.account_number bank account number
 * @param {String} options.account_number_confirmation bank account number confirmation
 * @param {String} options.routing_number bank routing number
 * @param {String} options.account_type type of bank account (checking/savings)
 *
 * -- required when tokenizing an IBAN bank account
 *
 * @param {String} options.iban
 *
 * @param {String} [options.address1]
 * @param {String} [options.address2]
 * @param {String} [options.country]
 * @param {String} [options.city]
 * @param {String} [options.state]
 * @param {String|Number} [options.postal_code]
 * @param {Function} done callback
 */

function token(options, _done) {
  debug('token');
  var data = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_1__["normalize"])(options, FIELDS);
  var inputs = data.values;
  var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_2__["validateBankAccountInputs"])(inputs);

  if (typeof _done !== 'function') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('missing-callback');
  }

  if (userErrors.length) {
    return _done(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('validation', {
      fields: userErrors.map(function (e) {
        return e.field;
      }),
      details: userErrors
    }));
  }

  if ('iban' in inputs) {
    inputs.type = 'iban_bank_account';
  }

  if (inputs.type === 'bacs') {
    inputs.type = 'bacs_bank_account';
  }

  if (inputs.type === 'becs') {
    inputs.type = 'becs_bank_account';
  }

  this.request.post({
    route: '/tokens',
    data: inputs,
    done: function done(err, res) {
      if (err) return _done(err);

      if (data.fields.token && res.id) {
        data.fields.token.value = res.id;
      }

      _done(null, res);
    }
  });
}
/**
 * performs a bank lookup
 *
 * The callback signature: `err, response` where `err` is
 * a lookup or server error and `response` and the object containing
 * the found bank info.
 *
 * At this time, the only parameter accepted in the options argument
 * is `routingNumber`.
 *
 * @param  {Object} options lookup properties
 * @param  {String} options.routingNumber the rounting number to use for the bank lookup
 * @param  {Function} done callback
 */


function bankInfo(options, _done2) {
  debug('bankInfo');

  if (typeof _done2 !== 'function') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('missing-callback');
  }

  var routingNumber = options && options.routingNumber;
  var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_2__["validateBankRoutingNumber"])(routingNumber);

  if (userErrors.length) {
    return _done2(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('validation', {
      fields: userErrors.map(function (e) {
        return e.field;
      }),
      details: userErrors
    }));
  }

  this.request.get({
    route: '/bank',
    data: {
      routing_number: routingNumber
    },
    done: function done(err, res) {
      if (err) return _done2(err);

      _done2(null, res);
    }
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/bus.js":
/*!****************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/bus.js ***!
  \****************************************************/
/*! exports provided: Bus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bus", function() { return Bus; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./node_modules/recurly.js/lib/recurly/message.js");
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




/**
 * Hosted field generic message bus
 *
 * Listens to message events on the window, filters recurly messages,
 * and emits them to all registered recipients
 *
 * May also receive generic messages, which it sends to all recipients
 */

var Bus =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Bus, _Emitter);

  function Bus() {
    var _this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, Bus);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Bus).call(this));
    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();
    _this.groupId = options.groupId || Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();
    _this.emitters = [];
    _this.recipients = [];
    _this.receive = _this.receive.bind(_assertThisInitialized(_this));
    _this.config = {
      api: options.api
    };
    _this.debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")("recurly:bus:".concat(options.role ? "".concat(options.role, ":") : '').concat(_this.id.split('-')[0]));

    _this.connect();

    _this.send = _this.send.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(Bus, [{
    key: "connect",
    value: function connect() {
      window.addEventListener('message', this.receive, false);
      this.debug('listening for postMessage events on', window);
    }
    /**
     * Receives a postMessage, filters it, and sends it out
     *
     * @private
     * @param {MessageEvent} messageEvent
     */

  }, {
    key: "receive",
    value: function receive(messageEvent) {
      // allow for listening to the raw message spout
      this.emit('raw-message', messageEvent);
      if (!this.originMatches(messageEvent.origin)) return;
      this.debug('message event received', messageEvent.data);
      var message = _message__WEBPACK_IMPORTED_MODULE_1__["Message"].createFromMessageEvent(messageEvent, this.debug.bind(this));
      if (!this.shouldHandleMessage(message)) return;
      this.send(message, null, {
        exclude: [messageEvent.srcElement, messageEvent.source]
      });
    }
    /**
     * Adds a recipient to the bus
     *
     * @public
     * @param {Window|Emitter} recipient that may receive messages from `send`
     */

  }, {
    key: "add",
    value: function add(recipient) {
      if (~this.recipients.indexOf(recipient)) return;
      this.recipients.push(recipient);
      if (recipient instanceof component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a) recipient.emit('bus:added', this);
      this.debug("added recipient. Total: ".concat(this.recipients.length), recipient);
    }
    /**
     * Removes a recipient from the bus
     *
     * @public
     * @param {Window|Emitter} recipient to remove
     * @return {Boolean} whether the removal was performed
     */

  }, {
    key: "remove",
    value: function remove(recipient) {
      var pos = this.recipients.indexOf(recipient);
      return !!(~pos && this.recipients.splice(pos, 1));
    }
    /**
     * Sends a generic message to all recipients
     *
     * @public
     * @param {String} event name of the message's event
     * @param {Object} body message contents
     * @param {Object} [options]
     * @param {Array} [options.exclude] a list of recipients to exlude from receiving the message
     */

  }, {
    key: "send",
    value: function send(event, body) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {
        exclude: []
      };
      var groupId = this.groupId;
      var message = new _message__WEBPACK_IMPORTED_MODULE_1__["Message"](event, body, groupId);
      var exclude = options.exclude;

      if (!message.event) {
        this.debug('discarding message due to lack of event name', message);
        return;
      }

      var recipients = this.recipients.filter(function (r) {
        return !~exclude.indexOf(r);
      });
      this.debug("sending message to ".concat(recipients.length, " recipients"), recipients, message);
      recipients.forEach(function (r) {
        if (r.postMessage) {
          if (typeof r.postMessage === 'function') r.postMessage(message, '*');
        } else if (typeof r.emit === 'function') {
          r.emit(message.event, message.body);
        }
      });
    }
    /**
     * Empties recipients and disconnects the listener
     *
     * @public
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.debug('destroying bus', this.groupId, this.id);
      this.recipients = [];
      window.removeEventListener('message', this.receive, false);
    }
    /**
     * Determines whether a message received should be handled by this bus
     *
     * @private
     * @param {Message} message
     */

  }, {
    key: "shouldHandleMessage",
    value: function shouldHandleMessage(message) {
      // If a message has a group id, it must match
      if (message.groupId) return message.groupId === this.groupId;
      return true;
    }
    /**
     * Checks a message origin for compatibility
     *
     * @private
     * @param {String} url message origin url
     */

  }, {
    key: "originMatches",
    value: function originMatches(url) {
      return origin(url) === origin(this.config.api);
    }
  }]);

  return Bus;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);
/**
 * Parses an origin from a url
 *
 * @private
 * @param  {String} url
 * @return {Boolean}
 */

function origin(url) {
  var parser = window.document.createElement('a');
  parser.href = url;
  return "".concat(parser.protocol, "//").concat(parser.host);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/coupon.js":
/*!*******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/coupon.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return coupon; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");


var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:coupon');
/**
 * Coupon
 *
 * Retrieves coupon information for the `coupon` and optional `plan`.
 * The `callback` signature is `err, coupon` where `err` may be a request
 * or server error, and `coupon` is a representation of the requested coupon.
 *
 * @param {Object} options
 * @param {String} options.coupon coupon code
 * @param {String} [options.plan] plan code
 * @param {Array[String]} [options.plans] plan codes
 * @param {Function} done
 */


function coupon() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var done = arguments.length > 1 ? arguments[1] : undefined;
  debug('%j', options);
  var coupon = options.coupon,
      plans = options.plans,
      plan = options.plan,
      currency = options.currency;
  if (!coupon) throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('missing-coupon');
  if (typeof done !== 'function') throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('missing-callback');
  if (!plans && plan) plans = [plan];
  this.request.piped({
    route: "/coupons/".concat(coupon),
    data: {
      plan_codes: plans,
      currency: currency
    },
    by: 'plan_codes'
  }).nodeify(done);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/card-cvv.js":
/*!*****************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/card-cvv.js ***!
  \*****************************************************************/
/*! exports provided: factory, CardCvvElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardCvvElement", function() { return CardCvvElement; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function factory(options) {
  return new CardCvvElement(_objectSpread({}, options, {
    elements: this
  }));
}
var CardCvvElement =
/*#__PURE__*/
function (_Element) {
  _inherits(CardCvvElement, _Element);

  function CardCvvElement() {
    _classCallCheck(this, CardCvvElement);

    return _possibleConstructorReturn(this, _getPrototypeOf(CardCvvElement).apply(this, arguments));
  }

  return CardCvvElement;
}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(CardCvvElement, "type", 'cvv');

_defineProperty(CardCvvElement, "elementClassName", 'CardCvvElement');

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/card-month.js":
/*!*******************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/card-month.js ***!
  \*******************************************************************/
/*! exports provided: factory, CardMonthElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardMonthElement", function() { return CardMonthElement; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function factory(options) {
  return new CardMonthElement(_objectSpread({}, options, {
    elements: this
  }));
}
var CardMonthElement =
/*#__PURE__*/
function (_Element) {
  _inherits(CardMonthElement, _Element);

  function CardMonthElement() {
    _classCallCheck(this, CardMonthElement);

    return _possibleConstructorReturn(this, _getPrototypeOf(CardMonthElement).apply(this, arguments));
  }

  return CardMonthElement;
}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(CardMonthElement, "type", 'month');

_defineProperty(CardMonthElement, "elementClassName", 'CardMonthElement');

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/card-number.js":
/*!********************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/card-number.js ***!
  \********************************************************************/
/*! exports provided: factory, CardNumberElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardNumberElement", function() { return CardNumberElement; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function factory(options) {
  return new CardNumberElement(_objectSpread({}, options, {
    elements: this
  }));
}
var CardNumberElement =
/*#__PURE__*/
function (_Element) {
  _inherits(CardNumberElement, _Element);

  function CardNumberElement() {
    _classCallCheck(this, CardNumberElement);

    return _possibleConstructorReturn(this, _getPrototypeOf(CardNumberElement).apply(this, arguments));
  }

  return CardNumberElement;
}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(CardNumberElement, "type", 'number');

_defineProperty(CardNumberElement, "elementClassName", 'CardNumberElement');

_defineProperty(CardNumberElement, "supportsTokenization", true);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/card-year.js":
/*!******************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/card-year.js ***!
  \******************************************************************/
/*! exports provided: factory, CardYearElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardYearElement", function() { return CardYearElement; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function factory(options) {
  return new CardYearElement(_objectSpread({}, options, {
    elements: this
  }));
}
var CardYearElement =
/*#__PURE__*/
function (_Element) {
  _inherits(CardYearElement, _Element);

  function CardYearElement() {
    _classCallCheck(this, CardYearElement);

    return _possibleConstructorReturn(this, _getPrototypeOf(CardYearElement).apply(this, arguments));
  }

  return CardYearElement;
}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(CardYearElement, "type", 'year');

_defineProperty(CardYearElement, "elementClassName", 'CardYearElement');

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/card.js":
/*!*************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/card.js ***!
  \*************************************************************/
/*! exports provided: factory, CardElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardElement", function() { return CardElement; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


function factory(options) {
  return new CardElement(_objectSpread({}, options, {
    elements: this
  }));
}
var CardElement =
/*#__PURE__*/
function (_Element) {
  _inherits(CardElement, _Element);

  function CardElement() {
    _classCallCheck(this, CardElement);

    return _possibleConstructorReturn(this, _getPrototypeOf(CardElement).apply(this, arguments));
  }

  return CardElement;
}(_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(CardElement, "type", 'card');

_defineProperty(CardElement, "elementClassName", 'CardElement');

_defineProperty(CardElement, "supportsTokenization", true);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/element.js":
/*!****************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/element.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Element; });
/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var to_slug_case__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! to-slug-case */ "./node_modules/to-slug-case/index.js");
/* harmony import */ var to_slug_case__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(to_slug_case__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tabbable */ "./node_modules/tabbable/index.js");
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(tabbable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var bowser = __webpack_require__(/*! bowser */ "./node_modules/recurly.js/node_modules/bowser/src/bowser.js");

var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:element');
/**
 * Element
 *
 * Controller for a DOM element that accepts protected customer data
 *
 * @param  {Object} options
 * @param  {Elements} options.elements
 * @return {Element}
 */


var Element =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Element, _Emitter);

  _createClass(Element, null, [{
    key: "findElementInDOMTree",

    /**
     * Locates the first Element in a DOM tree
     *
     * @param {HTMLElement} root
     * @return {Element} First element encountered in the tree
     */
    value: function findElementInDOMTree(parent) {
      var DATA_ATTRIBUTE_ID = Element.DATA_ATTRIBUTE_ID,
          INSTANCE_REF_NAME = Element.INSTANCE_REF_NAME;
      var maybes = parent.querySelectorAll("[data-".concat(to_slug_case__WEBPACK_IMPORTED_MODULE_5___default()(DATA_ATTRIBUTE_ID), "]"));
      var container = component_find__WEBPACK_IMPORTED_MODULE_3___default()(maybes, function (maybe) {
        return INSTANCE_REF_NAME in maybe;
      });
      if (container) return container[INSTANCE_REF_NAME];
    }
  }]);

  function Element(_ref) {
    var _this;

    var elements = _ref.elements,
        options = _objectWithoutProperties(_ref, ["elements"]);

    _classCallCheck(this, Element);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Element).call(this));
    _this.elements = elements;
    _this.recurly = elements.recurly;
    _this.bus = elements.bus;
    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_7__["default"])();
    _this._config = {};
    _this.state = {};

    _this.configure(options);

    _this.bus.add(_assertThisInitialized(_this));

    _this.elements.add(_assertThisInitialized(_this));

    _this.on(_this.messageName('state:change'), function () {
      var _this2;

      return (_this2 = _this).onStateChange.apply(_this2, arguments);
    });

    _this.on(_this.messageName('focus'), function () {
      return _this.onFocus();
    });

    _this.on(_this.messageName('blur'), function () {
      return _this.onBlur();
    });

    _this.on(_this.messageName('tab:previous'), function () {
      return _this.onTab('previous');
    });

    _this.on(_this.messageName('tab:next'), function () {
      return _this.onTab('next');
    });

    _this.on(_this.messageName('submit'), function () {
      return _this.onSubmit();
    });

    _this.on('destroy', function () {
      var _this3;

      return (_this3 = _this).destroy.apply(_this3, arguments);
    });

    debug('create', _this.id);
    return _this;
  }
  /**
   * @private
   */


  _createClass(Element, [{
    key: "attach",

    /**
     * Attach the element to an HTMLElement
     *
     * Usage
     *
     * ```
     * element.attach('#my-card-container');
     * ```
     *
     * ```
     * element.attach(document.querySelector('#my-card-container'));
     * ```
     *
     * @public
     * @param  {HTMLElement|String} parent element or selector reference to the attach target
     */
    value: function attach(parent) {
      var _this4 = this;

      parent = _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.element(parent);

      if (!parent) {
        throw new Error('Invalid parent. Expected HTMLElement.');
      }

      var attached = this.attached,
          bus = this.bus,
          container = this.container,
          id = this.id;
      debug('attach', id);

      if (attached) {
        if (container.parentElement === parent) return this;
        this.remove();
      }

      parent.appendChild(container);
      bus.add(this.window);
      this.once(this.messageName('ready'), function () {
        return _this4.emit('attach', _this4);
      });
      return this;
    }
    /**
     * Removes the element from the DOM
     *
     * @public
     */

  }, {
    key: "remove",
    value: function remove() {
      var attached = this.attached,
          bus = this.bus,
          id = this.id,
          container = this.container;
      debug('remove', id);
      if (!attached) return this;
      var parent = container.parentElement;
      if (!parent) return this;
      bus.remove(this.window);
      parent.removeChild(container); // Prevent dangling ready listeners from triggering the 'attach' event

      this.off(this.messageName('ready'));
      this.emit('remove', this);
      return this;
    }
    /**
     * Destroys the element and disables its functionality
     *
     * @private
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.remove();
      this.off();
      this.bus.remove(this);
      this.elements.remove(this);
      delete this.container;
      delete this.iframe;
      delete this.window;
      return this;
    }
    /**
     * Configures the element, enforcing the config allowlist
     *
     * @public
     */

  }, {
    key: "configure",
    value: function configure() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var _config = this._config;
      var OPTIONS = this.constructor.OPTIONS;
      var newConfig = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_0__["default"])({}, _config, lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(options, OPTIONS));
      if (JSON.stringify(_config) === JSON.stringify(newConfig)) return this;
      this._config = newConfig;
      this.update();
      return this;
    }
    /**
     * Places focus on this element
     */

  }, {
    key: "focus",
    value: function focus() {
      this.bus.send(this.messageName('focus!'));
    }
    /**
     * Updates element DOM properties to latest values
     *
     * @private
     */

  }, {
    key: "update",
    value: function update() {
      var bus = this.bus,
          classList = this.classList,
          config = this.config,
          id = this.id,
          iframe = this.iframe;
      var tabIndex = parseInt(config.tabIndex, 10) || 0;
      debug('update', id);
      this.container.className = classList;
      iframe.setAttribute('tabindex', tabIndex);
      bus.send(this.messageName('configure!'), config);
    }
    /**
     * Builds a standard message name string in the format expected from
     * a frame message
     *
     * @private
     * @param {string} name message name
     * @return {String} fully qualified message name
     */

  }, {
    key: "messageName",
    value: function messageName(name) {
      return "element:".concat(this.id, ":").concat(name);
    }
    /**
     * Provides an Array of tabbable HTMLElements in the document body,
     * excluding (Recurly) Element frames
     *
     * @private
     * @return {Array} of HTMLElements
     */

  }, {
    key: "tabbableItems",
    value: function tabbableItems() {
      var FRAME_NAME_PREFIX = this.constructor.FRAME_NAME_PREFIX;
      return tabbable__WEBPACK_IMPORTED_MODULE_6___default()(window.document.body).filter(function (el) {
        if (!el.name) return true;
        return el.name.indexOf(FRAME_NAME_PREFIX) !== 0;
      });
    } // Event handlers

    /**
     * Updates state to reflect changes signaled by the Element iframe
     *
     * @private
     * @param  {Object} body message body, containing new state
     */

  }, {
    key: "onStateChange",
    value: function onStateChange(body) {
      debug('state change', this.id, body);

      var newState = _objectSpread({}, body);

      delete newState.type;
      if (JSON.stringify(this.state) === JSON.stringify(newState)) return;
      this.state = newState;
      debug('state change committed', this.id, {
        old: this.state,
        new: newState
      });
      this.emit('change', _objectSpread({}, this.state));
      this.update();
    }
  }, {
    key: "onFocus",
    value: function onFocus() {
      debug('focus', this.id);
      this.emit('focus', this);
    }
  }, {
    key: "onBlur",
    value: function onBlur() {
      debug('blur', this.id);
      this.emit('blur', this);
    }
  }, {
    key: "onTab",
    value: function onTab(direction) {
      debug('tab', this.id, direction);
      var tabProxy = this.tabProxy;
      if (!tabProxy) return;
      var tabbableItems = this.tabbableItems();
      var pos = tabbableItems.indexOf(tabProxy);
      var dest = direction === 'previous' ? tabbableItems[pos - 1] : tabbableItems[pos + 1];
      if (dest) dest.focus();
    }
  }, {
    key: "onSubmit",
    value: function onSubmit() {
      debug('submit', this.id);
      this.emit('submit', this);
    }
  }, {
    key: "type",
    get: function get() {
      return this.constructor.type;
    }
  }, {
    key: "supportsTokenization",
    get: function get() {
      return this.constructor.supportsTokenization;
    }
  }, {
    key: "elementClassName",
    get: function get() {
      return this.constructor.elementClassName;
    }
    /**
     * @private
     */

  }, {
    key: "container",
    get: function get() {
      var _this5 = this;

      if (this._container) return this._container;
      var classList = this.classList,
          iframe = this.iframe,
          tabProxy = this.tabProxy,
          id = this.id;
      var _this$constructor = this.constructor,
          DATA_ATTRIBUTE_ID = _this$constructor.DATA_ATTRIBUTE_ID,
          INSTANCE_REF_NAME = _this$constructor.INSTANCE_REF_NAME;
      var container = this._container = document.createElement('div');
      _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.data(container, DATA_ATTRIBUTE_ID, id);
      container[INSTANCE_REF_NAME] = this;
      container.setAttribute('class', classList);

      if (isMobile()) {
        container.appendChild(tabProxy);
      }

      container.appendChild(iframe);
      container.addEventListener('click', function () {
        return _this5.focus();
      });
      return container;
    }
    /**
     * @private
     */

  }, {
    key: "tabProxy",
    get: function get() {
      var _this6 = this;

      if (this._tabProxy) return this._tabProxy;
      var proxy = this._tabProxy = _util_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createHiddenInput();
      proxy.addEventListener('focus', function () {
        return _this6.focus();
      });
      return proxy;
    }
    /**
     * @private
     */

  }, {
    key: "iframe",
    get: function get() {
      if (this._iframe) return this._iframe;
      var id = this.id,
          url = this.url;
      var FRAME_NAME_PREFIX = this.constructor.FRAME_NAME_PREFIX;
      var iframe = this._iframe = document.createElement('iframe');
      iframe.setAttribute('allowtransparency', 'true');
      iframe.setAttribute('frameborder', '0');
      iframe.setAttribute('scrolling', 'no');
      iframe.setAttribute('name', "".concat(FRAME_NAME_PREFIX).concat(id));
      iframe.setAttribute('allowpaymentrequest', 'true');
      iframe.setAttribute('style', 'background: none; width: 100%; height: 100%;');
      iframe.src = url;
      return iframe;
    }
    /**
     * @private
     */

  }, {
    key: "window",
    get: function get() {
      return this.iframe.contentWindow;
    }
    /**
     * @private
     *
     * FIXME: contentWindow access is very slow.
     *   - we may wish to use a sentinel to track attached state,
     *     toggled by 'attach' event and .remove()
     */

  }, {
    key: "attached",
    get: function get() {
      return !!this.window;
    }
    /**
     * Whether this instance has begun attachment but is awaiting the 'ready' message
     *
     * @public
     */

  }, {
    key: "attaching",
    get: function get() {
      return this.hasListeners(this.messageName('ready'));
    }
    /**
     * @private
     */

  }, {
    key: "url",
    get: function get() {
      var config = encodeURIComponent(JSON.stringify(this.config));
      return this.recurly.url("/field.html#config=".concat(config));
    }
    /**
     * @private
     */

  }, {
    key: "config",
    get: function get() {
      var bus = this.bus,
          id = this.id,
          recurly = this.recurly,
          type = this.type;
      var deviceId = recurly.deviceId,
          sessionId = recurly.sessionId;
      return _objectSpread({}, this._config, {
        busGroupId: bus.groupId,
        deviceId: deviceId,
        elementId: id,
        recurly: recurly.sanitizedConfig,
        sessionId: sessionId,
        type: type
      });
    }
    /**
     * Provides a string of class names corresponding to
     * the current state
     *
     * @private
     */

  }, {
    key: "classList",
    get: function get() {
      var attached = this.attached,
          state = this.state,
          type = this.type;
      var prefix = 'recurly-element';
      var classes = [prefix];

      if (attached) {
        classes.push("".concat(prefix, "-").concat(type));

        if (state.focus) {
          classes.push("".concat(prefix, "-focus"));
          classes.push("".concat(prefix, "-").concat(type, "-focus"));
        }

        if (state.valid) {
          classes.push("".concat(prefix, "-valid"));
          classes.push("".concat(prefix, "-").concat(type, "-valid"));
        } else if (!state.focus && !state.empty) {
          classes.push("".concat(prefix, "-invalid"));
          classes.push("".concat(prefix, "-").concat(type, "-invalid"));
        }
      }

      return classes.join(' ');
    }
  }]);

  return Element;
}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);
/**
 * Determine if user's browser is mobile or non-mobile
 * @return {Boolean} value
 */


_defineProperty(Element, "DATA_ATTRIBUTE_ID", 'recurlyElementId');

_defineProperty(Element, "FRAME_NAME_PREFIX", 'recurly-element--');

_defineProperty(Element, "INSTANCE_REF_NAME", '__recurlyElement');

_defineProperty(Element, "OPTIONS", ['displayIcon', 'inputType', 'style', 'tabIndex']);

_defineProperty(Element, "supportsTokenization", false);

_defineProperty(Element, "type", null);



function isMobile() {
  return bowser.mobile || bowser.tablet;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/element/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/element/index.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/element.js");

/* harmony default export */ __webpack_exports__["default"] = (_element__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/elements.js":
/*!*********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/elements.js ***!
  \*********************************************************/
/*! exports provided: factory, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Elements; });
/* harmony import */ var _bus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bus */ "./node_modules/recurly.js/lib/recurly/bus.js");
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _element_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./element/card */ "./node_modules/recurly.js/lib/recurly/element/card.js");
/* harmony import */ var _element_card_number__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./element/card-number */ "./node_modules/recurly.js/lib/recurly/element/card-number.js");
/* harmony import */ var _element_card_month__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./element/card-month */ "./node_modules/recurly.js/lib/recurly/element/card-month.js");
/* harmony import */ var _element_card_year__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element/card-year */ "./node_modules/recurly.js/lib/recurly/element/card-year.js");
/* harmony import */ var _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./element/card-cvv */ "./node_modules/recurly.js/lib/recurly/element/card-cvv.js");
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }












var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:elements');

function factory(options) {
  return new Elements(_extends({}, options, {
    recurly: this
  }));
}
/**
 * Elements
 *
 * Controls a group of Element instances
 *
 * @param  {Object} options
 * @param  {Elements} options.recurly
 */

var Elements =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Elements, _Emitter);

  function Elements(_ref) {
    var _this;

    var recurly = _ref.recurly;

    _classCallCheck(this, Elements);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Elements).call(this));

    _defineProperty(_assertThisInitialized(_this), "CardElement", _element_card__WEBPACK_IMPORTED_MODULE_4__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "CardNumberElement", _element_card_number__WEBPACK_IMPORTED_MODULE_5__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "CardMonthElement", _element_card_month__WEBPACK_IMPORTED_MODULE_6__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "CardYearElement", _element_card_year__WEBPACK_IMPORTED_MODULE_7__["factory"]);

    _defineProperty(_assertThisInitialized(_this), "CardCvvElement", _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__["factory"]);

    _this.recurly = recurly;
    _this.id = "recurly-elements:".concat(Object(_util_uid__WEBPACK_IMPORTED_MODULE_9__["default"])());
    _this.elements = [];
    _this.bus = new _bus__WEBPACK_IMPORTED_MODULE_0__["Bus"]({
      api: recurly.config.api,
      role: 'elements'
    });

    _this.bus.add(_assertThisInitialized(_this));

    _this.bus.add(recurly);

    _this.on('destroy', function () {
      var _this2;

      return (_this2 = _this).destroy.apply(_this2, arguments);
    });

    _this.on('token:init', function () {
      var _this3;

      return (_this3 = _this).ensureTokenCapability.apply(_this3, arguments);
    });

    debug('create', _this.id);
    return _this;
  }
  /**
   * Adds an element
   *
   * @private
   * @param  {Element} element
   */


  _createClass(Elements, [{
    key: "add",
    value: function add(element) {
      debug('add', this.id, element);
      var elements = this.elements;
      var VALID_SETS = this.constructor.VALID_SETS;

      if (!(element instanceof _element__WEBPACK_IMPORTED_MODULE_1__["default"])) {
        throw new Error("Invalid element. Expected Element, got ".concat(_typeof(element)));
      }

      if (elements.some(function (e) {
        return e === element;
      })) {
        throw new Error("\n        Invalid element. There is already a `".concat(element.elementClassName, "` in this set.\n      "));
      } // Validate that the new element can be added to the existing set
      // TODO: Add set rules documentation link to the error


      var newSet = elements.concat(element);

      if (!VALID_SETS.some(function (set) {
        return newSet.every(function (ne) {
          return ~set.indexOf(ne.constructor);
        });
      })) {
        throw new Error("\n        Invalid element. A `".concat(element.elementClassName, "` may not be added to the existing set:\n        ").concat(elements.map(function (e) {
          return "'".concat(e.elementClassName, "'");
        }).join(', '), "\n      "));
      }

      elements.push(element);
      element.on('attach', this.onElementAttach.bind(this));
      element.on('submit', this.onElementSubmit.bind(this));
      this.sendPeerAnnounce();
    }
    /**
     * Removes an element
     *
     * @private
     * @param  {Element} element
     * @return {Boolean} whether the removal was performed
     */

  }, {
    key: "remove",
    value: function remove(element) {
      debug('remove', this.id, element);
      var elements = this.elements;
      var pos = elements.indexOf(element);
      var removed = ~pos && elements.splice(pos, 1);
      if (removed) this.sendPeerAnnounce();
      return removed;
    }
    /**
     * Destroys this controller
     *
     * TODO: disable instance upon destruction?
     *
     * @private
     */

  }, {
    key: "destroy",
    value: function destroy() {
      debug('destroy', this.id);
      var elements = this.elements,
          bus = this.bus;
      elements.forEach(function (e) {
        return e.destroy();
      });
      bus.destroy();
    }
    /**
     * Sends a message announcing the ids of the associated elements
     *
     * @private
     */

  }, {
    key: "sendPeerAnnounce",
    value: function sendPeerAnnounce() {
      var elements = this.elements,
          bus = this.bus;
      var ids = elements.map(function (e) {
        return e.id;
      });
      bus.send('elements:peer-announce', {
        ids: ids
      });
    } // Event handlers

    /**
     * Sends the 'elements:ready!' event when no elements are in the process
     * of attaching
     *
     * Called when any element has finished attaching and initializing
     *
     * @private
     * @param {Element} element
     */

  }, {
    key: "onElementAttach",
    value: function onElementAttach(element) {
      debug('element attach', this.id, element);
      var elements = this.elements,
          bus = this.bus;
      if (elements.length < 1) return;
      if (elements.some(function (e) {
        return e.attaching;
      })) return;
      bus.send('elements:ready!');
      this.sendPeerAnnounce();
    }
    /**
     * Emits the submit event to indicate when the event has occurred on an Element
     *
     * @private
     * @param {Element} element
     */

  }, {
    key: "onElementSubmit",
    value: function onElementSubmit(element) {
      debug('submit', this.id, element);
      this.emit('submit', element);
    }
    /**
     * Ensures the current elements group contains one Element supporting tokenization.
     * If one is not present, then this will emit an error to the token listener.
     *
     * @param {String} options.id tokenization id
     */

  }, {
    key: "ensureTokenCapability",
    value: function ensureTokenCapability(_ref2) {
      var id = _ref2.id;
      var elements = this.elements,
          bus = this.bus;

      if (!elements.some(function (el) {
        return el.supportsTokenization;
      })) {
        var found = elements.map(function (el) {
          return el.elementClassName;
        });
        var err = Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('elements-tokenization-not-possible', {
          found: found
        });
        bus.send("token:done:".concat(id), {
          err: err
        });
      }
    }
  }]);

  return Elements;
}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);

_defineProperty(Elements, "VALID_SETS", [[_element_card__WEBPACK_IMPORTED_MODULE_4__["CardElement"]], [_element_card_number__WEBPACK_IMPORTED_MODULE_5__["CardNumberElement"], _element_card_month__WEBPACK_IMPORTED_MODULE_6__["CardMonthElement"], _element_card_year__WEBPACK_IMPORTED_MODULE_7__["CardYearElement"], _element_card_cvv__WEBPACK_IMPORTED_MODULE_8__["CardCvvElement"]]]);



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/errors.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return error; });
/* harmony import */ var _reporter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./reporter */ "./node_modules/recurly.js/lib/recurly/reporter.js");
/* harmony import */ var string_squish__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! string-squish */ "./node_modules/string-squish/index.js");
/* harmony import */ var string_squish__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(string_squish__WEBPACK_IMPORTED_MODULE_1__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var BASE_URL = 'https://dev.recurly.com/docs/recurly-js-';
var ERRORS = [{
  code: 'not-configured',
  message: 'Not configured. You must first call recurly.configure().',
  classification: 'merchant',
  help: 'getting-started#section-configure'
}, {
  code: 'config-missing-public-key',
  message: 'The publicKey setting is required.',
  classification: 'merchant',
  help: '#identify-your-site'
}, {
  code: 'config-missing-fields',
  message: 'The fields setting is required.',
  classification: 'merchant'
}, {
  code: 'missing-hosted-field-target',
  message: function message(c) {
    return "Target HTMLElement not found for ".concat(c.type, " field using selector '").concat(c.selector, "'");
  },
  classification: 'merchant'
}, {
  code: 'elements-tokenization-not-possible',
  message: function message(c) {
    return "No Element capable of tokenization was found in the given Elements group\n                   (".concat(c.found.join(','), "). Please review documentation for a list of tokenizing Elements.");
  },
  classification: 'merchant'
}, {
  code: 'api-error',
  message: 'There was an error with your request.',
  classification: 'api'
}, {
  code: 'api-timeout',
  message: 'The API request timed out.',
  classification: 'api'
}, {
  code: 'validation',
  message: 'There was an error validating your request.',
  classification: 'customer'
}, {
  code: 'missing-callback',
  message: 'Missing callback',
  classification: 'merchant'
}, {
  code: 'invalid-options',
  message: 'Options must be an object',
  classification: 'merchant'
}, {
  code: 'invalid-option',
  message: function message(c) {
    return "Option ".concat(c.name, " must be ").concat(c.expect);
  },
  classification: 'merchant'
}, {
  code: 'missing-plan',
  message: 'A plan must be specified.',
  classification: 'merchant'
}, {
  code: 'missing-coupon',
  message: 'A coupon must be specified.',
  classification: 'merchant'
}, {
  code: 'invalid-item',
  message: 'The given item does not appear to be a valid recurly plan, coupon, addon, or taxable address.',
  classification: 'merchant'
}, {
  code: 'invalid-addon',
  message: 'The given addon_code is not among the valid addons for the specified plan.',
  classification: 'merchant'
}, {
  code: 'invalid-currency',
  message: function message(c) {
    return "The given currency (".concat(c.currency, ") is not among the valid codes for the specified plan(s): ").concat(c.allowed, ".");
  },
  classification: 'merchant'
}, {
  code: 'invalid-plan-currency',
  message: function message(c) {
    return "The requested plan (".concat(c.planCode, ") does not support the possible checkout currencies: ").concat(c.currencies, ".");
  },
  classification: 'merchant'
}, {
  code: 'invalid-subscription-currency',
  message: "The given subscription does not support the currencies of this Checkout instance's existing subscriptions",
  classification: 'merchant'
}, {
  code: 'invalid-item-currency',
  message: function message(c) {
    return "The requested item (".concat(c.itemCode, ") does not support the requested currency: ").concat(c.currency, ".");
  },
  classification: 'merchant'
}, {
  code: 'unremovable-item',
  message: 'The given item cannot be removed.',
  classification: 'merchant'
}, {
  code: 'fraud-data-collector-request-failed',
  message: function message(c) {
    return "There was an error getting the data collector fields: ".concat(c.error);
  },
  classification: 'internal'
}, {
  code: 'fraud-data-collector-missing-form',
  message: function message(c) {
    return "There was an error finding a form to inject the data collector fields using selector '".concat(c.selector, "'");
  },
  classification: 'merchant'
}, {
  code: 'gift-card-currency-mismatch',
  message: 'The giftcard currency does not match the given currency.',
  classification: 'merchant'
}, {
  code: 'apple-pay-not-supported',
  message: 'Apple Pay is not supported by this device or browser.',
  classification: 'environment'
}, {
  code: 'apple-pay-not-available',
  message: 'Apple Pay is supported by this device, but the customer has not configured Apple Pay.',
  classification: 'environment'
}, {
  code: 'apple-pay-config-missing',
  message: function message(c) {
    return "Missing Apple Pay configuration option: '".concat(c.opt, "'");
  },
  classification: 'merchant'
}, {
  code: 'apple-pay-config-invalid',
  message: function message(c) {
    return "Apple Pay configuration option '".concat(c.opt, "' is not among your available options: ").concat(c.set, ".\n                   Please refer to your site configuration if the available options is incorrect.");
  },
  classification: 'merchant'
}, {
  code: 'apple-pay-factory-only',
  message: 'Apple Pay must be initialized by calling recurly.ApplePay',
  classification: 'merchant'
}, {
  code: 'apple-pay-init-error',
  message: function message(c) {
    var message = 'Apple Pay did not initialize due to a fatal error';
    if (c.err) message += ": ".concat(c.err.message);
    return message;
  },
  classification: 'internal'
}, {
  code: 'apple-pay-payment-failure',
  message: 'Apply Pay could not charge the customer',
  classification: 'internal'
}, {
  code: 'paypal-factory-only',
  message: 'PayPal must be initialized by calling recurly.PayPal',
  classification: 'merchant'
}, {
  code: 'venmo-factory-only',
  message: 'Venmo must be initialized by calling recurly.Venmo',
  classification: 'merchant'
}, {
  code: 'paypal-config-missing',
  message: function message(c) {
    return "Missing PayPal configuration option: '".concat(c.opt, "'");
  },
  classification: 'merchant'
}, {
  code: 'paypal-load-error',
  message: 'Client libraries failed to load',
  classification: 'environment'
}, {
  code: 'paypal-client-error',
  message: 'PayPal encountered an unexpected error',
  classification: 'internal'
}, {
  code: 'paypal-tokenize-error',
  message: 'An error occurred while attempting to generate the PayPal token',
  classification: 'internal'
}, {
  code: 'paypal-tokenize-recurly-error',
  message: 'An error occurred while attempting to generate the Recurly token',
  classification: 'internal'
}, {
  code: 'paypal-braintree-not-ready',
  message: 'Braintree PayPal is not yet ready to create a checkout flow',
  classification: 'merchant'
}, {
  code: 'paypal-braintree-api-error',
  message: 'Braintree API experienced an error',
  classification: 'internal'
}, {
  code: 'venmo-braintree-api-error',
  message: 'Braintree API experienced an error',
  classification: 'internal'
}, {
  code: 'venmo-braintree-tokenize-braintree-error',
  message: 'An error occurred while attempting to generate the Braintree token',
  classification: 'internal'
}, {
  code: 'venmo-braintree-tokenize-recurly-error',
  message: 'An error occurred while attempting to generate the Braintree token within Recurly',
  classification: 'internal'
}, {
  code: 'paypal-braintree-tokenize-braintree-error',
  message: 'An error occurred while attempting to generate the Braintree token',
  classification: 'internal'
}, {
  code: 'paypal-braintree-tokenize-recurly-error',
  message: 'An error occurred while attempting to generate the Braintree token within Recurly',
  classification: 'internal'
}, {
  code: 'adyen-error',
  message: "An error occurred within your Adyen checkout process. Please refer to the\n              cause property for more detail.",
  classification: 'internal'
}, {
  code: '3ds-vendor-load-error',
  message: function message(c) {
    return "An error occurred while loading a dependency from ".concat(c.vendor, ". Please refer\n                   to the cause property for more detail.");
  },
  classification: 'internal'
}, {
  code: '3ds-auth-error',
  message: "We were unable to authenticate your payment method. Please choose a different payment\n              method and try again.",
  classification: 'internal'
}, {
  code: '3ds-result-tokenization-error',
  message: "An error occurred while attempting to tokenize 3D Secure results.\n              Please refer to the cause property for more detail.",
  classification: 'api'
}, {
  code: 'risk-preflight-timeout',
  message: function message(c) {
    return "recurly.Risk timeout out in preflight procedure for ".concat(c.processor, ". Skipping.");
  },
  classification: 'internal'
}];
/**
 * Error directory
 *
 * @param {Recurly} recurly instance
 */

var ErrorDirectory =
/*#__PURE__*/
function () {
  function ErrorDirectory() {
    _classCallCheck(this, ErrorDirectory);

    this.ERROR_MAP = ERRORS.reduce(function (memo, definition) {
      memo[definition.code] = recurlyErrorFactory(definition);
      return memo;
    }, {});
  }
  /**
   * Retrieves an error from the directory
   *
   * @param {String} code
   * @param {Object} [context] arbitrary error property dictionary
   * @param {Object} [options]
   * @param {Reporter} [options.reporter] Reporter instance to report errors
   * @return {RecurlyError}
   * @throws {Error} if the requested error is not in the directory
   */


  _createClass(ErrorDirectory, [{
    key: "get",
    value: function get(code) {
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 ? arguments[2] : undefined;

      if (!(code in this.ERROR_MAP)) {
        throw new Error("invalid error: ".concat(code));
      } else {
        return new this.ERROR_MAP[code](context, options);
      }
    }
  }]);

  return ErrorDirectory;
}();
/**
 * Generates a function which binds error properties to a RecurlyError
 *
 * @param {Object} definition
 * @return {Function}
 */


function recurlyErrorFactory(definition) {
  var code = definition.code,
      message = definition.message,
      help = definition.help;
  /**
   * Recurly domain-specific error class
   *
   * Provides helpful context to runtime errors. Logs errors.
   *
   * @param {String} code error code
   * @param {String} message error message
   * @param {Object} context suplementary error data
   * @param {Object} [options]
   * @param {Reporter} [options.reporter] Reporter instance used to report an error
   * @param {String} [help] documentation reference
   */

  function RecurlyError() {
    var context = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        reporter = _ref.reporter;

    this.code = this.name = code;

    if (message instanceof Function) {
      this.message = message(context);
    } else {
      this.message = message;
    }

    this.message = string_squish__WEBPACK_IMPORTED_MODULE_1___default()(this.message);

    _extends(this, context);

    if (help) {
      this.help = BASE_URL + help;
      this.message += " (need help? ".concat(this.help, ")");
    }

    if (reporter instanceof _reporter__WEBPACK_IMPORTED_MODULE_0__["Reporter"]) {
      // Warning: any errors that occur in this code path risk
      // a stack overflow if they include a reporter
      reporter.send('error', {
        code: code,
        context: context
      });
    }
  }

  RecurlyError.prototype = new Error();
  return RecurlyError;
}

var errorDirectory = new ErrorDirectory();
/**
 * Exported singleton proxy
 *
 * See ErrorDirectory.get
 */

function error() {
  if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof Error) return arguments.length <= 0 ? undefined : arguments[0];
  return errorDirectory.get.apply(errorDirectory, arguments);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/frame.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/frame.js ***!
  \******************************************************/
/*! exports provided: factory, Frame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return Frame; });
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! qs */ "./node_modules/recurly.js/node_modules/qs/lib/index.js");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:frame');
/**
 * Options for Frame
 *
 * @typedef {Object} FrameOptions
 * @property {Recurly} recurly
 * @property {String} path            API endpoint to load
 * @property {Object} payload         Message payload to deliver to endpoint
 * @property {TYPE} [type=Frame.TYPES.WINDOW]          window or iframe
 * @property {HTMLElement} container  only valid for type='iframe' --
 *                                      attaches iframe to this container
 * @property {Number} [height=450]    frame height
 * @property {Number} [width=535]     frame width
 */

/**
 * Frame factory. Binds the caller to the `recurly` {FrameOptions} property
 *
 * @public
 * @param {FrameOptions} options
 *
 * @return {Frame}
 */


function factory(options) {
  options = _extends({}, options, {
    recurly: this
  });
  return new Frame(options);
}
/**
 * Issues an API request to a popup window.
 *
 * @param {FrameOptions} options
 */

var Frame =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Frame, _Emitter);

  function Frame(_ref) {
    var _this;

    var recurly = _ref.recurly,
        path = _ref.path,
        _ref$payload = _ref.payload,
        payload = _ref$payload === void 0 ? {} : _ref$payload,
        options = _objectWithoutProperties(_ref, ["recurly", "path", "payload"]);

    _classCallCheck(this, Frame);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Frame).call(this));
    _this.recurly = recurly;
    _this.id = "".concat(_this.recurly.id, "-").concat(Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])());
    _this.name = "recurly-frame-".concat(_this.id);
    _this.config = options;

    _this.prepare(path, payload);

    _this.listen();

    return _this;
  }
  /**
   * Whether this Frame is to be rendered as an iframe
   * @type {Boolean}
   */


  _createClass(Frame, [{
    key: "prepare",

    /**
     * Prepares the url and payload prior to launching the Frame
     *
     * @private
     * @param {String} path - API path to load
     * @param {Object} payload - Request payload
     */
    value: function prepare(path, payload) {
      var _this2 = this;

      var name = this.name,
          recurly = this.recurly;
      debug('creating request frame');
      payload.version = recurly.version;
      payload.event = name;
      payload.key = recurly.config.publicKey;

      var ev = function ev(res) {
        _this2.removeRelay();

        if (res.error) {
          _this2.emit('error', res.error);
        } else {
          _this2.emit('done', res);
        }

        _this2.destroy();
      };

      this.once(payload.event, ev);

      if (this.defaultEventName) {
        this.once(this.defaultEventName, ev);
      }

      this.url = this.recurly.url(path);
      this.url += (~this.url.indexOf('?') ? '&' : '?') + qs__WEBPACK_IMPORTED_MODULE_0___default.a.stringify(payload, {
        encodeValuesOnly: true
      });
      this.once('destroy', function () {
        return _this2.destroy();
      });
    }
    /**
     * Adds the Frame to the Bus and creates a relay if necessary
     *
     * @private
     */

  }, {
    key: "listen",
    value: function listen() {
      var _this3 = this;

      this.recurly.bus.add(this); // IE (including 11) will not allow communication between windows;
      // thus we must create a frame relay

      if ('documentMode' in document) {
        debug('creating relay');
        var relay = document.createElement('iframe');
        relay.width = relay.height = 0;
        relay.src = this.recurly.url('/relay');
        relay.name = "recurly-relay-".concat(this.id);
        relay.style.display = 'none';

        relay.onload = function () {
          return _this3.create();
        };

        window.document.body.appendChild(relay);
        this.relay = relay;
        debug('created relay', relay);
      } else {
        this.create();
      }
    }
    /**
     * Initiates creation of the frame
     *
     * @private
     */

  }, {
    key: "create",
    value: function create() {
      if (this.isIframe) this.createIFrame();else this.createWindow();
    }
    /**
     * Creates a new window (popup)
     *
     * @private
     */

  }, {
    key: "createWindow",
    value: function createWindow() {
      var name = this.name,
          url = this.url,
          windowAttributes = this.windowAttributes;
      this.window = window.open(url, name, windowAttributes);
      debug('opening window', this.window, url, name, windowAttributes);
      this.bindWindowCloseListener();
    }
    /**
     * Creates a new iframe
     *
     * @private
     */

  }, {
    key: "createIFrame",
    value: function createIFrame() {
      var container = this.container,
          url = this.url;
      var iframe = document.createElement('iframe');

      if (!(container instanceof HTMLElement)) {
        throw new Error("Invalid container. Expected HTMLElement, got ".concat(_typeof(container)));
      }

      iframe.src = url;
      iframe.setAttribute('allowtransparency', 'true');
      iframe.setAttribute('border', '0');
      iframe.setAttribute('frameborder', '0');
      iframe.setAttribute('scrolling', 'no');
      iframe.setAttribute('style', 'background: transparent; width: 100%; height: 100%;');
      container.appendChild(iframe);
      this.iframe = iframe;
      debug('created iframe and attached to', container);
    }
    /**
     * Destroys the frame
     *  - closes the window or removes the iframe
     *  - removes listeners
     *  - instructs instance to remove any existing relay
     *
     * @private
     */

  }, {
    key: "destroy",
    value: function destroy() {
      var iframe = this.iframe,
          frameWindow = this.window;

      if (iframe) {
        var parentElement = iframe.parentElement;
        if (parentElement) parentElement.removeChild(iframe);
        delete this.iframe;
      } else if (frameWindow) {
        if (frameWindow.close) frameWindow.close();
        this.removeWindowCloseListener();
      }

      this.off();
      this.removeRelay();
    }
    /**
     * Removes any existing relay
     *
     * @private
     */

  }, {
    key: "removeRelay",
    value: function removeRelay() {
      if (!this.relay) return;
      if (!window.document.body.contains(this.relay)) return;
      window.document.body.removeChild(this.relay);
    }
  }, {
    key: "bindWindowCloseListener",
    value: function bindWindowCloseListener() {
      var _this4 = this;

      var tick = this.windowCloseListenerTick = setInterval(function () {
        if (!_this4.window) {
          return clearInterval(tick);
        }

        if (_this4.window.closed) {
          debug('detected frame window closure. Destroying.', _this4.window);

          _this4.emit('close');

          _this4.destroy();
        }
      }, 1000);
    }
  }, {
    key: "removeWindowCloseListener",
    value: function removeWindowCloseListener() {
      var tick = this.windowCloseListenerTick;
      if (tick) clearInterval(tick);
    }
  }, {
    key: "isIframe",
    get: function get() {
      return this.type === Frame.TYPES.IFRAME;
    }
    /**
     * Default event name to listen for.
     */

  }, {
    key: "defaultEventName",
    get: function get() {
      return this.config.defaultEventName;
    }
    /**
     * Frame height from configuration
     * @type {Number}
     */

  }, {
    key: "height",
    get: function get() {
      return this.config.height || this.constructor.DEFAULTS.height;
    }
    /**
     * Frame width from configuration
     * @type {Number}
     */

  }, {
    key: "width",
    get: function get() {
      return this.config.width || this.constructor.DEFAULTS.width;
    }
    /**
     * Frame type from configuration
     * @type {String}
     */

  }, {
    key: "type",
    get: function get() {
      return this.config.type || this.constructor.DEFAULTS.type;
    }
    /**
     * Frame container element
     * @type {HTMLElement}
     */

  }, {
    key: "container",
    get: function get() {
      return this.config.container;
    }
    /**
     * Idomatic list of window attributes meant for a `window.open`` call
     * @type {String}
     */

  }, {
    key: "windowAttributes",
    get: function get() {
      var width = this.width,
          height = this.height,
          top = this.top,
          left = this.left;
      return "resizable,scrollbars,width=".concat(width, ",height=").concat(height, ",top=").concat(top, ",left=").concat(left);
    }
    /**
     * Calculated window top position in order to place a new window above the center
     * of the parent viewport
     *
     * @type {Number}
     */

  }, {
    key: "top",
    get: function get() {
      var outerHeight = window.outerHeight || window.document.documentElement.clientHeight;
      var outerTop = window.screenY === null ? window.screenTop : window.screenY;
      return center(outerHeight, this.height, outerTop);
    }
    /**
     * Calculated window left position in order to place a new window above the center
     * of the parent viewport
     *
     * @type {Number}
     */

  }, {
    key: "left",
    get: function get() {
      var outerWidth = window.outerWidth || window.document.documentElement.clientWidth;
      var outerLeft = window.screenX === null ? window.screenLeft : window.screenX;
      return center(outerWidth, this.width, outerLeft);
    }
  }]);

  return Frame;
}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);
/**
 * Calculates the center position given screen and window dimensions
 *
 * @param {Number} outer
 * @param {Number} inner
 * @param {Number} offset
 *
 * @return {Number} center position
 */

_defineProperty(Frame, "TYPES", {
  WINDOW: 0,
  IFRAME: 1
});

_defineProperty(Frame, "DEFAULTS", {
  height: 535,
  width: 450,
  type: Frame.TYPES.WINDOW
});

function center(outer, inner, offset) {
  return (outer - inner) / 2 + offset;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/fraud.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/fraud.js ***!
  \******************************************************/
/*! exports provided: Fraud */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Fraud", function() { return Fraud; });
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:fraud');

var Fraud =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Fraud, _Emitter);

  function Fraud(recurly) {
    var _this;

    _classCallCheck(this, Fraud);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Fraud).call(this));
    _this.recurly = recurly;
    _this.dataCollectorInitiated = false;
    _this.attachedNodes = [];

    if (_this.shouldCollectData) {
      recurly.ready(_this.attachDataCollector.bind(_assertThisInitialized(_this)));
    }

    return _this;
  }

  _createClass(Fraud, [{
    key: "params",

    /**
     * gets the fraud params present including injected form fields
     * as well as grabbing litle session id if configured
     */
    value: function params(data) {
      var fraudConfig = this.recurly.config.fraud;
      var fraudParams = [];

      if (fraudConfig.kount.dataCollector && data.fraud_session_id) {
        fraudParams.push({
          processor: 'kount',
          session_id: data.fraud_session_id
        });
      }

      if (fraudConfig.litle.sessionId) {
        fraudParams.push({
          processor: 'litle_threat_metrix',
          session_id: fraudConfig.litle.sessionId
        });
      }

      if (fraudConfig.braintree.deviceData) {
        fraudParams.push({
          processor: 'braintree',
          session_id: fraudConfig.braintree.deviceData
        });
      }

      return fraudParams;
    }
    /**
     * requests the data collector form fields from the
     * Recurly server and injects them into the payment form
     */

  }, {
    key: "attachDataCollector",
    value: function attachDataCollector() {
      var _this2 = this;

      if (this.dataCollectorInitiated) return;
      this.dataCollectorInitiated = true;
      this.recurly.request.get({
        route: '/risk/info',
        done: function done(error, response) {
          debug('risk info', error, response);

          if (error) {
            return _this2.emit('error', Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('fraud-data-collector-request-failed', {
              error: error
            }));
          }

          var profiles = response.profiles;
          profiles.forEach(function (profile) {
            var processor = profile.processor,
                params = profile.params;

            if (processor === 'kount') {
              var configuredForm = _this2.recurly.config.fraud.kount.form;
              var scriptElement = document.createElement('script');
              var initializerElement = document.createElement('div');
              var sessionIdInputElement = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createHiddenInput({
                'data-recurly': 'fraud_session_id',
                'value': params.session_id
              });

              var initialize = function initialize() {
                if (!window.ka) {
                  return _this2.emit('error', Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('fraud-data-collector-request-failed', {
                    error: 'Kount SDK failed to load.'
                  }));
                } // eslint-disable-next-line no-undef


                var client = new ka.ClientSDK();
                client.autoLoadEvents();
              };

              scriptElement.setAttribute('src', params.script_url);
              scriptElement.onload = initialize;
              initializerElement.className = 'kaxsdc';
              initializerElement.setAttribute('data-event', 'load');

              var form = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(configuredForm) || _this2.getHostedFieldParentForm();

              if (form) {
                var nodes = [sessionIdInputElement, scriptElement, initializerElement];
                nodes.forEach(function (node) {
                  return form.appendChild(node);
                });
                _this2.attachedNodes = nodes;
              }

              _this2.emit('ready');
            }
          });
        }
      });
    }
    /**
     * Attempts to discover a form element using the assumed configuration of
     * hosted fields as a basis for DOM tree upward traversal
     *
     * @return {HTMLFormElement}
     * @throws {RecurlyError} if a form cannot be discovered
     */

  }, {
    key: "getHostedFieldParentForm",
    value: function getHostedFieldParentForm() {
      if (this._form) return this._form;
      var fields = this.recurly.config.fields;
      var selectors = Object.keys(fields).map(function (name) {
        return fields[name].selector;
      }).filter(Boolean);
      var form;
      component_find__WEBPACK_IMPORTED_MODULE_0___default()(selectors, function (selector) {
        var node = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.findNodeInParents(window.document.querySelector(selector), 'form');
        if (_util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(node)) form = node;
      });

      if (form) {
        return this._form = form;
      } else {
        var missingFormError = Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('fraud-data-collector-missing-form', {
          selectors: selectors
        });
        this.emit('error', missingFormError);
      }
    }
    /**
     * Removes any attached data collectors
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.attachedNodes.forEach(function (node) {
        if (!node.parentElement) return;
        node.parentElement.removeChild(node);
      });
    }
  }, {
    key: "shouldCollectData",
    get: function get() {
      return !!this.recurly.config.fraud.kount.dataCollector;
    }
  }]);

  return Fraud;
}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/gift-card.js":
/*!**********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/gift-card.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return giftCard; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }



var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:giftcard');
/**
 * giftCard
 *
 * Retrieves giftCard pricing info based on a redemption code. The `callback` signature
 * is `err, gift_card` where `err` may be a request or server error and `gift_card` is
 * giftcard pricing data.
 *
 * @param {Object} options
 * @param {String} options.code Gift card redemption code
 * @param {Function} callback
 */


function giftCard(options, done) {
  debug('%j', options);

  if (typeof done !== 'function') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('missing-callback');
  }

  if (_typeof(options) !== 'object') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('invalid-options');
  } // DEPRECATED: 'options.giftcard'


  var code = options.code || options.giftcard;

  if (!code) {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('invalid-option', {
      name: 'code',
      expect: 'a String'
    });
  }

  var route = "/gift_cards/".concat(code);
  this.request.get({
    route: route,
    data: options,
    done: done
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/hosted-field.js":
/*!*************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/hosted-field.js ***!
  \*************************************************************/
/*! exports provided: HostedField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HostedField", function() { return HostedField; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var bowser = __webpack_require__(/*! bowser */ "./node_modules/recurly.js/node_modules/bowser/src/bowser.js");

var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:hostedField');
/**
 * HostedField
 *
 * @constructor
 * @param {Object} options
 * @param {String} options.selector target selector
 * @private
 */


var HostedField =
/*#__PURE__*/
function (_Emitter) {
  _inherits(HostedField, _Emitter);

  function HostedField(options) {
    var _this;

    _classCallCheck(this, HostedField);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(HostedField).call(this));
    _this.onReady = _this.onReady.bind(_assertThisInitialized(_this));
    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));
    _this.onConfigure = _this.onConfigure.bind(_assertThisInitialized(_this));
    _this.onStateChange = _this.onStateChange.bind(_assertThisInitialized(_this));
    _this.focus = _this.focus.bind(_assertThisInitialized(_this));
    _this.destroy = _this.destroy.bind(_assertThisInitialized(_this));
    _this.ready = false;
    _this.state = {};

    _this.configure(options);

    _this.inject();

    _this.bindDeferredFocus();

    _this.on('bus:added', function (bus) {
      _this.bus = bus;

      _this.bus.add(_this.window);
    });

    _this.on('hostedField:ready', _this.onReady);

    _this.on('hostedField:change', _this.onChange);

    _this.on('hostedField:configure', _this.onConfigure);

    _this.on('hostedField:state:change', _this.onStateChange);

    _this.once('destroy', _this.destroy);

    return _this;
  }

  _createClass(HostedField, [{
    key: "integrityCheck",

    /**
     * Checks that the elements necessary to display the hostedField are in the document.body
     *
     * @return {Boolean}
     */
    value: function integrityCheck() {
      var els = [this.target, this.container, this.iframe];
      var present = document.body.contains.bind(document.body);
      return !~els.map(present).indexOf(false);
    } // Private

  }, {
    key: "configure",
    value: function configure(options) {
      options = component_clone__WEBPACK_IMPORTED_MODULE_1___default()(options);
      if (!this.target) this.target = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.element(window.document.querySelector(options.selector));

      if (!this.target) {
        var _options = options,
            type = _options.type,
            selector = _options.selector;
        throw Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('missing-hosted-field-target', {
          type: type,
          selector: selector
        });
      }

      this.config = options;
    }
  }, {
    key: "inject",
    value: function inject() {
      this.target.innerHTML = "\n      <div class=\"".concat(this.classList, "\">\n        <iframe\n          src=\"").concat(this.url, "\"\n          allowtransparency=\"true\"\n          border=\"0\"\n          frameborder=\"0\"\n          scrolling=\"no\"\n          style=\"background: transparent; width: 100%; height: 100%;\">\n        </iframe>\n      </div>\n    ");
      this.container = this.target.children[0];
      this.iframe = this.container.querySelector('iframe');
      this.window = this.iframe.contentWindow; // Inject mobile tabbing proxy before the iframe

      if (isMobile()) {
        this.tabbingProxy = _util_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createHiddenInput();
        this.tabbingProxy.addEventListener('focus', this.focus);
        this.container.insertBefore(this.tabbingProxy, this.iframe);
      }
    }
    /**
     * Binds focus on the following elements to the `focus!` event on the hosted field
     *  - the container element
     *  - `<label>` elements with a `for` attribute matching the target `id` attribute
     *
     * @private
     */

  }, {
    key: "bindDeferredFocus",
    value: function bindDeferredFocus() {
      var _this2 = this;

      this.container.addEventListener('click', this.focus);
      if (!this.target.id) return;
      var labels = window.document.querySelectorAll("label[for=".concat(this.target.id, "]"));
      [].slice.apply(labels).forEach(function (label) {
        label.addEventListener('click', _this2.focus);
      });
    }
    /**
     * Removes listeners, and clears references
     *
     * @private
     */

  }, {
    key: "destroy",
    value: function destroy() {
      debug("destroying ".concat(this.type, " hosted field"), this);
      this.off();

      if (this.bus) {
        this.bus.remove(this.window);
        this.bus.remove(this);
      }

      if (this.target) this.target.innerHTML = '';
      delete this.target;
      delete this.container;
      delete this.iframe;
      delete this.window;
    }
  }, {
    key: "update",
    value: function update() {
      this.container.className = this.classList;
      this.iframe.setAttribute('tabindex', this.tabIndex);
    }
  }, {
    key: "onReady",
    value: function onReady(body) {
      if (body.type !== this.type) return;
      this.ready = true;
      this.off('hostedField:ready', this.onReady);
      this.update();
    }
  }, {
    key: "onStateChange",
    value: function onStateChange(body) {
      if (body.type !== this.type) return;

      var newState = _extends({}, body);

      delete newState.type;
      this.state = newState;
      this.update();
    }
  }, {
    key: "onChange",
    value: function onChange(body) {
      if (body.type !== this.type) return;
      this.update();
    }
  }, {
    key: "onConfigure",
    value: function onConfigure(body) {
      if (body.type !== this.type) return;
      this.configure(body);
      this.update();
    }
    /**
     * Places focus on this hosted field
     */

  }, {
    key: "focus",
    value: function focus() {
      if (!this.bus) return;
      this.bus.send("hostedField:".concat(this.type, ":focus!"));
    }
  }, {
    key: "type",
    get: function get() {
      return this.config.type;
    }
  }, {
    key: "url",
    get: function get() {
      var config = encodeURIComponent(JSON.stringify(this.config));
      return "".concat(this.config.recurly.api, "/field.html#config=").concat(config);
    }
  }, {
    key: "classList",
    get: function get() {
      var prefix = 'recurly-hosted-field';
      var classes = [prefix];

      if (this.ready) {
        classes.push("".concat(prefix, "-").concat(this.config.type));

        if (this.state.focus) {
          classes.push("".concat(prefix, "-focus"));
          classes.push("".concat(prefix, "-").concat(this.config.type, "-focus"));
        }

        if (this.state.valid) {
          classes.push("".concat(prefix, "-valid"));
          classes.push("".concat(prefix, "-").concat(this.config.type, "-valid"));
        } else if (!this.state.focus && !this.state.empty) {
          classes.push("".concat(prefix, "-invalid"));
          classes.push("".concat(prefix, "-").concat(this.config.type, "-invalid"));
        }
      }

      return classes.join(' ');
    }
  }, {
    key: "tabIndex",
    get: function get() {
      var tabIndex = parseInt(this.config.tabIndex, 10);
      return isNaN(tabIndex) ? 0 : tabIndex;
    }
  }]);

  return HostedField;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);
/**
 * Determine if user's browser is mobile or non-mobile
 * @return {Boolean} value
 */

function isMobile() {
  return bowser.mobile || bowser.tablet;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/hosted-fields.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/hosted-fields.js ***!
  \**************************************************************/
/*! exports provided: FIELD_TYPES, HostedFields */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIELD_TYPES", function() { return FIELD_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HostedFields", function() { return HostedFields; });
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tabbable */ "./node_modules/tabbable/index.js");
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tabbable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _hosted_field__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hosted-field */ "./node_modules/recurly.js/lib/recurly/hosted-field.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:hostedFields');

var FIELD_TYPES = ['number', 'month', 'year', 'cvv', 'card'];
/**
 * HostedFields
 *
 * @constructor
 * @param {Object} options
 * @param {Recurly} options.recurly Associated Recurly instance
 * @public
 */

var HostedFields =
/*#__PURE__*/
function (_Emitter) {
  _inherits(HostedFields, _Emitter);

  function HostedFields(_ref) {
    var _this;

    var recurly = _ref.recurly;

    _classCallCheck(this, HostedFields);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(HostedFields).call(this));
    _this.ready = false;
    _this.state = {};
    _this.fields = [];
    _this.errors = [];
    _this.initQueue = [];
    _this.recurly = recurly;

    _this.configure(recurly.sanitizedConfig);

    _this.inject();

    _this.on('hostedFields:configure', function (opts) {
      _this.configure(opts.recurlyConfig);

      _this.fields.forEach(function (field) {
        if (_this.bus) _this.bus.send('hostedField:configure', _this.fieldConfig(field.type));
      });
    });

    _this.on('hostedField:ready', _this.onReady.bind(_assertThisInitialized(_this)));

    _this.on('hostedField:tab:previous', function (message) {
      return _this.onTab('previous', message);
    });

    _this.on('hostedField:tab:next', function (message) {
      return _this.onTab('next', message);
    });

    _this.on('hostedField:state:change', _this.update.bind(_assertThisInitialized(_this)));

    _this.on('bus:added', function (bus) {
      _this.bus = bus;

      _this.fields.forEach(function (hf) {
        return bus.add(hf);
      });
    });

    _this.once('destroy', _this.destroy.bind(_assertThisInitialized(_this)));

    return _this;
  }
  /**
   * checks integrity of constituent fields
   * optionally compares fields configuration with current state for parity
   *
   * @param {Object} fields fields configuration to compare against
   * @return {Boolean} whether all fields are present and receivable
   */


  _createClass(HostedFields, [{
    key: "integrityCheck",
    value: function integrityCheck(fields) {
      var _this2 = this;

      if (!this.ready) return false;
      if (this.fields.length === 0) return false;

      if (fields) {
        var newSelectors = Object.keys(fields).map(function (key) {
          return fields[key].selector;
        }).join('');
        var currentSelectors = Object.keys(this.config.recurly.fields).map(function (key) {
          return _this2.config.recurly.fields[key].selector;
        }).join('');
        if (newSelectors !== currentSelectors) return false;
      }

      return !~this.fields.map(function (f) {
        return f.integrityCheck();
      }).indexOf(false);
    } // Private

    /**
     * Creates HostedField instances
     *
     * @private
     */

  }, {
    key: "inject",
    value: function inject() {
      var _this3 = this;

      FIELD_TYPES.forEach(function (type) {
        try {
          _this3.fields.push(new _hosted_field__WEBPACK_IMPORTED_MODULE_4__["HostedField"](_this3.fieldConfig(type)));

          _this3.initQueue.push(type);
        } catch (e) {
          if (e.name === 'missing-hosted-field-target') {
            if (~['number', 'month', 'year', 'card'].indexOf(type)) {
              _this3.errors.push(e);
            }
          } else {
            throw e;
          }
        }
      }); // If we have a card hosted field, clear all missing target errors.

      var cardFieldMissingErrorPresent = this.errors.some(function (e) {
        return e.type === 'card';
      });

      if (cardFieldMissingErrorPresent) {
        // If we are only missing the card field, clear the error
        var missingFieldErrors = this.errors.filter(function (e) {
          return e.name === 'missing-hosted-field-target';
        });

        if (missingFieldErrors.length === 1) {
          this.errors = this.errors.filter(function (e) {
            return !(e.name === 'missing-hosted-field-target' && e.type === 'card');
          });
        }
      } else {
        this.errors = this.errors.filter(function (e) {
          return e.name !== 'missing-hosted-field-target';
        });
      }
    }
  }, {
    key: "configure",
    value: function configure(recurlyConfig) {
      this.config = {
        recurly: component_clone__WEBPACK_IMPORTED_MODULE_0___default()(recurlyConfig || {})
      };
    }
    /**
     * Removes listeners and external references
     */

  }, {
    key: "destroy",
    value: function destroy() {
      debug('destroying HostedFields');
      this.off();
      this.ready = false;
      this.fields.forEach(function (field) {
        return field.destroy();
      });
      if (this.bus) this.bus.remove(this);
      this.fields = [];
      this.errors = [];
      this.initQueue = [];
      delete this.recurly;
    }
  }, {
    key: "onReady",
    value: function onReady(body) {
      var pos = this.initQueue.indexOf(body.type);
      if (~pos) this.initQueue.splice(pos, 1);

      if (this.initQueue.length === 0) {
        this.off('hostedField:ready', this.onReady);
        this.bus.send('hostedFields:ready');
        this.ready = true;
      }

      this.update(body);
    }
  }, {
    key: "onTab",
    value: function onTab(direction, message) {
      var origin = this.getFieldByType(message.type);
      if (!(origin instanceof _hosted_field__WEBPACK_IMPORTED_MODULE_4__["HostedField"])) return; // Find the origin within the tabbable list, and focus in our intended direction

      var tabbableItems = this.tabbableItems();
      var pos = tabbableItems.indexOf(origin.tabbingProxy);
      var destination = direction === 'previous' ? tabbableItems[pos - 1] : tabbableItems[pos + 1];
      if (destination) destination.focus();
    }
    /**
     * Provides an Array of tabbable Elements in the document body,
     * excluding those which correspond to hosted field iframes
     * @return {Array} Elements
     */

  }, {
    key: "tabbableItems",
    value: function tabbableItems() {
      var fieldFrames = this.fields.map(function (f) {
        return f.iframe;
      });
      return tabbable__WEBPACK_IMPORTED_MODULE_3___default()(window.document.body).filter(function (el) {
        return !~fieldFrames.indexOf(el);
      });
    }
  }, {
    key: "update",
    value: function update(body) {
      var newState = _extends({}, body);

      delete newState.type;
      this.state[body.type] = newState;
      if (!this.ready) return;
      this.bus.send('hostedFields:state:change', this.state);
    }
  }, {
    key: "fieldConfig",
    value: function fieldConfig(type) {
      var fields = this.config.recurly.fields;
      var field = fields[type];
      var busGroupId = this.recurly.bus.groupId;
      var _this$config = this.config,
          deviceId = _this$config.deviceId,
          sessionId = _this$config.sessionId;
      var displayIcon = field.displayIcon,
          inputType = field.inputType,
          selector = field.selector;
      if (!fields[type]) return;
      return {
        type: type,
        deviceId: deviceId,
        sessionId: sessionId,
        busGroupId: busGroupId,
        displayIcon: displayIcon,
        inputType: inputType,
        selector: selector,
        format: typeof field.format === 'boolean' ? field.format : fields.all.format,
        recurly: this.config.recurly,
        style: Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, fields.all.style, field.style),
        tabIndex: typeof fields.all.tabIndex === 'number' ? fields.all.tabIndex : field.tabIndex
      };
    }
  }, {
    key: "getFieldByType",
    value: function getFieldByType(type) {
      return this.fields.filter(function (f) {
        return f.config.type === type;
      })[0];
    }
  }]);

  return HostedFields;
}(component_emitter__WEBPACK_IMPORTED_MODULE_2___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/item.js":
/*!*****************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/item.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return item; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");


var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:item');
/**
 * Item
 *
 * Retrieves item pricing info based on an item code.
 *
 * @param {Object} options
 * @param {String} options.itemCode
 * @return {Promise}
 */


function item() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      itemCode = _ref.itemCode;

  debug(itemCode);

  if (typeof itemCode !== 'string') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('invalid-option', {
      name: 'itemCode',
      expect: 'a String'
    });
  }

  return this.request.get({
    route: "/items/".concat(itemCode),
    cached: true
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/message.js":
/*!********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/message.js ***!
  \********************************************************/
/*! exports provided: Message */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Message", function() { return Message; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// eslint-disable-next-line
var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:message');
/**
 * Message
 *
 * @param {String|Message|MessageEvent} event message event name or Message or MessageEvent
 * @param {Object} body message contents
 */


var Message =
/*#__PURE__*/
function () {
  function Message(event) {
    var body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var groupId = arguments.length > 2 ? arguments[2] : undefined;

    _classCallCheck(this, Message);

    if (event instanceof Message) return event;
    this.event = event;
    this.body = body;
    this.groupId = groupId;
  }
  /**
   * Creates a message from a window.MessageEvent
   *
   * @param  {MessageEvent} messageEvent
   * @return {Message}
   */


  _createClass(Message, null, [{
    key: "createFromMessageEvent",
    value: function createFromMessageEvent(messageEvent) {
      var debug = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : debug;
      var data = messageEvent.data; // Parse a MessageEvent which originates from a relay

      if (typeof data === 'string') {
        debug('attempting to parse a relay-like message', data);
        data = dataFromRelayMessageEvent(messageEvent, debug);
      }

      if (!data) return;
      return new Message(data.event, data.body, data.groupId);
    }
  }]);

  return Message;
}();
/**
 * Parses a messageEvent coming from a Frame relay
 *
 * NOTE: groupId is not handled because Frames subscribe to unique topics
 *
 * @param  {String} data message data as a JSON string
 * @return {Object} parsed message data: { event, body }
 */

function dataFromRelayMessageEvent(messageEvent, debug) {
  var data = messageEvent.data;

  try {
    data = JSON.parse(data);
  } catch (e) {
    debug('failed to parse relay message', e, messageEvent);
  }

  if (!data) {
    debug('no data in relay message');
    return;
  }

  return {
    event: data.recurly_event,
    body: data.recurly_message
  };
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/paypal/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/paypal/index.js ***!
  \*************************************************************/
/*! exports provided: factory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _strategy_direct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/direct */ "./node_modules/recurly.js/lib/recurly/paypal/strategy/direct.js");
/* harmony import */ var _strategy_braintree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy/braintree */ "./node_modules/recurly.js/lib/recurly/paypal/strategy/braintree.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal');
/**
 * PayPal instantiation factory
 *
 * @param {Object} options
 * @return {PayPal}
 */


function factory(options) {
  options = _extends({}, options, {
    recurly: this
  });
  return new PayPal(options);
}
var DEFERRED_EVENTS = ['ready', 'token', 'error', 'cancel'];
/**
 * PayPal strategy interface
 */

var PayPal =
/*#__PURE__*/
function (_Emitter) {
  _inherits(PayPal, _Emitter);

  function PayPal(options) {
    var _this;

    _classCallCheck(this, PayPal);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PayPal).call(this));
    _this.isReady = false;
    _this.options = options;

    _this.once('ready', function () {
      return _this.isReady = true;
    });

    if (options.braintree) {
      _this.strategy = new _strategy_braintree__WEBPACK_IMPORTED_MODULE_2__["BraintreeStrategy"](options);

      _this.strategy.onFail(_this.fallback.bind(_assertThisInitialized(_this)));
    } else {
      _this.strategy = new _strategy_direct__WEBPACK_IMPORTED_MODULE_1__["DirectStrategy"](options);
    }

    _this.bindStrategy();

    return _this;
  }

  _createClass(PayPal, [{
    key: "ready",
    value: function ready(done) {
      if (this.isReady) done();else this.once('ready', done);
    }
  }, {
    key: "start",
    value: function start() {
      var _this$strategy;

      return (_this$strategy = this.strategy).start.apply(_this$strategy, arguments);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      var strategy = this.strategy;

      if (strategy) {
        strategy.destroy();
        delete this.strategy;
      }

      this.off();
    }
    /**
     * Handles strategy failure scenario
     *
     * @private
     */

  }, {
    key: "fallback",
    value: function fallback() {
      var _this2 = this;

      debug('Initializing strategy fallback');

      var strategyOptions = _extends({}, this.options);

      delete strategyOptions.braintree;
      this.strategy = new _strategy_direct__WEBPACK_IMPORTED_MODULE_1__["DirectStrategy"](strategyOptions);
      this.bindStrategy();
      this.strategy.ready(function () {
        return _this2.emit('ready');
      });
    }
    /**
     * Binds external interface events to those on the strategy
     *
     * @private
     */

  }, {
    key: "bindStrategy",
    value: function bindStrategy() {
      var _this3 = this;

      DEFERRED_EVENTS.forEach(function (ev) {
        return _this3.strategy.on(ev, _this3.emit.bind(_this3, ev));
      });
    }
  }]);

  return PayPal;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/paypal/strategy/braintree.js":
/*!**************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/paypal/strategy/braintree.js ***!
  \**************************************************************************/
/*! exports provided: BRAINTREE_CLIENT_VERSION, BraintreeStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BRAINTREE_CLIENT_VERSION", function() { return BRAINTREE_CLIENT_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BraintreeStrategy", function() { return BraintreeStrategy; });
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_after__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/after */ "./node_modules/recurly.js/lib/util/after.js");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ "./node_modules/recurly.js/lib/recurly/paypal/strategy/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal:strategy:braintree');

var BRAINTREE_CLIENT_VERSION = '3.76.0';
/**
 * Braintree-specific PayPal handler
 */

var BraintreeStrategy =
/*#__PURE__*/
function (_PayPalStrategy) {
  _inherits(BraintreeStrategy, _PayPalStrategy);

  function BraintreeStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, BraintreeStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BraintreeStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.load();

    return _this;
  }

  _createClass(BraintreeStrategy, [{
    key: "configure",
    value: function configure(options) {
      _get(_getPrototypeOf(BraintreeStrategy.prototype), "configure", this).call(this, options);

      if (!options.braintree || !options.braintree.clientAuthorization) {
        throw this.error('paypal-config-missing', {
          opt: 'braintree.clientAuthorization'
        });
      }

      this.config.clientAuthorization = options.braintree.clientAuthorization;
    }
    /**
     * Loads Braintree client and modules
     *
     * @todo semver client detection
     */

  }, {
    key: "load",
    value: function load() {
      var _this2 = this;

      debug('loading Braintree libraries');
      var part = Object(_util_after__WEBPACK_IMPORTED_MODULE_1__["default"])(2, function () {
        return _this2.initialize();
      });

      var get = function get(lib) {
        var done = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
        var uri = "https://js.braintreegateway.com/web/".concat(BRAINTREE_CLIENT_VERSION, "/js/").concat(lib, ".min.js");
        load_script__WEBPACK_IMPORTED_MODULE_0___default()(uri, function (error) {
          if (error) _this2.error('paypal-load-error', {
            cause: error
          });else done();
        });
      };

      var modules = function modules() {
        if (_this2.braintreeClientAvailable('paypal')) part();else get('paypal', part);
        if (_this2.braintreeClientAvailable('dataCollector')) part();else get('data-collector', part);
      };

      if (this.braintreeClientAvailable()) modules();else get('client', modules);
    }
    /**
     * Initializes a Braintree client, device data collection module, and paypal client
     */

  }, {
    key: "initialize",
    value: function initialize() {
      var _this3 = this;

      debug('Initializing Braintree client');
      var authorization = this.config.clientAuthorization;
      var braintree = window.braintree;
      braintree.client.create({
        authorization: authorization
      }, function (error, client) {
        if (error) return _this3.fail('paypal-braintree-api-error', {
          cause: error
        });
        debug('Braintree client created');
        braintree.dataCollector.create({
          client: client,
          paypal: true
        }, function (error, collector) {
          if (error) return _this3.fail('paypal-braintree-api-error', {
            cause: error
          });
          debug('Device data collector created');
          _this3.deviceFingerprint = collector.deviceData;
          braintree.paypal.create({
            client: client
          }, function (error, paypal) {
            if (error) return _this3.fail('paypal-braintree-api-error', {
              cause: error
            });
            debug('PayPal client created');
            _this3.paypal = paypal;

            _this3.emit('ready');
          });
        });
      });
    }
  }, {
    key: "start",
    value: function start() {
      var _this4 = this;

      var tokenOpts = _extends({}, this.config.display, {
        flow: 'vault'
      }); // Tokenize with Braintree


      var _this$paypal$tokenize = this.paypal.tokenize(tokenOpts, function (error, payload) {
        if (error) {
          if (error.code === 'PAYPAL_POPUP_CLOSED') return _this4.emit('cancel');
          return _this4.error('paypal-braintree-tokenize-braintree-error', {
            cause: error
          });
        }

        debug('Token payload received', payload);

        if (_this4.deviceFingerprint) {
          payload.deviceFingerprint = _this4.deviceFingerprint;
        } // Tokenize with Recurly


        _this4.recurly.request.post({
          route: '/paypal/token',
          data: {
            type: 'braintree',
            payload: payload
          },
          done: function done(error, token) {
            if (error) return _this4.error('paypal-braintree-tokenize-recurly-error', {
              cause: error
            });

            _this4.emit('token', token);
          }
        });
      }),
          close = _this$paypal$tokenize.close;

      this.close = close;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this.close) {
        this.close();
      }

      this.off();
    }
  }, {
    key: "braintreeClientAvailable",
    value: function braintreeClientAvailable(module) {
      var bt = window.braintree;
      return bt && bt.client && bt.client.VERSION === BRAINTREE_CLIENT_VERSION && (module ? module in bt : true);
    }
  }]);

  return BraintreeStrategy;
}(_index__WEBPACK_IMPORTED_MODULE_2__["PayPalStrategy"]);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/paypal/strategy/direct.js":
/*!***********************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/paypal/strategy/direct.js ***!
  \***********************************************************************/
/*! exports provided: DirectStrategy, deprecated */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectStrategy", function() { return DirectStrategy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deprecated", function() { return deprecated; });
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ "./node_modules/recurly.js/lib/recurly/paypal/strategy/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal:strategy:direct');
/**
 * Direct PayPal Express Checkout strategy
 */


var DirectStrategy =
/*#__PURE__*/
function (_PayPalStrategy) {
  _inherits(DirectStrategy, _PayPalStrategy);

  function DirectStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, DirectStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DirectStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.emit('ready');

    return _this;
  }

  _createClass(DirectStrategy, [{
    key: "start",
    value: function start() {
      var _this2 = this;

      var payload = this.payload;
      var frame = this.frame = this.recurly.Frame({
        path: '/paypal/start',
        payload: payload
      });
      frame.once('done', function (token) {
        return _this2.emit('token', token);
      });
      frame.once('close', function () {
        return _this2.emit('cancel');
      });
      frame.once('error', function (cause) {
        if (cause.code === 'paypal-cancel') _this2.emit('cancel');

        _this2.error('paypal-tokenize-error', {
          cause: cause
        });
      });
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this.frame) {
        this.frame.destroy();
      }

      this.off();
    }
  }, {
    key: "payload",
    get: function get() {
      var payload = {
        description: this.config.display.displayName
      };
      if (this.config.display.amount) payload.amount = this.config.display.amount;
      if (this.config.display.logoImageUrl) payload.logoImageUrl = this.config.display.logoImageUrl;
      if (this.config.display.headerImageUrl) payload.headerImageUrl = this.config.display.headerImageUrl;
      return payload;
    }
  }]);

  return DirectStrategy;
}(_index__WEBPACK_IMPORTED_MODULE_0__["PayPalStrategy"]);
/**
 * Deprecated Paypal method
 *
 * @deprecated
 * @param {Object} payload
 * @param {String} payload.description - transaction description
 * @param {Function} done callback
 */

function deprecated(payload, done) {
  debug('start');
  var frame = this.Frame({
    path: '/paypal/start',
    payload: payload
  });
  frame.once('error', function (error) {
    return done(error);
  });
  frame.once('done', function (token) {
    return done(null, token);
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/paypal/strategy/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/paypal/strategy/index.js ***!
  \**********************************************************************/
/*! exports provided: PayPalStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PayPalStrategy", function() { return PayPalStrategy; });
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _recurly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../recurly */ "./node_modules/recurly.js/lib/recurly.js");
/* harmony import */ var _pricing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../pricing */ "./node_modules/recurly.js/lib/recurly/pricing/index.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal:strategy');

var DISPLAY_OPTIONS = ['amount', 'currency', 'displayName', 'locale', 'enableShippingAddress', 'shippingAddressOverride', 'shippingAddressEditable', 'billingAgreementDescription', 'landingPageType', // Not compatible with Braintree options due to lack of support
'logoImageUrl', 'headerImageUrl'];
var DEFAULTS = {
  display: {
    locale: 'en_US'
  }
};
/**
 * PayPal base interface strategy
 *
 * @abstract
 */

var PayPalStrategy =
/*#__PURE__*/
function (_Emitter) {
  _inherits(PayPalStrategy, _Emitter);

  function PayPalStrategy(options) {
    var _this;

    _classCallCheck(this, PayPalStrategy);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PayPalStrategy).call(this));
    _this.isReady = false;
    _this.config = {};

    _this.once('ready', function () {
      return _this.isReady = true;
    });

    _this.configure(options);

    return _this;
  }

  _createClass(PayPalStrategy, [{
    key: "ready",
    value: function ready(done) {
      if (this.isReady) done();else this.once('ready', done);
    }
  }, {
    key: "configure",
    value: function configure(options) {
      var _this2 = this;

      if (!(options.recurly instanceof _recurly__WEBPACK_IMPORTED_MODULE_2__["Recurly"])) throw this.error('paypal-factory-only');
      this.recurly = options.recurly;
      this.config.display = {}; // PayPal EC flow display customization

      if (_typeof(options.display) === 'object') {
        this.config.display = lodash_pick__WEBPACK_IMPORTED_MODULE_0___default()(options.display, DISPLAY_OPTIONS);
      }

      if (!this.config.display.locale) this.config.display.locale = DEFAULTS.display.locale; // Bind pricing information to display options

      if (options.pricing instanceof _pricing__WEBPACK_IMPORTED_MODULE_3__["Pricing"]) {
        this.pricing = options.pricing;
        this.pricing.on('change', function () {
          return _this2.updatePriceFromPricing();
        });
        if (this.pricing.hasPrice) this.updatePriceFromPricing();
      }
    }
  }, {
    key: "initialize",
    value: function initialize() {
      debug("Method 'initialize' not implemented");
    }
    /**
     * Starts the PayPal flow
     * > must be on the call chain with a user interaction (click, touch) on it
     */

  }, {
    key: "start",
    value: function start() {
      debug("Method 'start' not implemented");
    }
  }, {
    key: "cancel",
    value: function cancel() {
      this.emit('cancel');
    }
    /**
     * Registers or immediately invokes a failure handler
     *
     * @param {Function} done Failure handler
     */

  }, {
    key: "onFail",
    value: function onFail(done) {
      if (this.failure) done();else this.once('fail', done);
    }
    /**
     * Logs and announces a failure to initialize a strategy
     *
     * @private
     * @param  {String} reason
     * @param  {Object} [options]
     */

  }, {
    key: "fail",
    value: function fail(reason, options) {
      if (this.failure) return;
      debug('Failure scenario encountered', reason, options);
      var failure = this.failure = this.error(reason, options);
      this.emit('fail', failure);
    }
    /**
     * Creates and emits a RecurlyError
     *
     * @protected
     * @param  {...Mixed} params to be passed to the Recurlyerror factory
     * @return {RecurlyError}
     * @emit 'error'
     */

  }, {
    key: "error",
    value: function error() {
      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_4__["default"].apply(void 0, arguments);
      this.emit('error', err);
      return err;
    }
    /**
     * Updates price information from a Pricing instance
     *
     * @private
     */

  }, {
    key: "updatePriceFromPricing",
    value: function updatePriceFromPricing() {
      this.config.display.amount = this.pricing.totalNow;
      this.config.display.currency = this.pricing.currencyCode;
    }
  }]);

  return PayPalStrategy;
}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/plan.js":
/*!*****************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/plan.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return plan; });
var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:plan');
/**
 * Plan
 *
 * Retrieves information for the `plan`. The `callback` signature
 * is `err, plan` where `err` may be a request or server error, and `plan`
 * is a representation of the requested plan.
 *
 * @param {String} code
 * @param {Function} done callback
 */


function plan(code, done) {
  debug('%s', code);

  if (typeof done !== 'function') {
    throw new Error('Missing callback');
  }

  if (typeof code === 'undefined' || code === '') {
    return done(new Error('Missing plan code'));
  }

  var route = "/plans/".concat(code);
  this.request.get({
    route: route,
    cached: true,
    done: done
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/checkout/attachment.js":
/*!****************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/checkout/attachment.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Attachment; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../subscription */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _util_flatten__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/flatten */ "./node_modules/recurly.js/lib/util/flatten.js");
/* harmony import */ var _util_group_by__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/group-by */ "./node_modules/recurly.js/lib/util/group-by.js");
/* harmony import */ var _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../subscription/attachment */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/attachment.js");
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }










var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing:checkout:attachment');

var INIT_RUN = 'init-all';
/**
 * Binds a DOM tree to CheckoutPricing values
 *
 * @param {CheckoutPricing} pricing
 * @param {HTMLElement} container Element on which to attach
 */

var Attachment =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Attachment, _Emitter);

  function Attachment(pricing, container) {
    var _this;

    _classCallCheck(this, Attachment);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Attachment).call(this));
    _this.pricing = pricing;
    _this.recurly = pricing.recurly;
    _this.container = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.element(container);
    if (!_this.container) throw new Error('invalid dom element');
    _this.onInputChange = _this.onInputChange.bind(_assertThisInitialized(_this));
    _this.updateOutput = _this.updateOutput.bind(_assertThisInitialized(_this));

    _this.pricing.on('change', _this.updateOutput);

    _this.elements.all.forEach(function (elem) {
      elem.addEventListener('change', _this.onInputChange);
      elem.addEventListener('propertychange', _this.onInputChange);
    });

    _this.onInputChange(INIT_RUN);

    return _this;
  }

  _createClass(Attachment, [{
    key: "onInputChange",

    /**
     * Handles input element changes
     */
    value: function onInputChange(event) {
      var _this2 = this;

      debug('onInputChange');
      var elems = this.elements; // Collect subscription properties that are not given a subscription id,
      // and assign them one, assuming they are all meant to apply to one
      // subscription

      var orphanedSubscriptionId = Object(_util_uid__WEBPACK_IMPORTED_MODULE_7__["default"])();
      Object(_util_flatten__WEBPACK_IMPORTED_MODULE_4__["default"])([elems.plan, elems.plan_quantity, elems.addon, elems.tax_code]).forEach(function (el) {
        if (!el) return;
        if (_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription')) return;
        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription', orphanedSubscriptionId);
      }); // Collect subscription elements, grouped by their ids,
      // then removes elements not paired to a subscription

      var subscriptionGroups = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__["default"])(elems.all, function (el) {
        return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlySubscription');
      });
      delete subscriptionGroups.undefined; // Remove abandoned subscriptions

      this.pricing.items.subscriptions.forEach(function (sub) {
        if (!subscriptionGroups[sub.id]) _this2.pricing.remove({
          subscription: sub
        });
      }); // Remove abandoned adjustments

      var adjustmentElemIds = (elems.adjustment || []).map(function (el) {
        return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurlyAdjustment');
      });
      this.pricing.items.adjustments.forEach(function (adj) {
        if (!~adjustmentElemIds.indexOf(adj.id)) _this2.pricing.remove({
          adjustment: adj
        });
      }); // Builds a SubscriptionPricing instance per subscription element group

      promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(Object.keys(subscriptionGroups).map(function (id) {
        var subscriptionElems = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__["default"])(subscriptionGroups[id], function (el) {
          return _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(el, 'recurly');
        }); // Look for an existing subscription for this code

        var subscription = _this2.pricing.findSubscriptionById(id);

        if (!subscription) {
          subscription = new _subscription__WEBPACK_IMPORTED_MODULE_2__["default"](_this2.recurly, {
            id: id
          });

          _this2.pricing.subscription(subscription);
        }

        var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.plan_quantity) || 1;
        return subscription // Plan
        .plan(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.plan), {
          quantity: quantity
        }).then(function () {
          // Add-ons
          if (!subscriptionElems.addon) return;
          return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(subscriptionElems.addon.map(function (addonElem) {
            var code = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(addonElem, 'recurlyAddon');
            var addonQuantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(addonElem);
            return subscription.addon(code, {
              quantity: addonQuantity
            }).catch(function (e) {
              return _this2.pricing.error(e);
            });
          }));
        }).then(function () {
          // Tax code
          if (!subscriptionElems.tax_code) return;
          return subscription.tax({
            tax_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(subscriptionElems.tax_code)
          });
        }).reprice();
      })).then(function () {
        // Adjustments
        if (!elems.adjustment) return;
        return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(elems.adjustment.map(function (adjustmentElem) {
          var id = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustment');
          var itemCode = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentItemCode');
          var amount = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentAmount');
          var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(adjustmentElem) || 0;
          var currency = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentCurrency');
          var taxCode = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentTaxCode');
          var taxExempt = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(adjustmentElem, 'recurlyAdjustmentTaxExempt');
          return _this2.pricing.adjustment({
            id: id,
            itemCode: itemCode,
            amount: amount,
            quantity: quantity,
            currency: currency,
            taxCode: taxCode,
            taxExempt: taxExempt
          });
        }));
      }).then(function () {
        // Currency
        if (!elems.currency) return;
        return _this2.pricing.currency(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency));
      }).then(function () {
        // Coupon
        if (!elems.coupon) return;
        return _this2.pricing.coupon(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.coupon).trim()).then(null, _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__["ignoreNotFound"]);
      }).then(function () {
        // Gift card
        if (!elems.gift_card) return;
        return _this2.pricing.giftCard(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.gift_card).trim()).then(null, _subscription_attachment__WEBPACK_IMPORTED_MODULE_6__["ignoreNotFound"]);
      }).then(function () {
        // Address
        if (elems.country || elems.postal_code) {
          return _this2.pricing.address({
            country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.country),
            postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.postal_code)
          });
        }
      }).then(function () {
        // Shipping Address
        if (elems['shipping_address.country'] || elems['shipping_address.postal_code']) {
          return _this2.pricing.shippingAddress({
            country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.country']),
            postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.postal_code'])
          });
        }
      }).then(function () {
        // Taxes
        var taxParams = {};

        if (elems['tax_amount.now'] || elems['tax_amount.next']) {
          taxParams.amount = {
            now: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.now']) || 0,
            next: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.next']) || 0
          };
        }

        if (elems.vat_number) taxParams.vat_number = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.vat_number);
        return _this2.pricing.tax(taxParams);
      }).then(function () {
        return _this2.pricing.reprice();
      }).then(function () {
        if (event === INIT_RUN) _this2.emit('ready');
      }).done();
    }
    /**
     * Updates output elements
     *
     * - TODO: Should there be output elements for each item in `price[when].items`?
     *
     */

  }, {
    key: "updateOutput",
    value: function updateOutput(price) {
      var _this3 = this;

      var elems = this.elements;
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_code, price.currency.code);
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_symbol, price.currency.symbol);
      ['subscriptions', 'adjustments', 'discount', 'subtotal', 'taxes', 'total'].forEach(function (value) {
        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_now'], price.now[value]);
        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_next'], price.next[value]);
      });
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['gift_card_now'], price.now.giftCard);
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['gift_card_next'], price.next.giftCard);

      if (elems.addon_price) {
        elems.addon_price.forEach(function (elem) {
          var subscriptionId = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlySubscription');

          var subscription = subscriptionId && _this3.pricing.findSubscriptionById(subscriptionId);

          if (!subscription) return;
          if (!subscription.isValid) return;
          var addonPrice = subscription.price.base.addons[_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon')];
          if (addonPrice) _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem, addonPrice);
        });
      }
    }
  }, {
    key: "detach",
    value: function detach() {
      var _this4 = this;

      this.pricing.off('change', this.updateOutput);
      this.elements.all.forEach(function (elem) {
        elem.removeEventListener('change', _this4.onInputChange);
        elem.removeEventListener('propertychange', _this4.onInputChange);
      });
    }
  }, {
    key: "elements",
    get: function get() {
      if (this._elements) return this._elements;
      var elements = {
        all: [].slice.call(this.container.querySelectorAll('[data-recurly]'))
      };
      elements.all.forEach(function (node) {
        var name = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(node, 'recurly');
        if (!(name in elements)) elements[name] = [];
        elements[name].push(node);
      });
      this._elements = elements;
      return elements;
    }
  }]);

  return Attachment;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/checkout/calculations.js":
/*!******************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/checkout/calculations.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Calculations; });
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! array-unique */ "./node_modules/array-unique/index.js");
/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(array_unique__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/decimalize-member */ "./node_modules/recurly.js/lib/util/decimalize-member.js");
/* harmony import */ var _util_group_by__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/group-by */ "./node_modules/recurly.js/lib/util/group-by.js");
/* harmony import */ var _util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/tax-ceil */ "./node_modules/recurly.js/lib/util/tax-ceil.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }








/**
 * Checkout pricing calculation handler
 *
 * @param {CheckoutPricing} pricing
 * @constructor
 * @public
 */

var Calculations =
/*#__PURE__*/
function () {
  function Calculations(pricing, done) {
    var _this = this;

    _classCallCheck(this, Calculations);

    this.pricing = pricing;
    this.items = pricing.items;
    this._itemizedSets = {
      now: {},
      next: {}
    };
    this.price = {
      now: {
        items: []
      },
      next: {
        items: []
      },
      currency: {
        code: this.pricing.currencyCode,
        symbol: this.pricing.currencySymbol
      },
      taxes: []
    }; // TODO: Instead of relying on ordering assumptions, it would be ideal to define each
    //       calculation's dependencies

    this.subscriptions().then(function () {
      return _this.adjustments();
    }).then(function () {
      return _this.discounts();
    }).then(function () {
      return _this.subtotals();
    }).then(function () {
      return _this.taxes();
    }).then(function () {
      return _this.giftCards();
    }).then(function () {
      return _this.totals();
    }).then(function () {
      return _this.itemizedSets();
    }).catch(function (err) {
      return _this.pricing.error(err);
    }).done(function () {
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(_this.price.now, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], _this.price.now);
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(_this.price.next, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], _this.price.next);

      _this.price.now.items.forEach(function (item) {
        return component_each__WEBPACK_IMPORTED_MODULE_0___default()(item, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], item);
      });

      _this.price.next.items.forEach(function (item) {
        return component_each__WEBPACK_IMPORTED_MODULE_0___default()(item, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_4__["default"], item);
      });

      done(_this.price);
    });
  }

  _createClass(Calculations, [{
    key: "subscriptions",

    /**
     * Subscriptions
     *
     * - Subscription subtotaling, derived from valid subs only
     * - Adds subscriptions to price item set
     *
     * @return {Promise}
     */
    value: function subscriptions() {
      var _this2 = this;

      this.price.now.subscriptions = 0;
      this.price.next.subscriptions = 0;
      this._itemizedSets.now.subscriptions = [];
      this._itemizedSets.next.subscriptions = [];
      this.validSubscriptions.forEach(function (sub) {
        _this2.price.now.subscriptions += Number(sub.price.now.total);
        _this2.price.next.subscriptions += Number(sub.price.next.total);

        _this2._itemizedSets.now.subscriptions.push(subscriptionItem('now', sub));

        _this2._itemizedSets.next.subscriptions.push(subscriptionItem('next', sub));
      });
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Adjustments
     *
     * @return {Promise}
     */

  }, {
    key: "adjustments",
    value: function adjustments() {
      var _this3 = this;

      this.price.now.adjustments = 0;
      this.price.next.adjustments = 0; // always zero

      this._itemizedSets.now.adjustments = [];
      this.validAdjustments.forEach(function (adjustment) {
        var unitAmount = adjustment.amount,
            quantity = adjustment.quantity,
            id = adjustment.id;
        var amount = unitAmount * quantity;
        var item = {
          type: 'adjustment',
          id: id,
          amount: amount,
          quantity: quantity,
          unitAmount: unitAmount
        };
        _this3.price.now.adjustments += amount;

        _this3._itemizedSets.now.adjustments.push(item);
      });
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Discounts
     *
     * @return {Promise}
     */

  }, {
    key: "discounts",
    value: function discounts() {
      var _this4 = this;

      var coupon = this.items.coupon;
      var promise = promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
      this.price.now.discount = 0;
      this.price.next.discount = 0; // Remove all previously-applied coupons

      this.validSubscriptions.forEach(function (sub) {
        promise = promise.then(function () {
          return sub.coupon().reprice(null, {
            internal: true
          });
        });
      });
      if (!coupon) return promise;

      if (coupon.discount.type === 'free_trial') {
        promise = promise.then(function () {
          return _this4.applyFreeTrialCoupon();
        });
      } else {
        var _this$discountAmounts = this.discountAmounts(),
            discountNow = _this$discountAmounts.discountNow,
            discountNext = _this$discountAmounts.discountNext;

        this.price.now.discount = discountNow;
        this.price.next.discount = discountNext;
      }

      return promise.then(function () {
        if (coupon.single_use) _this4.price.next.discount = 0;
      });
    }
    /**
     * Subtotals
     *
     * @return {Promise}
     */

  }, {
    key: "subtotals",
    value: function subtotals() {
      var _this$price = this.price,
          now = _this$price.now,
          next = _this$price.next;
      this.price.now.subtotal = now.subscriptions + now.adjustments - now.discount;
      this.price.next.subtotal = next.subscriptions - next.discount;
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Taxes
     *
     * Tax info precedence: `tax` > `shippingAddress` > `address`
     *
     * Workflow
     * - collects tax rates for each tax code and the
     *   base tax info (country, postal code, vat number)
     * - applies taxes to each taxable item, according to its tax code
     *
     * @return {Promise}
     */

  }, {
    key: "taxes",
    value: function taxes() {
      var _this5 = this;

      var taxNow = this.price.now.taxes = 0;
      var taxNext = this.price.next.taxes = 0; // If tax amount has been specified, simply apply it

      if (this.items.tax && this.items.tax.amount) {
        this.price.now.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(this.items.tax.amount.now);
        this.price.next.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(this.items.tax.amount.next);
        return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
      }

      var taxAddress = this.items.shippingAddress || this.items.address;

      var baseTaxInfo = _extends({}, taxAddress, this.items.tax); // Taxation requires that we at least have base tax information


      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_1___default()(baseTaxInfo)) return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
      var getTaxes = promise__WEBPACK_IMPORTED_MODULE_2___default.a.denodeify(this.pricing.recurly.tax.bind(this.pricing.recurly));

      var getTaxesFor = function getTaxesFor(item) {
        return getTaxes(_extends({}, baseTaxInfo, {
          taxCode: item.taxCode
        }));
      };

      var fixedAmount = function fixedAmount(amt) {
        return parseFloat(amt.toFixed(6));
      };

      var taxRates = [];
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(this.taxableAdjustments.map(function (adj) {
        return getTaxesFor(adj).then(function (taxes) {
          taxRates = taxRates.concat(taxes);
          taxNow += taxes.reduce(function (sum, tax) {
            return sum + fixedAmount(adj.amount * adj.quantity * tax.rate);
          }, 0);
        });
      })).then(function () {
        return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(_this5.taxableSubscriptions.map(function (sub) {
          return getTaxesFor(sub).then(function (taxes) {
            taxRates = taxRates.concat(taxes);
            taxes.forEach(function (tax) {
              taxNow += fixedAmount(sub.price.now.subtotal * tax.rate);
              taxNext += fixedAmount(sub.price.next.subtotal * tax.rate);
            });
          });
        }));
      }).then(function () {
        if (!_this5.items.coupon) return;

        var _this5$discountAmount = _this5.discountAmounts({
          taxExempt: false
        }),
            discountNow = _this5$discountAmount.discountNow,
            discountNext = _this5$discountAmount.discountNext;

        return getTaxes(baseTaxInfo).then(function (taxes) {
          taxes.forEach(function (tax) {
            taxNow -= fixedAmount(discountNow * tax.rate);
            taxNext -= fixedAmount(discountNext * tax.rate);
          });
        });
      }).catch(function (err) {
        return _this5.pricing.emit('error', err);
      }).then(function () {
        // Filter tax rates for uniqueness
        taxRates = taxRates.map(JSON.stringify).filter(function (taxRate, i, taxRates) {
          return taxRates.indexOf(taxRate) === i;
        }).map(JSON.parse);
        _this5.price.taxes = taxRates;
        _this5.price.now.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(taxNow);
        _this5.price.next.taxes = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_6__["default"])(taxNext);
      });
    }
    /**
     * Gift cards
     *
     * @return {Promise}
     */

  }, {
    key: "giftCards",
    value: function giftCards() {
      this.price.now.giftCard = 0;
      this.price.next.giftCard = 0;
      if (!this.items.giftCard) return;
      var eligibleNow = this.price.now.subtotal + this.price.now.taxes;
      var eligibleNext = this.price.next.subtotal + this.price.next.taxes;

      var _useGiftcard = useGiftcard(eligibleNow, this.items.giftCard.unit_amount),
          cardUsedNow = _useGiftcard.used,
          cardRemaining = _useGiftcard.remains;

      var _useGiftcard2 = useGiftcard(eligibleNext, cardRemaining),
          cardUsedNext = _useGiftcard2.used;

      this.price.now.giftCard = cardUsedNow;
      this.price.next.giftCard = cardUsedNext;

      function useGiftcard(price, giftCardValue) {
        var used = 0;
        var remains = 0;

        if (giftCardValue > price) {
          used = price;
          remains = giftCardValue - price;
        } else {
          used = giftCardValue;
        }

        return {
          used: used,
          remains: remains
        };
      }

      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Totals
     *
     * @return {Promise}
     */

  }, {
    key: "totals",
    value: function totals() {
      this.price.now.total = this.price.now.subtotal + this.price.now.taxes - this.price.now.giftCard;
      this.price.next.total = this.price.next.subtotal + this.price.next.taxes - this.price.next.giftCard;
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Creates itemized entires for price.now and price.next
     *
     * @return {Promise}
     */

  }, {
    key: "itemizedSets",
    value: function itemizedSets() {
      this.price.now.items = this._itemizedSets.now.subscriptions.concat(this._itemizedSets.now.adjustments);
      this.price.next.items = this._itemizedSets.next.subscriptions;
      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
    }
    /**
     * Applies a free trial coupon
     *
     * @return {Promise}
     */

  }, {
    key: "applyFreeTrialCoupon",
    value: function applyFreeTrialCoupon() {
      var _this6 = this;

      var coupon = this.items.coupon;
      if (!this.hasValidSubscriptions) return promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();

      if (coupon.redemption_resource === 'subscription') {
        return this.mostValuableSubscriptionForFreeTrial().coupon(coupon).reprice(null, {
          internal: true
        }).then(function () {
          return _this6.subscriptions();
        });
      }

      return promise__WEBPACK_IMPORTED_MODULE_2___default.a.all(this.validSubscriptions.map(function (s) {
        return s.coupon(coupon).reprice(null, {
          internal: true
        });
      })).then(function () {
        return _this6.subscriptions();
      });
    }
    /**
     * Calculates discount amounts according to rules
     *
     * @return {Object} { discountNow, discountNext }
     */

  }, {
    key: "discountAmounts",
    value: function discountAmounts() {
      var coupon = this.items.coupon;
      var discountNow = 0;
      var discountNext = 0;

      if (coupon) {
        if (coupon.discount.type === 'free_trial') {// Amounts are left zero
        } else if (coupon.discount.rate) {
          var _this$discountableSub = this.discountableSubtotals(coupon, {
            setupFees: false
          }),
              discountableNow = _this$discountableSub.discountableNow,
              discountableNext = _this$discountableSub.discountableNext;

          discountNow = roundForDiscount(discountableNow * coupon.discount.rate);
          discountNext = roundForDiscount(discountableNext * coupon.discount.rate);
        } else if (coupon.discount.amount) {
          var _this$discountableSub2 = this.discountableSubtotals(coupon),
              _discountableNow = _this$discountableSub2.discountableNow,
              _discountableNext = _this$discountableSub2.discountableNext; // Falls back to zero if the coupon does not support the checkout currency


          var discountAmount = coupon.discount.amount[this.items.currency] || 0;
          discountNow = Math.min(_discountableNow, discountAmount);
          discountNext = Math.min(_discountableNext, discountAmount);
        }
      }

      return {
        discountNow: discountNow,
        discountNext: discountNext
      };
    }
    /**
     * Computes the discountable subtotals for a given coupon
     *
     * Workflow
     *  - Whether coupon applies to adjustments
     *  - Whether coupon applies to subscriptions
     *    - Whether coupon is plan-specific or plan-agnostic
     *    - Whether coupon applies at subcription or account level
     *    - Whether coupon applies to each subscription
     *
     * @param  {Object} coupon
     * @param  {Object} [options]
     * @param  {Boolean} [options.setupFees=true] whether to include setup fees
     * @param  {Boolean} [options.taxExempt=true] whether to include tax exempt items
     * @return {Object} { discountableNow, discountableNext }
     */

  }, {
    key: "discountableSubtotals",
    value: function discountableSubtotals(coupon) {
      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          _ref$setupFees = _ref.setupFees,
          setupFees = _ref$setupFees === void 0 ? true : _ref$setupFees,
          _ref$taxExempt = _ref.taxExempt,
          taxExempt = _ref$taxExempt === void 0 ? true : _ref$taxExempt;

      var discountableNow = 0;
      var discountableNext = 0; // adjustments

      if (coupon.applies_to_non_plan_charges) {
        if (taxExempt) {
          discountableNow += this.price.now.adjustments;
        } else {
          // Sums of the totals of adjustments that are taxable
          discountableNow += this.validAdjustments.reduce(function (sum, adj) {
            return sum + (adj.taxExempt ? 0 : adj.amount * adj.quantity);
          }, 0);
        }
      } // subscriptions


      if (coupon.applies_to_plans && this.hasValidSubscriptions) {
        var discountableSubscriptions; // subscription-level coupons may only apply to one subscription

        if (coupon.redemption_resource === 'subscription') {
          discountableSubscriptions = [this.mostValuableSubscriptionForDiscount()];
        } else {
          discountableSubscriptions = this.validSubscriptions;
        }

        discountableSubscriptions = filterSubscriptionsForCoupon(discountableSubscriptions, coupon); // add each subscription's discountable amount

        discountableSubscriptions.forEach(function (sub) {
          if (!taxExempt && sub.taxExempt) return;
          discountableNow += discountableSubscriptionSubtotal('now', sub, {
            setupFees: setupFees
          });
          discountableNext += discountableSubscriptionSubtotal('next', sub, {
            setupFees: setupFees
          });
        });
      }

      return {
        discountableNow: discountableNow,
        discountableNext: discountableNext
      };
    }
    /**
     * Finds the subscription with the greatest subtotal
     *
     * @param  {Array[SubscriptionPricing]} [subscriptions=this.validSubscriptions]
     * @return {SubscriptionPricing}
     */

  }, {
    key: "mostValuableSubscriptionForDiscount",
    value: function mostValuableSubscriptionForDiscount() {
      var subscriptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.validSubscriptions;
      subscriptions = filterSubscriptionsForCoupon(subscriptions, this.items.coupon);
      return subscriptions.sort(function (a, b) {
        var subtotalA = parseFloat(a.price.now.subtotal);
        var subtotalB = parseFloat(b.price.now.subtotal);

        if (subtotalA > subtotalB) {
          return -1;
        } else if (subtotalA < subtotalB) {
          return 1;
        } else {
          return 0;
        }
      })[0];
    }
    /**
     * Finds the subscription with the longest trial length and greatest subtotal
     *
     * @return {subscriptionPricing}
     */

  }, {
    key: "mostValuableSubscriptionForFreeTrial",
    value: function mostValuableSubscriptionForFreeTrial() {
      var subscriptions = filterSubscriptionsForCoupon(this.validSubscriptions, this.items.coupon);
      var trialSet = Object(_util_group_by__WEBPACK_IMPORTED_MODULE_5__["default"])(subscriptions, trialLength);
      var longestTrial = Object.keys(trialSet).sort(function (a, b) {
        return b - a;
      })[0]; // descending sort

      return this.mostValuableSubscriptionForDiscount(trialSet[longestTrial]);
    }
  }, {
    key: "validAdjustments",
    get: function get() {
      return this.pricing.validAdjustments;
    }
  }, {
    key: "validSubscriptions",
    get: function get() {
      return this.pricing.validSubscriptions;
    }
  }, {
    key: "hasValidSubscriptions",
    get: function get() {
      return this.validSubscriptions.length > 0;
    }
  }, {
    key: "taxableAdjustments",
    get: function get() {
      return this.validAdjustments.filter(function (adj) {
        return !adj.taxExempt && adj.amount > 0;
      });
    }
  }, {
    key: "taxableSubscriptions",
    get: function get() {
      return this.validSubscriptions.filter(function (sub) {
        return !sub.items.plan.tax_exempt;
      });
    } // includes undefined entries

  }, {
    key: "taxCodes",
    get: function get() {
      var taxableItems = this.taxableAdjustments.concat(this.taxableSubscriptions);
      return array_unique__WEBPACK_IMPORTED_MODULE_3___default()(taxableItems.map(function (item) {
        return item.taxCode;
      }));
    }
  }]);

  return Calculations;
}();
/**
 * Utilities
 */

/**
 * Builds a price.items[{type: 'subscription'}] item
 *
 * @param  {String} when 'now' or 'next'
 * @param  {SubscriptionPricing} subscription
 * @return {Object} item
 */




function subscriptionItem(when, subscription) {
  var id = subscription.id,
      price = subscription.price;
  return {
    type: 'subscription',
    id: id,
    amount: price[when].total,
    setupFee: price[when].setup_fee,
    addons: price[when].addons,
    plan: price[when].plan
  };
}
/**
 * Returns a subscription's trial length in seconds
 *
 * @param  {Object} subscription
 * @return {Number} trial length in seconds
 */


function trialLength(subscription) {
  if (!subscription.items.plan.trial) return 0;
  var seconds = {
    days: 86400,
    months: 2678400 // 31 days

  }[subscription.items.plan.trial.interval] || 0;
  return subscription.items.plan.trial.length * seconds;
}
/**
 * Returns a subscription's discountable subtotal
 *
 * - plan + addons + discount + setup_fee = subtotal
 * - discountable_subtotal = subtotal + discount - setup_fee
 *
 * @param  {String} when 'now' or 'next'
 * @param  {SubscriptionPricing} subscription
 * @param  {Object} [options]
 * @param  {Boolean} [options.setupFees=true] whether to include setup fees
 * @return {Number} discountable subtotal
 */


function discountableSubscriptionSubtotal(when, subscription) {
  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
      _ref2$setupFees = _ref2.setupFees,
      setupFees = _ref2$setupFees === void 0 ? true : _ref2$setupFees;

  var price = subscription.price[when];
  var subtotal = parseFloat(price.subtotal) + parseFloat(price.discount);
  if (!setupFees) subtotal -= parseFloat(price.setup_fee);
  return subtotal;
}
/**
 * Filter subscriptions for which this coupon does not apply
 * @param  {Array[EmbeddedSubscriptionPricing]} subscriptions
 * @param  {Object} coupon
 * @return {Array[EmbeddedSubscriptionPricing]}
 */


function filterSubscriptionsForCoupon(subscriptions, coupon) {
  if (subscriptions.length === 0) return subscriptions;
  if (coupon.applies_to_all_plans) return subscriptions;
  return subscriptions.filter(function (sub) {
    return sub.couponIsValidForSubscription(coupon);
  });
}
/**
 * Rounds a Number and sets it to a fixed length
 * @param  {Number} amount
 * @return {Number}
 */


function roundForDiscount(amount) {
  return parseFloat((Math.round(amount * 100) / 100).toFixed(6));
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/checkout/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/checkout/index.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CheckoutPricing; });
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var intersect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! intersect */ "./node_modules/intersect/index.js");
/* harmony import */ var intersect__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(intersect__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! array-unique */ "./node_modules/array-unique/index.js");
/* harmony import */ var array_unique__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(array_unique__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ */ "./node_modules/recurly.js/lib/recurly/pricing/index.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../promise */ "./node_modules/recurly.js/lib/recurly/pricing/promise.js");
/* harmony import */ var _subscription__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../subscription */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js");
/* harmony import */ var _subscription_embedded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../subscription/embedded */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/embedded.js");
/* harmony import */ var _calculations__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./calculations */ "./node_modules/recurly.js/lib/recurly/pricing/checkout/calculations.js");
/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./attachment */ "./node_modules/recurly.js/lib/recurly/pricing/checkout/attachment.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
















var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing:checkout-pricing');
/**
 * CheckoutPricing
 *
 * Constructs a pricing model for a checkout purchase. Call methods
 * on an instance to add or remove items from the pricing model, and
 * listen for changes to the price.
 *
 * This class allows you to provide basic details about a checkout purchase,
 * such as plan code, item code, and address, and receive detailed pricing
 * information about the overall purchase, including item costs, tax estimates,
 * complex discounting, and currency changes.
 *
 * Example
 *
 * ```
 * const checkoutPricing = recurly.Pricing.Checkout();
 * checkoutPricing.on('change', price => console.log(price));
 * checkoutPricing
 *   .currency('USD')
 *   .subscription(recurly.Pricing.Subscription().plan('my-plan').done())
 *   .adjustment({ itemCode: 'my-item-code', quantity: 2 })
 *   .address({ country: 'US', postalCode: '94110' })
 *   .coupon('my-coupon-code')
 *   .done();
 * ```
 *
 * @class
 */


var CheckoutPricing =
/*#__PURE__*/
function (_Pricing) {
  _inherits(CheckoutPricing, _Pricing);

  function CheckoutPricing() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CheckoutPricing);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CheckoutPricing)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.debug = debug;

    _this.recurly.report('pricing:checkout:create');

    return _this;
  }

  _createClass(CheckoutPricing, [{
    key: "reset",
    value: function reset() {
      _get(_getPrototypeOf(CheckoutPricing.prototype), "reset", this).call(this);

      this.items.subscriptions = [];
      this.items.adjustments = [];
    }
  }, {
    key: "findSubscriptionById",
    value: function findSubscriptionById(id) {
      var embeddedSubscription = component_find__WEBPACK_IMPORTED_MODULE_1___default()(this.items.subscriptions, function (esub) {
        return esub.id === id;
      });
      if (embeddedSubscription) return embeddedSubscription.subscription;
    }
    /**
     * Attachment factory
     *
     * @param {HTMLElement} container - element on which to attach
     */

  }, {
    key: "attach",
    value: function attach(container) {
      var _this2 = this;

      if (this.attachment) this.attachment.detach();
      this.attachment = new _attachment__WEBPACK_IMPORTED_MODULE_13__["default"](this, container);
      this.attachment.once('ready', function () {
        return _this2.emit('attached');
      });
      return this.attachment;
    }
    /**
     * Updates currency code. Will reject if the subscription plans do not support the given code
     *
     * @param {String} code Currency code
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "currency",
    value: function currency(code) {
      var _this3 = this;

      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
        if (_this3.items.currency === code) return resolve(_this3.items.currency);

        if (!_this3.subscriptionsAllowCurrency(code)) {
          return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('invalid-currency', {
            currency: code,
            allowed: _this3.subscriptionCurrencies
          }), reject, 'currency');
        }

        _this3.items.currency = code; // Propagate currency changes to each subscription

        promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(_this3.validSubscriptions.map(function (sub) {
          debug('checkout currency has changed. Updating subscription', sub);
          return sub.currency(code).reprice();
        })) // Eject gift cards on currency change
        .then(function () {
          return _this3.giftCard(null);
        }).then(function () {
          return _this3.resolveAndEmit('set.currency', code, resolve);
        });
      }, this);
    }
    /**
     * Adds a subscription
     *
     * - Ignores address and tax info from subscriptions
     * - Removes subscription discounts
     *
     * @param {SubscriptionPricing} subscription
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "subscription",
    value: function subscription(_subscription) {
      var _this4 = this;

      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
        if (!(_subscription instanceof _subscription__WEBPACK_IMPORTED_MODULE_10__["default"])) {
          return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('invalid-option', {
            name: 'subscription',
            expect: 'a {recurly.Pricing.Subscription}'
          }), reject, 'subscription');
        } // Do nothing if we already have this subscription


        if (_this4.items.subscriptions.some(function (esub) {
          return esub.subscription === _subscription;
        })) {
          return resolve(_subscription);
        }

        var plan = _subscription.items.plan; // If the subscription currencies do not match the checkout currency, attempt to resolve it.
        // If it cannot be resolved, reject the subscription

        if (_this4.items.currency && plan) {
          var planCurrencies = Object.keys(plan.price);

          if (!~planCurrencies.indexOf(_this4.currencyCode)) {
            try {
              _this4.resolveCurrency(planCurrencies);
            } catch (e) {
              return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('invalid-subscription-currency', {
                checkoutCurrency: _this4.currencyCode,
                checkoutSupportedCurrencies: _this4.subscriptionCurrencies,
                subscriptionPlanCurrencies: planCurrencies
              }), reject, 'currency');
            }
          }
        }

        if (!_this4.items.currency) _this4.currency(_subscription.items.currency);

        var emitSubscriptionSetter = function emitSubscriptionSetter(name) {
          return function (item) {
            return _this4.emit("set.".concat(name), _defineProperty({
              subscription: {
                id: _subscription.id
              }
            }, name, item));
          };
        };

        var addSubscription = function addSubscription() {
          _subscription.on('change:external', function () {
            return _this4.reprice();
          });

          _subscription.on('set.plan', emitSubscriptionSetter('plan'));

          _subscription.on('set.addon', emitSubscriptionSetter('addon'));

          _this4.items.subscriptions.push(new _subscription_embedded__WEBPACK_IMPORTED_MODULE_11__["default"](_subscription, _this4));

          _this4.resolveAndEmit('set.subscription', _subscription, resolve, {
            copy: false
          });
        }; // Removes any subscription coupons and gift cards


        if (_subscription.isValid) {
          _subscription.coupon(null).giftcard(null).then(addSubscription);
        } else {
          addSubscription();
        }
      }, this);
    }
    /**
     * @typedef {Object} CheckoutPricing~Adjustment
     *
     * @property {String}  [itemCode] item code reference. If provided,
     *                                the amount and tax properties will be populated
     *                                from the given item. an itemCode may not be used to
     *                                modify an adjustment in-place.
     * @property {Number}  [amount] in unit price (1.0 for USD, etc)
     * @property {Number}  [quantity=1] number of units
     * @property {String}  [id=uid()] unique identifier. Use this value to modify an
     *                                adjustment in-place
     * @property {String}  [currency=this.items.currency] currency code
     * @property {Boolean} [taxExempt=false] whether this adjustment is tax exempt
     * @property {String}  [taxCode] taxation code
     */

    /**
     * Adds a one-time charge or credit a.k.a. adjustment
     *
     * @param {CheckoutPricing~Adjustment} adjustment
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "adjustment",
    value: function adjustment(_ref) {
      var _this5 = this;

      var _ref$itemCode = _ref.itemCode,
          itemCode = _ref$itemCode === void 0 ? null : _ref$itemCode,
          amount = _ref.amount,
          quantity = _ref.quantity,
          _ref$id = _ref.id,
          id = _ref$id === void 0 ? Object(_util_uid__WEBPACK_IMPORTED_MODULE_6__["default"])() : _ref$id,
          currency = _ref.currency,
          taxExempt = _ref.taxExempt,
          taxCode = _ref.taxCode;
      var recurly = this.recurly;
      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
        var existingAdjustment = component_find__WEBPACK_IMPORTED_MODULE_1___default()(_this5.items.adjustments, function (a) {
          return a.id === id;
        });
        var validateAmount = true;

        if (itemCode || existingAdjustment && typeof amount === 'undefined') {
          validateAmount = false;
        }

        if (validateAmount) {
          amount = Number(amount);

          if (!isFinite(amount)) {
            var err = {
              name: 'amount',
              expect: 'a finite Number'
            };
            return _this5.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('invalid-option', err), reject, 'adjustment');
          }
        }

        if (existingAdjustment && existingAdjustment.itemCode && !itemCode) {
          itemCode = existingAdjustment.itemCode;
        }

        new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {
          if (!itemCode) return resolve();
          return recurly.item({
            itemCode: itemCode
          }).then(function (item) {
            var expectedCurrency = currency || existingAdjustment && existingAdjustment.currency || _this5.items.currency;

            if (typeof amount === 'undefined') {
              var itemPrice = component_find__WEBPACK_IMPORTED_MODULE_1___default()(item.currencies, function (c) {
                return c.currency_code === expectedCurrency;
              });

              if (itemPrice) {
                amount = itemPrice.unit_amount;
              } else {
                return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('invalid-item-currency', {
                  itemCode: itemCode,
                  currency: expectedCurrency
                }));
              }
            }

            taxCode = item.tax_code;
            taxExempt = item.tax_exempt;
            resolve();
          }, reject);
        }).then(function () {
          // New adjustment defaults
          if (!existingAdjustment) {
            currency = currency || _this5.items.currency;
            quantity = coerceAdjustmentQuantity(quantity);
            taxExempt = !!taxExempt;
          }

          return {
            amount: amount,
            quantity: quantity,
            id: id,
            currency: currency,
            taxExempt: taxExempt,
            taxCode: taxCode,
            itemCode: itemCode
          };
        }).then(function (adjustment) {
          if (existingAdjustment) {
            if (typeof amount === 'undefined') delete adjustment.amount;
            if (typeof currency === 'undefined') delete adjustment.currency;

            if (typeof quantity === 'undefined') {
              delete adjustment.quantity;
            } else {
              quantity = coerceAdjustmentQuantity(quantity);
            }

            if (existingAdjustment.itemCode || typeof taxCode === 'undefined') {
              delete adjustment.taxCode;
            }

            if (existingAdjustment.itemCode || typeof taxExempt === 'undefined') {
              delete adjustment.taxExempt;
            }

            adjustment = _extends(existingAdjustment, adjustment);
          } else {
            _this5.items.adjustments.push(adjustment);
          }

          _this5.resolveAndEmit('set.adjustment', adjustment, resolve);
        }).catch(function (err) {
          _this5.error(err, reject, 'adjustment');
        });
      }, this);
    }
    /**
     * Updates coupon. Manages a single coupon on the item set, unsetting any exisitng
     * coupon
     *
     * `set.coupon` is emitted when a valid coupon is set
     * `unset.coupon` is emitted when an existing valid coupon is removed
     * `error.coupon` is emitted when the requested coupon is invalid
     *
     * @param {String} couponCode
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "coupon",
    value: function coupon(couponCode) {
      var _this6 = this;

      if (~this.couponCodes.indexOf(couponCode)) {
        return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve) {
          return resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this6.items.coupon));
        }, this);
      }

      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve) {
        return resolve();
      }, this).then(function () {
        if (!_this6.items.coupon) return;
        var priorCoupon = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this6.items.coupon);
        debug('unset.coupon');
        return _this6.remove({
          coupon: priorCoupon.code
        }).then(function () {
          _this6.emit('unset.coupon', priorCoupon);
        });
      }).then(function () {
        return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
          // A blank coupon is handled as ok
          if (!couponCode) return resolve();

          _this6.recurly.coupon({
            plans: _this6.subscriptionPlanCodes,
            coupon: couponCode
          }, function (err, coupon) {
            if (err) {
              return _this6.error(err, reject, 'coupon');
            } else {
              _this6.items.coupon = coupon;

              _this6.resolveAndEmit('set.coupon', coupon, resolve);
            }
          });
        });
      });
    }
    /**
     * Updates address
     *
     * @param {Object} address
     * @param {String} address.country
     * @param {String} address.postalCode
     * @param {String} address.vatNumber
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "address",
    value: function address(_address) {
      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory('address', _address), this);
    }
    /**
     * Updates shipping address
     *
     * @param {Object} address
     * @param {String} address.country
     * @param {String} address.postalCode
     * @param {String} address.vatNumber
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "shippingAddress",
    value: function shippingAddress(address) {
      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory('shippingAddress', address), this);
    }
    /**
     * Updates tax info
     *
     * @param {Object} tax
     * @param {String} tax.vatNumber
     * @param {Object} [tax.amounts] specific tax amounts. Overrides automated tax rate calculations
     * @param {Object} [tax.amounts.now] specific tax to apply on the immediate charge
     * @param {Object} [tax.amounts.next=0] specific tax to apply on the next billing cycle
     * @public
     */

  }, {
    key: "tax",
    value: function tax(_tax) {
      this.guardTaxSignature(_tax);
      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](this.itemUpdateFactory('tax', _tax), this);
    }
    /**
     * Updates gift card
     *
     * @param {String} code Gift card code
     * @return {PricingPromise} [description]
     * @public
     */

  }, {
    key: "giftCard",
    value: function giftCard(code) {
      var _this7 = this;

      var unset = function unset() {
        if (!_this7.items.giftCard) return;
        debug('unset.giftCard');
        delete _this7.items.giftCard;

        _this7.emit('unset.giftCard');
      };

      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
        if (!code) {
          unset();
          return resolve();
        }

        _this7.recurly.giftCard({
          code: code
        }, function (err, giftCard) {
          if (err) {
            return _this7.error(err, reject, 'giftCard');
          } else {
            unset();

            if (_this7.items.currency !== giftCard.currency) {
              return _this7.error(Object(_errors__WEBPACK_IMPORTED_MODULE_7__["default"])('gift-card-currency-mismatch'), reject, 'giftCard');
            } else {
              _this7.items.giftCard = giftCard;

              _this7.resolveAndEmit('set.giftCard', giftCard, resolve);
            }
          }
        });
      }, this);
    }
    /**
     * Adds handlers to remove subscriptions, adjustments, and coupons
     *
     * @param {Object} options
     * @param {Object} options[item] Must contain an id property. The key name
     *                               corresponds to the item type to be removed (ex: 'subscription')
     * @public
     */

  }, {
    key: "remove",
    value: function remove(options) {
      var _this8 = this;

      return new _promise__WEBPACK_IMPORTED_MODULE_9__["default"](function (resolve, reject) {
        // Expects SubscriptionPricing or EmbeddedSubscriptionPricing
        if (options.subscription) {
          _this8.removeFromSet('subscriptions', options.subscription);
        } else if (options.adjustment) {
          _this8.removeFromSet('adjustments', options.adjustment);
        } else {
          if (options.coupon) {
            // Remove the coupon from embedded subscriptions
            promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(_this8.validSubscriptions.map(function (sub) {
              return sub.coupon().reprice({
                internal: true
              });
            })).then(function () {
              return _get(_getPrototypeOf(CheckoutPricing.prototype), "remove", _this8).call(_this8, options).then(resolve, reject);
            });
          } else {
            _get(_getPrototypeOf(CheckoutPricing.prototype), "remove", _this8).call(_this8, options).then(resolve, reject);
          }
        }
      });
    }
    /**
     * Removes a set item (subscription or adjustment)
     *
     * @param  {String} name         item name (ex: 'subscription', 'adjustment')
     * @param  {Object} itemToRemove item to remove. Must have an id property
     * @private
     */

  }, {
    key: "removeFromSet",
    value: function removeFromSet(name, itemToRemove) {
      this.items[name] = this.items[name].filter(function (item) {
        return item.id !== itemToRemove.id;
      });
    }
    /**
     * Checks whether the current subscriptions will allow the given currency code
     *
     * @param  {String} code Currency code
     * @return {Boolean}
     * @private
     */

  }, {
    key: "subscriptionsAllowCurrency",
    value: function subscriptionsAllowCurrency(code) {
      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(this.items.subscriptions)) return true;
      return !!~this.subscriptionCurrencies.indexOf(code);
    }
    /**
     * Attempts to set a common currency from amongst the
     * current subscriptions and the provided codes.
     *
     * @param {Array} code Array of {String} currency codes
     * @param {Object} [options]
     * @param {Boolean} [options.commit=true] whether to commit a currency change
     * @throws {Error} If a common currency cannot be found
     * @private
     */

  }, {
    key: "resolveCurrency",
    value: function resolveCurrency(codes) {
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          _ref2$commit = _ref2.commit,
          commit = _ref2$commit === void 0 ? true : _ref2$commit;

      var commonCurrencies; // If we have subscriptions already, check that we have common currencies. Otherwise, we may proceed

      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(this.validSubscriptions)) {
        commonCurrencies = codes;
      } else {
        commonCurrencies = intersect__WEBPACK_IMPORTED_MODULE_2___default()(this.subscriptionCurrencies, codes);
      }

      if (lodash_isempty__WEBPACK_IMPORTED_MODULE_3___default()(commonCurrencies)) throw new Error('unresolvable');
      if (commit) return this.currency(commonCurrencies[0]);
    }
    /**
     * Binds important events to the EventDispatcher
     *
     * @protected
     */

  }, {
    key: "bindReporting",
    value: function bindReporting() {
      var _this9 = this;

      _get(_getPrototypeOf(CheckoutPricing.prototype), "bindReporting", this).call(this, 'pricing:checkout');

      var report = function report() {
        var _this9$recurly;

        return (_this9$recurly = _this9.recurly).report.apply(_this9$recurly, arguments);
      };

      this.on('attached', function () {
        return report('pricing:checkout:attached');
      });
      this.on('set.subscription', function () {
        return report('pricing:checkout:set:subscription');
      });
      this.on('change:external', function (price) {
        return report('pricing:checkout:change', {
          price: {
            couponCodes: _this9.couponCodes,
            currency: _this9.currencyCode,
            discount: price.now.discount,
            giftCard: price.now.giftCard,
            items: price.now.items.map(function (item) {
              return {
                type: item.type,
                amount: item.amount,
                quantity: item.quantity
              };
            }),
            taxes: price.now.taxes,
            total: price.now.total,
            totalNext: price.next.total
          }
        });
      });
    }
  }, {
    key: "Calculations",
    get: function get() {
      return _calculations__WEBPACK_IMPORTED_MODULE_12__["default"];
    }
  }, {
    key: "PRICING_METHODS",
    get: function get() {
      return _get(_getPrototypeOf(CheckoutPricing.prototype), "PRICING_METHODS", this).concat(['address', 'adjustment', 'coupon', 'currency', 'giftCard', 'shippingAddress', 'subscription', 'tax']);
    }
  }, {
    key: "validAdjustments",
    get: function get() {
      var _this10 = this;

      return this.items.adjustments.filter(function (adj) {
        return adj.currency === _this10.items.currency;
      });
    }
  }, {
    key: "validSubscriptions",
    get: function get() {
      return this.items.subscriptions.filter(function (sub) {
        return sub.isValid;
      });
    } // Currency codes common to all subscriptions

  }, {
    key: "subscriptionCurrencies",
    get: function get() {
      return intersect__WEBPACK_IMPORTED_MODULE_2___default()(this.validSubscriptions.map(function (s) {
        return Object.keys(s.items.plan.price);
      }));
    } // Plan codes of all subscriptions

  }, {
    key: "subscriptionPlanCodes",
    get: function get() {
      return array_unique__WEBPACK_IMPORTED_MODULE_5___default()(this.validSubscriptions.map(function (s) {
        return s.items.plan.code;
      }));
    }
  }]);

  return CheckoutPricing;
}(___WEBPACK_IMPORTED_MODULE_8__["Pricing"]);



function coerceAdjustmentQuantity(quantity) {
  quantity = parseInt(quantity, 10);
  if (isNaN(quantity)) quantity = 1;
  return quantity;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/index.js ***!
  \**************************************************************/
/*! exports provided: Pricing, findByCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pricing", function() { return Pricing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findByCode", function() { return findByCode; });
/* harmony import */ var currency_symbol_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! currency-symbol-map */ "./node_modules/currency-symbol-map/currency-symbol-map.js");
/* harmony import */ var currency_symbol_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(currency_symbol_map__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.pick */ "./node_modules/lodash.pick/index.js");
/* harmony import */ var lodash_pick__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./promise */ "./node_modules/recurly.js/lib/recurly/pricing/promise.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _util_decimalize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/decimalize */ "./node_modules/recurly.js/lib/util/decimalize.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }










var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing');

var Pricing =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Pricing, _Emitter);

  function Pricing(recurly) {
    var _this;

    _classCallCheck(this, Pricing);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pricing).call(this));
    _this.recurly = recurly;
    _this.debug = debug;

    _this.reset();

    _this.reprice();

    _this.bindReporting();

    return _this;
  }

  _createClass(Pricing, [{
    key: "reset",

    /**
     * Resets items and sets defaults
     *
     * @public
     */
    value: function reset() {
      this.items = {};
      this.currency(this.recurly.config.currency);
    }
    /**
     * Provides a price estimate using current state
     *
     * @param {Function} [done] callback
     * @param {Object} [options]
     * @param {Boolean} [options.internal] when true, the 'change:external' event is not emitted
     * @public
     */

  }, {
    key: "reprice",
    value: function reprice(done) {
      var _this2 = this;

      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          _ref$internal = _ref.internal,
          internal = _ref$internal === void 0 ? false : _ref$internal;

      this.debug('reprice');
      return new _promise__WEBPACK_IMPORTED_MODULE_5__["default"](function (resolve) {
        new _this2.Calculations(_this2, function (price) {
          if (JSON.stringify(price) === JSON.stringify(_this2.price)) return resolve(price);
          _this2.price = price;

          var priceCopy = _this2.resolveAndEmit('change', price, resolve);

          if (!internal) _this2.emit('change:external', priceCopy);
        });
      }, this).nodeify(done);
    }
    /**
     * Removes an object from the pricing model
     *
     * FIXME: This does not work well with sets i.e. subscriptions
     *
     * example
     *
     *   .remove({ plan: 'plan_code' });
     *   .remove({ addons: 'addon_code' });
     *   .remove({ coupon: 'coupon_code' });
     *   .remove({ address: true }); // to remove without specifying a code
     *
     * @param {Object} opts
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "remove",
    value: function remove(opts, done) {
      var _this3 = this;

      // is `item` being used for anything? It might just be having its value reassigned and then unused
      // eslint-disable-next-line
      var item;
      this.debug('remove', opts);
      return new _promise__WEBPACK_IMPORTED_MODULE_5__["default"](function (resolve, reject) {
        var prop = Object.keys(opts)[0];
        var id = opts[prop];
        if (!~Object.keys(_this3.items).indexOf(prop)) return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('invalid-item'), reject);

        if (Array.isArray(_this3.items[prop])) {
          var pos = _this3.items[prop].indexOf(findByCode(_this3.items[prop], id));

          if (~pos) {
            item = _this3.items[prop].splice(pos);
          }
        } else if (_this3.items[prop] && (id === _this3.items[prop].code || id === true)) {
          item = _this3.items[prop];
          delete _this3.items[prop];
        } else {
          return _this3.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('unremovable-item', {
            type: prop,
            id: id,
            reason: 'does not exist on this pricing instance.'
          }), reject);
        }

        resolve();
      }, this).nodeify(done);
    }
    /**
     * Checks tax params against expectations
     *
     * @param  {Object} tax
     * @throws {String} error message if expectations are not met
     */

  }, {
    key: "guardTaxSignature",
    value: function guardTaxSignature() {
      var tax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (!tax.amount) return;

      if (_typeof(tax.amount) !== 'object') {
        throw "Invalid 'amount'. Expected 'Object', got '".concat(_typeof(tax.amount), "'");
      } else if (!isFinite(+tax.amount.now)) {
        throw "Invalid 'amount.now'. Expected 'Finite Numeric', got '".concat(_typeof(tax.amount.now), "'");
      } else if (!isFinite(+tax.amount.next)) {
        throw "Invalid 'amount.next'. Expected 'Finite Numeric', got '".concat(_typeof(tax.amount.next), "'");
      }
    }
    /**
     * Utility to emit an event and call a PricingPromise resolver
     * with a mutation-safe copy of the item object
     *
     * @param {string} event event name
     * @param {Object} object pricing item
     * @param {Function} resolve PricingPromise resolver
     * @param {Boolean} [copy] whether to clone the pricing item
     * @return {Object} object or object clone
     * @private
     */

  }, {
    key: "resolveAndEmit",
    value: function resolveAndEmit(event, object, resolve) {
      var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},
          _ref2$copy = _ref2.copy,
          copy = _ref2$copy === void 0 ? true : _ref2$copy;

      this.debug(event);
      if (_typeof(object) !== 'object') copy = false;
      if (copy) object = component_clone__WEBPACK_IMPORTED_MODULE_2___default()(object);
      this.emit(event, object);
      resolve(object);
      return object;
    }
    /**
     * Binds important events to the EventDispatcher
     *
     * @protected
     */

  }, {
    key: "bindReporting",
    value: function bindReporting() {
      var _this4 = this;

      var domain = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'pricing';

      var report = function report() {
        var _this4$recurly;

        return (_this4$recurly = _this4.recurly).report.apply(_this4$recurly, arguments);
      };

      var setGiftCard = function setGiftCard(giftCard) {
        return report("".concat(domain, ":set:giftCard"), {
          amount: giftCard.unit_amount
        });
      };

      var unsetGiftCard = function unsetGiftCard() {
        return report("".concat(domain, ":unset:giftCard"));
      };

      this.on('set.addon', function (addOn) {
        return report("".concat(domain, ":set:addOn"), lodash_pick__WEBPACK_IMPORTED_MODULE_4___default()(addOn, ['code', 'quantity']));
      });
      this.on('set.coupon', function (coupon) {
        return report("".concat(domain, ":set:coupon"), {
          code: coupon.code
        });
      });
      this.on('set.currency', function (code) {
        return report("".concat(domain, ":set:currency"), {
          code: code
        });
      });
      this.on('set.gift_card', setGiftCard);
      this.on('set.giftCard', setGiftCard);
      this.on('set.plan', function (plan) {
        return report("".concat(domain, ":set:plan"), {
          code: plan.code
        });
      });
      this.on('unset.coupon', function () {
        return report("".concat(domain, ":unset:coupon"));
      });
      this.on('unset.gift_card', unsetGiftCard);
      this.on('unset.giftCard', unsetGiftCard);
    }
    /**
     * Generates an standard Pricing.item updater method to be given to a PricingPromise
     *
     * @param {String} name item name
     * @param {Object} object item value
     * @return {Function} PricingPromise handler
     * @private
     */

  }, {
    key: "itemUpdateFactory",
    value: function itemUpdateFactory(name, object) {
      var _this5 = this;

      return function (resolve) {
        if (JSON.stringify(object) === JSON.stringify(_this5.items[name])) {
          return resolve(_this5.items[name]);
        }

        _this5.items[name] = object;

        _this5.resolveAndEmit("set.".concat(name), object, resolve);
      };
    }
    /**
     * Emits a namespaced error
     * @param {Error} error
     * @param {Function} reject - Promise rejection function
     * @param {[String]} namespace - dot-delimited error namespace
     * @private
     */

  }, {
    key: "error",
    value: function error(_error) {
      var _this6 = this;

      var reject = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
      var namespace = arguments.length > 2 ? arguments[2] : undefined;

      if (namespace) {
        namespace.split('.').reduce(function (memo, name) {
          return _this6.emit("".concat(memo, ".").concat(name), _error);
        }, 'error');
      }

      this.emit('error', _error);
      return reject(_error);
    }
  }, {
    key: "Calculations",
    get: function get() {
      throw new Error('Not implemented');
    }
  }, {
    key: "PRICING_METHODS",
    get: function get() {
      return ['reset', 'remove', 'reprice'];
    }
  }, {
    key: "hasPrice",
    get: function get() {
      return !!this.price;
    }
  }, {
    key: "totalNow",
    get: function get() {
      return Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_7__["default"])(this.hasPrice ? this.price.now.total : 0);
    }
  }, {
    key: "subtotalPreDiscountNow",
    get: function get() {
      var subtotalPreDiscountNow = parseFloat(this.price.now.subtotal) + parseFloat(this.price.now.discount);
      return Object(_util_decimalize__WEBPACK_IMPORTED_MODULE_7__["default"])(this.hasPrice ? subtotalPreDiscountNow : 0);
    }
  }, {
    key: "currencyCode",
    get: function get() {
      return this.items.currency || '';
    }
  }, {
    key: "currencySymbol",
    get: function get() {
      return currency_symbol_map__WEBPACK_IMPORTED_MODULE_0___default()(this.currencyCode);
    }
  }, {
    key: "couponCodes",
    get: function get() {
      if (this.items.coupon) return [this.items.coupon.code];
      return [];
    }
  }]);

  return Pricing;
}(component_emitter__WEBPACK_IMPORTED_MODULE_1___default.a);
/**
 * Utility functions
 */

/**
 * Finds an item within a set by its 'code' property. Used for
 * arrayed items like subscription addons
 *
 * @param {Array} set
 * @param {String} code
 * @return {Object}
 * @private
 */

function findByCode(set, code) {
  return set && component_find__WEBPACK_IMPORTED_MODULE_3___default()(set, {
    code: code
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/promise.js":
/*!****************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/promise.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PricingPromise; });
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing:promise');
/**
 * PricingPromise
 *
 * issues repricing when .done
 *
 * contains .then wrappers for Pricing property methods
 *
 * Usage
 *
 *   let pricing = recurly.Pricing.Subscription();
 *
 *   pricing
 *     .plan('basic')
 *     .addon('addon1')
 *     .then(process)
 *     .catch(errors)
 *     .done();
 *
 * @param {Function} resolver
 * @param {Pricing} pricing bound instance
 * @constructor
 * @public
 */


var PricingPromise =
/*#__PURE__*/
function (_Promise) {
  _inherits(PricingPromise, _Promise);

  function PricingPromise(resolver, pricing) {
    var _this;

    _classCallCheck(this, PricingPromise);

    debug('create');
    _this = _possibleConstructorReturn(this, _getPrototypeOf(PricingPromise).call(this, resolver));
    _this.pricing = pricing;

    _this.constructor = function (resolver) {
      return new PricingPromise(resolver, pricing);
    }; // for each pricing method, create a promise wrapper method


    pricing && pricing.PRICING_METHODS.forEach(function (met) {
      _this[met] = function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _this.then(function () {
          return pricing[met].apply(pricing, args);
        });
      };
    });
    return _this;
  }
  /**
   * Adds a reprice and completes the control flow
   *
   * @param {Function} onFulfilled
   * @param {Function} onRejected
   * @return {Pricing} bound pricing instance
   * @public
   */


  _createClass(PricingPromise, [{
    key: "done",
    value: function done() {
      debug('repricing');

      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      _get(_getPrototypeOf(PricingPromise.prototype), "done", this).apply(this.then(this.reprice), args);

      return this.pricing;
    }
    /**
     * Adds a reprice if a callback is passed
     *
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "nodeify",
    value: function nodeify(done) {
      var _get2;

      if (typeof done === 'function') this.reprice();

      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        args[_key3 - 1] = arguments[_key3];
      }

      return (_get2 = _get(_getPrototypeOf(PricingPromise.prototype), "nodeify", this)).call.apply(_get2, [this, done].concat(args));
    }
  }]);

  return PricingPromise;
}(promise__WEBPACK_IMPORTED_MODULE_0___default.a);



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/subscription/attachment.js":
/*!********************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/subscription/attachment.js ***!
  \********************************************************************************/
/*! exports provided: default, ignoreNotFound */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Attachment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ignoreNotFound", function() { return ignoreNotFound; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _util_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_util_dom__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing:attachment');

var INIT_RUN = 'init-all';
/**
 * bind a dom element to pricing values
 *
 * @param {SubscriptionPricing} pricing
 * @param {HTMLElement} container Element on which to attach
 */

var Attachment =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Attachment, _Emitter);

  function Attachment(pricing, container) {
    var _this;

    _classCallCheck(this, Attachment);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Attachment).call(this));
    _this.pricing = pricing;
    _this.container = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.element(container);
    if (!_this.container) throw new Error('invalid dom element');
    _this.change = _this.change.bind(_assertThisInitialized(_this));
    _this.update = _this.update.bind(_assertThisInitialized(_this));

    _this.pricing.on('change', _this.update);

    _this.elements.all.forEach(function (elem) {
      elem.addEventListener('change', _this.change);
      elem.addEventListener('propertychange', _this.change);
    });

    _this.change(INIT_RUN);

    return _this;
  }

  _createClass(Attachment, [{
    key: "change",

    /**
     * Handles input element changes
     */
    value: function change(event) {
      var _this2 = this;

      debug('change');
      var elems = this.elements;
      var target = event.target || event.srcElement;
      var targetName = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(target, 'recurly');

      var updating = function updating(name) {
        return name in elems && event === INIT_RUN || targetName === name;
      };

      var updateAddon = elems.addon && updating('addon');
      var updateAddress = updating('country') || updating('postal_code');
      var updateCurrency = updating('currency');
      var updateCoupon = elems.coupon && (updating('coupon') || updating('plan'));
      var updateGiftcard = elems.gift_card && updating('gift_card');
      var updateShippingAddress = updating('shipping_address.country') || updating('shipping_address.postal_code');
      var updateTax = ['vat_number', 'tax_code', 'tax_amount.now', 'tax_amount.next'].some(updating);
      var pricing = this.pricing.plan(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan), {
        quantity: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_quantity)
      });

      if (updateCurrency) {
        pricing = pricing.currency(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency));
      }

      if (updateAddon) {
        pricing = pricing.then(function () {
          return promise__WEBPACK_IMPORTED_MODULE_1___default.a.all(elems.addon.map(function (elem) {
            var plan = _this2.pricing.items.plan;
            var code = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon');
            var quantity = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem);

            if (plan.addons && component_find__WEBPACK_IMPORTED_MODULE_2___default()(plan.addons, {
              code: code
            })) {
              return _this2.pricing.addon(code, {
                quantity: quantity
              });
            }
          }));
        });
      }

      if (updateCoupon) {
        pricing = pricing.coupon(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.coupon).trim()).then(null, ignoreNotFound);
      }

      if (updateGiftcard) {
        pricing = pricing.giftcard(_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.gift_card).trim()).then(null, ignoreNotFound);
      }

      if (updateAddress) {
        pricing = pricing.address({
          country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.country),
          postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.postal_code)
        });
      }

      if (updateShippingAddress) {
        pricing = pricing.shippingAddress({
          country: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.country']),
          postal_code: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['shipping_address.postal_code'])
        });
      }

      if (updateTax) {
        var taxParams = {
          vatNumber: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.vat_number),
          taxCode: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.tax_code)
        };

        if (elems['tax_amount.now'] || elems['tax_amount.next']) {
          taxParams.amount = {
            now: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.now']) || 0,
            next: _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems['tax_amount.next']) || 0
          };
        }

        pricing = pricing.tax(taxParams);
      }

      this.pricing = pricing.done(function () {
        return event === INIT_RUN && _this2.emit('ready');
      });
    }
    /**
     * Updates output elements
     */

  }, {
    key: "update",
    value: function update(price) {
      var elems = this.elements;
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_code, price.currency.code);
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.currency_symbol, price.currency.symbol);
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_base, price.base.plan.unit);
      _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems.plan_interval, price.base.plan.interval);
      ['plan', 'addons', 'discount', 'setup_fee', 'subtotal', 'tax', 'total', 'gift_card'].forEach(function (value) {
        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_now'], price.now[value]);
        _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elems[value + '_next'], price.next[value]);
      });

      if (elems.addon_price) {
        elems.addon_price.forEach(function (elem) {
          var addonPrice = price.base.addons[_util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(elem, 'recurlyAddon')];
          if (addonPrice) _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.value(elem, addonPrice);
        });
      }
    }
  }, {
    key: "detach",
    value: function detach() {
      var _this3 = this;

      this.pricing.off('change', this.update);
      this.elements.all.forEach(function (elem) {
        elem.removeEventListener('change', _this3.change);
        elem.removeEventListener('propertychange', _this3.change);
      });
    }
  }, {
    key: "elements",
    get: function get() {
      if (this._elements) return this._elements;
      var elements = {
        all: [].slice.call(this.container.querySelectorAll('[data-recurly]'))
      };
      elements.all.forEach(function (node) {
        var name = _util_dom__WEBPACK_IMPORTED_MODULE_3___default.a.data(node, 'recurly');
        if (!(name in elements)) elements[name] = [];
        elements[name].push(node);
      });
      this._elements = elements;
      return elements;
    }
  }]);

  return Attachment;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);


function ignoreNotFound(err) {
  if (err.code === 'not-found') return;else throw err;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/subscription/calculations.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/subscription/calculations.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Calculations; });
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash.isempty */ "./node_modules/lodash.isempty/index.js");
/* harmony import */ var lodash_isempty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isempty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/decimalize-member */ "./node_modules/recurly.js/lib/util/decimalize-member.js");
/* harmony import */ var _util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/tax-ceil */ "./node_modules/recurly.js/lib/util/tax-ceil.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }






/**
 * Subscription pricing calculation handler
 *
 * @param {SubscriptionPricing} pricing
 * @constructor
 * @public
 */

var Calculations =
/*#__PURE__*/
function () {
  function Calculations(pricing, done) {
    _classCallCheck(this, Calculations);

    this.pricing = pricing;
    this.items = pricing.items;
    this.price = {
      now: {},
      next: {},
      base: {
        plan: {},
        addons: {}
      },
      addons: {},
      // DEPRECATED
      currency: {
        code: this.pricing.currencyCode,
        symbol: this.pricing.currencySymbol
      },
      taxes: []
    };
    this.subtotal();
    this.tax(function () {
      this.total();
      this.giftCard();
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.base.plan, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.base.plan);
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.base.addons, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.base.addons);
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.addons, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.addons); // DEPRECATED

      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.now, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.now);
      component_each__WEBPACK_IMPORTED_MODULE_0___default()(this.price.next, _util_decimalize_member__WEBPACK_IMPORTED_MODULE_3__["default"], this.price.next);
      done(this.price);
    });
  }
  /**
   * Calculates subtotal
   *
   * @private
   */


  _createClass(Calculations, [{
    key: "subtotal",
    value: function subtotal() {
      this.price.now.subtotal = 0;
      this.price.next.subtotal = 0;
      this.plan();
      this.price.now.subtotal += this.price.now.plan;
      this.price.next.subtotal += this.price.next.plan;
      this.addons();
      this.price.now.subtotal += this.price.now.addons;
      this.price.next.subtotal += this.price.next.addons;
      this.setupFee();
      this.discount();
      this.price.now.subtotal -= this.price.now.discount;
      this.price.next.subtotal -= this.price.next.discount;
      this.price.now.subtotal += this.price.now.setup_fee;
    }
    /**
     * Calculates total
     *
     * @private
     */

  }, {
    key: "total",
    value: function total() {
      this.price.now.total = this.price.now.subtotal + this.price.now.tax;
      this.price.next.total = this.price.next.subtotal + this.price.next.tax;
    }
    /**
     * Calculates tax
     *
     * tax info precedence: `tax` > `shipping_address` > `address`
     *
     * @param {Function} done
     * @private
     */

  }, {
    key: "tax",
    value: function tax(done) {
      var _this = this;

      this.price.now.tax = 0;
      this.price.next.tax = 0; // If tax amount has been specified, simply apply it

      if (this.items.tax && this.items.tax.amount) {
        this.price.now.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(this.items.tax.amount.now);
        this.price.next.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(this.items.tax.amount.next);
        return done.call(this);
      } // Tax the shipping address if present, or


      var taxAddress = this.items.shipping_address || this.items.address;

      var taxInfo = _extends({}, taxAddress, this.items.tax);

      if (!lodash_isempty__WEBPACK_IMPORTED_MODULE_2___default()(taxInfo)) {
        this.pricing.recurly.tax(taxInfo, function (err, taxes) {
          if (err) {
            _this.pricing.emit('error', err);
          } else {
            _this.price.taxes = [];
            component_each__WEBPACK_IMPORTED_MODULE_0___default()(taxes, function (tax) {
              if (_this.pricing.taxExempt) return;
              _this.price.now.tax += parseFloat((_this.price.now.subtotal * tax.rate).toFixed(6));
              _this.price.next.tax += parseFloat((_this.price.next.subtotal * tax.rate).toFixed(6)); // If we have taxes, we may want to display the rate...
              // push the taxes so we know what they are...

              _this.price.taxes.push(tax);
            }); // tax estimation prefers partial cents to always round up

            _this.price.now.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.price.now.tax);
            _this.price.next.tax = Object(_util_tax_ceil__WEBPACK_IMPORTED_MODULE_4__["default"])(_this.price.next.tax);
          }

          done.call(_this);
        });
      } else {
        done.call(this);
      }
    }
    /**
     * Computes plan prices
     *
     * @private
     */

  }, {
    key: "plan",
    value: function plan() {
      this.price.now.plan = 0;
      this.price.next.plan = 0;
      if (!this.items.plan) return;
      var base = this.items.plan.price[this.items.currency];
      this.price.base.plan.unit = base.unit_amount;
      this.price.base.plan.setup_fee = base.setup_fee;
      var amount = this.planPrice().amount;
      this.price.now.plan = amount;
      this.price.next.plan = amount;
      if (this.isTrial()) this.price.now.plan = 0;
    }
    /**
     * Computes addon prices and applies addons to the subtotal
     *
     * @private
     */

  }, {
    key: "addons",
    value: function addons() {
      var _this2 = this;

      this.price.now.addons = 0;
      this.price.next.addons = 0;
      if (!this.items.plan) return;
      if (!Array.isArray(this.items.plan.addons)) return;
      this.items.plan.addons.forEach(function (addon) {
        // exclude usage addons
        if (addon.add_on_type !== 'fixed') return;
        var price = addon.price[_this2.items.currency].unit_amount;
        _this2.price.base.addons[addon.code] = price;
        _this2.price.addons[addon.code] = price; // DEPRECATED

        var selected = component_find__WEBPACK_IMPORTED_MODULE_1___default()(_this2.items.addons, {
          code: addon.code
        });

        if (selected) {
          price = price * selected.quantity;
          if (!_this2.isTrial()) _this2.price.now.addons += price;
          _this2.price.next.addons += price;
        }
      });
    }
    /**
     * Applies coupon discount to the subtotal
     *
     * @private
     */

  }, {
    key: "discount",
    value: function discount() {
      var coupon = this.items.coupon;
      this.price.now.discount = 0;
      this.price.next.discount = 0;
      if (!coupon) return;

      if (coupon.discount.rate) {
        var discountNow = parseFloat((this.price.now.subtotal * coupon.discount.rate).toFixed(6));
        var discountNext = parseFloat((this.price.next.subtotal * coupon.discount.rate).toFixed(6));
        this.price.now.discount = Math.round(discountNow * 100) / 100;
        this.price.next.discount = Math.round(discountNext * 100) / 100;
      } else if (coupon.discount.type === 'free_trial') {// Handled in separate trial logic
      } else {
        var discountableNow = this.price.now.subtotal + this.price.now.setup_fee;
        var discountableNext = this.price.next.subtotal;
        this.price.now.discount = Math.min(discountableNow, coupon.discount.amount[this.items.currency]);
        this.price.next.discount = Math.min(discountableNext, coupon.discount.amount[this.items.currency]);
      }

      if (coupon.single_use && this.price.now.discount > 0) this.price.next.discount = 0;
    }
    /**
     * Applies plan setup fee to the subtotal
     *
     * @private
     */

  }, {
    key: "setupFee",
    value: function setupFee() {
      this.price.now.setup_fee = this.planPrice().setup_fee;
      this.price.next.setup_fee = 0;
    }
    /**
     * Subtracts any giftcard value from the total
     *
     * @private
     */

  }, {
    key: "giftCard",
    value: function giftCard() {
      if (this.pricing.items.gift_card) {
        var nowTotal = this.price.now.total;
        var nextTotal = this.price.next.total;
        var giftcardNow = useGiftcard(nowTotal, this.pricing.items.gift_card.unit_amount);
        var giftcardNext = useGiftcard(nextTotal, giftcardNow.remains);
        this.price.now.gift_card = giftcardNow.used;
        this.price.next.gift_card = giftcardNext.used;
        this.price.now.total = nowTotal - giftcardNow.used;
        this.price.next.total = nextTotal - giftcardNext.used;
      }

      function useGiftcard(price, giftcardValue) {
        var used = 0;
        var remains = 0;

        if (giftcardValue > price) {
          used = price;
          remains = giftcardValue - price;
        } else {
          used = giftcardValue;
        }

        return {
          used: used,
          remains: remains
        };
      }
    }
    /**
     * Get the price structure of the current plan on the current currency
     *
     * @return {Object} { amount, setup_fee }
     * @private
     */

  }, {
    key: "planPrice",
    value: function planPrice() {
      var plan = this.items.plan;
      if (!plan) return {
        amount: 0,
        setup_fee: 0
      };
      var price = plan.price[this.items.currency];
      price.amount = price.unit_amount * (plan.quantity || 1);
      return price;
    }
  }, {
    key: "isTrial",
    value: function isTrial() {
      var coupon = this.items.coupon;
      if (coupon && coupon.discount.type === 'free_trial') return true;
      return this.items.plan.trial;
    }
  }]);

  return Calculations;
}();



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/subscription/embedded.js":
/*!******************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/subscription/embedded.js ***!
  \******************************************************************************/
/*! exports provided: DISABLED_METHODS, DEFERRED_METHODS, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISABLED_METHODS", function() { return DISABLED_METHODS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFERRED_METHODS", function() { return DEFERRED_METHODS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EmbeddedSubscriptionPricing; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../promise */ "./node_modules/recurly.js/lib/recurly/pricing/promise.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


 // this isn't being used but maybe needs to be in scope?
// eslint-disable-next-line


var DISABLED_METHODS = ['address', 'coupon', 'currency', 'giftcard', 'shippingAddress', 'bindReporting'];
var DEFERRED_METHODS = ['couponIsValidForSubscription'];
/**
 * Wraps a SubscriptionPricing to be embedded in CheckoutPricing
 *
 * - disables impertinent methods on the original subscriptionPricing
 *   in place
 * - proxies the orignal methods on the new
 *   EmbeddedSubscriptionPricing instance
 *
 * @param {SubscriptionPricing} subscriptionPricing
 * @constructor
 */

var EmbeddedSubscriptionPricing =
/*#__PURE__*/
function () {
  function EmbeddedSubscriptionPricing(subscriptionPricing, checkoutPricing) {
    var _this = this;

    _classCallCheck(this, EmbeddedSubscriptionPricing);

    this.subscription = subscriptionPricing;
    this.checkout = checkoutPricing;
    DISABLED_METHODS.forEach(function (method) {
      var original = subscriptionPricing[method];
      subscriptionPricing[method] = disabledResolverFactory(method, subscriptionPricing);
      _this[method] = original.bind(subscriptionPricing);
    });
    DEFERRED_METHODS.forEach(function (method) {
      _this[method] = function () {
        return subscriptionPricing[method].apply(subscriptionPricing, arguments);
      };
    });
    subscriptionPricing.plan = this.plan.bind(this);
  }

  _createClass(EmbeddedSubscriptionPricing, [{
    key: "plan",

    /**
     * Plan setter
     *
     * - Overrides SubscriptionPricing.plan
     * - Adds additional currency check before setting plan
     * - Adds checkout currency resolution after the plan is set
     *
     * @param {String} planCode
     * @param {Object} [meta]
     * @param {Number} [meta.quantity]
     * @param {Function} [done] callback
     * @return {PricingPromise}
     */
    value: function plan() {
      var _this$subscription,
          _this2 = this;

      var _this$subscription$re = (_this$subscription = this.subscription).resolvePlanOptions.apply(_this$subscription, arguments),
          currentPlan = _this$subscription$re.currentPlan,
          quantity = _this$subscription$re.quantity,
          planCode = _this$subscription$re.planCode,
          done = _this$subscription$re.done;

      return new _promise__WEBPACK_IMPORTED_MODULE_1__["default"](function (resolve, reject) {
        if (currentPlan && currentPlan.code === planCode) {
          currentPlan.quantity = quantity;
          return resolve(currentPlan);
        }

        _this2.checkout.recurly.plan(planCode, function (err, plan) {
          if (err) return _this2.subscription.error(err, reject, 'plan'); // Check if the new plan will resolve with the checkout currencies

          if (_this2.checkout.items.subscriptions.length > 1) {
            try {
              _this2.checkout.resolveCurrency(Object.keys(plan.price), {
                commit: false
              });
            } catch (err) {
              return reject(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('invalid-plan-currency', {
                planCode: plan.code,
                currencies: _this2.checkout.subscriptionCurrencies
              }));
            }
          }

          plan.quantity = quantity;
          _this2.subscription.items.plan = plan;

          var finish = function finish() {
            _this2.subscription.emit('set.plan', plan);

            resolve(plan);
          };

          if (_this2.checkout.currencyCode in plan.price) {
            finish();
          } else {
            // update currencies on checkout, which will propagate the
            // change to the subscriptions
            try {
              _this2.checkout.resolveCurrency(Object.keys(plan.price)).then(finish);
            } catch (e) {
              reject(err);
            }
          }
        });
      }, this.subscription).nodeify(done);
    }
  }, {
    key: "id",
    get: function get() {
      return this.subscription.id;
    }
  }, {
    key: "isValid",
    get: function get() {
      return this.subscription.isValid;
    }
  }, {
    key: "items",
    get: function get() {
      return this.subscription.items;
    }
  }, {
    key: "price",
    get: function get() {
      return this.subscription.price;
    }
  }, {
    key: "taxCode",
    get: function get() {
      return this.subscription.taxCode;
    }
  }, {
    key: "taxExempt",
    get: function get() {
      return this.subscription.taxExempt;
    }
  }]);

  return EmbeddedSubscriptionPricing;
}();



function disabledResolverFactory(method, subscriptionPricing) {
  return function () {
    return new _promise__WEBPACK_IMPORTED_MODULE_1__["default"](function (res) {
      return res();
    }, subscriptionPricing);
  };
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/pricing/subscription/index.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SubscriptionPricing; });
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-clone */ "./node_modules/component-clone/index.js");
/* harmony import */ var component_clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ */ "./node_modules/recurly.js/lib/recurly/pricing/index.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../promise */ "./node_modules/recurly.js/lib/recurly/pricing/promise.js");
/* harmony import */ var _calculations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./calculations */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/calculations.js");
/* harmony import */ var _attachment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./attachment */ "./node_modules/recurly.js/lib/recurly/pricing/subscription/attachment.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }









var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:pricing:subscription-pricing');
/**
 * SubscriptionPricing
 *
 * @constructor
 * @param {Recurly} recurly
 * @public
 */


var SubscriptionPricing =
/*#__PURE__*/
function (_Pricing) {
  _inherits(SubscriptionPricing, _Pricing);

  function SubscriptionPricing(recurly) {
    var _this;

    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref$id = _ref.id,
        id = _ref$id === void 0 ? Object(_util_uid__WEBPACK_IMPORTED_MODULE_1__["default"])() : _ref$id;

    _classCallCheck(this, SubscriptionPricing);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubscriptionPricing).call(this, recurly));
    _this.id = id;
    _this.debug = debug;

    _this.recurly.report('pricing:subscription:create');

    return _this;
  }

  _createClass(SubscriptionPricing, [{
    key: "reset",
    value: function reset() {
      _get(_getPrototypeOf(SubscriptionPricing.prototype), "reset", this).call(this);

      this.items.addons = [];
    }
    /**
     * Attachment factory
     *
     * @param {HTMLElement} container - element on which to attach
     */

  }, {
    key: "attach",
    value: function attach(container) {
      var _this2 = this;

      if (this.attachment) this.attachment.detach();
      this.attachment = new _attachment__WEBPACK_IMPORTED_MODULE_5__["default"](this, container);
      this.attachment.once('ready', function () {
        return _this2.emit('attached');
      });
      return this.attachment;
    }
    /**
     * Updates plan
     *
     * @param {String} planCode
     * @param {Object} [meta]
     * @param {Number} [meta.quantity]
     * @param {Function} [done] callback
     * @return {PricingPromise}
     * @public
     */

  }, {
    key: "plan",
    value: function plan() {
      var _this3 = this;

      var _this$resolvePlanOpti = this.resolvePlanOptions.apply(this, arguments),
          currentPlan = _this$resolvePlanOpti.currentPlan,
          quantity = _this$resolvePlanOpti.quantity,
          planCode = _this$resolvePlanOpti.planCode,
          done = _this$resolvePlanOpti.done;

      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
        if (currentPlan && currentPlan.code === planCode) {
          currentPlan.quantity = quantity;
          return resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(currentPlan));
        }

        _this3.recurly.plan(planCode, function (err, plan) {
          if (err) return _this3.error(err, reject, 'plan');
          plan.quantity = quantity;
          _this3.items.plan = plan;

          if (!(_this3.items.currency in plan.price)) {
            _this3.currency(Object.keys(plan.price)[0]);
          }

          var finish = function finish() {
            return _this3.resolveAndEmit('set.plan', plan, resolve);
          }; // If we have a coupon, it must be reapplied


          if (_this3.items.coupon) {
            _this3.coupon(_this3.items.coupon.code).then(finish, finish);
          } else {
            finish();
          }
        });
      }, this).nodeify(done);
    }
    /**
     * Updates addon
     *
     * @param {String} addonCode
     * @param {Object} [meta]
     * @param {Number} [meta.quantity]
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "addon",
    value: function addon(addonCode, meta, done) {
      var _this4 = this;

      if (typeof meta === 'function') {
        done = meta;
        meta = undefined;
      }

      meta = meta || {};
      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
        if (!_this4.items.plan) return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('missing-plan'), reject, 'addon');
        var planAddon = Object(___WEBPACK_IMPORTED_MODULE_2__["findByCode"])(_this4.items.plan.addons, addonCode);

        if (!planAddon) {
          return _this4.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('invalid-addon', {
            planCode: _this4.items.plan.code,
            addonCode: addonCode
          }), reject, 'addon');
        }

        var quantity = addonQuantity(meta, planAddon);
        var addon = Object(___WEBPACK_IMPORTED_MODULE_2__["findByCode"])(_this4.items.addons, addonCode);

        if (quantity === 0) {
          _this4.remove({
            addons: addonCode
          });
        }

        if (addon) {
          addon.quantity = quantity;
        } else {
          addon = JSON.parse(JSON.stringify(planAddon));
          addon.quantity = quantity;

          _this4.items.addons.push(addon);
        }

        _this4.resolveAndEmit('set.addon', addon, resolve);
      }, this).nodeify(done);
    }
    /**
    * Updates Gift card
    *
    * @param {String} code
    * @param {Function} [done] callback
    * @public
    */

  }, {
    key: "giftcard",
    value: function giftcard(code, done) {
      var self = this;
      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
        unsetGiftcard();
        if (!code) return resolve();
        self.recurly.giftCard({
          code: code
        }, function (err, gift_card) {
          if (err && err.code === 'not-found') unsetGiftcard();

          if (err) {
            return self.error(err, reject, 'gift_card');
          } else {
            if (self.items.currency !== gift_card.currency) {
              unsetGiftcard();
              return self.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('gift-card-currency-mismatch'), reject, 'gift_card');
            } else {
              self.items.gift_card = gift_card;
              self.resolveAndEmit('set.gift_card', gift_card, resolve);
            }
          }
        });
      }, this).nodeify(done);

      function unsetGiftcard() {
        debug('unset.gift_card');
        delete self.items.gift_card;
        self.emit('unset.gift_card');
      }
    }
    /**
     * Updates coupon
     *
     * `set.coupon` is emitted when a valid coupon is set
     * `unset.coupon` is emitted when an existing valid coupon is removed
     * `error.coupon` is emitted when the requested coupon is invalid
     *
     * @param {String} newCoupon coupon code
     * @param {Object} newCoupon coupon object
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "coupon",
    value: function coupon(newCoupon, done) {
      var _this5 = this;

      // If the new coupon matches the current one, we just need to ensure it
      // still applies to the current plan
      if (~this.couponCodes.indexOf(newCoupon)) {
        return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
          if (!_this5.couponIsValidForSubscription(_this5.items.coupon)) {
            _this5.removeCurrentCoupon();

            return _this5.error('invalid-coupon-for-subscription', reject, 'coupon');
          }

          resolve(component_clone__WEBPACK_IMPORTED_MODULE_0___default()(_this5.items.coupon));
        }, this);
      }

      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
        if (!_this5.items.plan) return _this5.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('missing-plan'), reject, 'coupon');
        if (_this5.items.coupon) _this5.removeCurrentCoupon(); // A blank coupon is handled as ok

        if (!newCoupon) return resolve();

        var receiveCoupon = function receiveCoupon(err, coupon) {
          if (err) {
            return _this5.error(err, reject, 'coupon');
          }

          if (!_this5.couponIsValidForSubscription(coupon)) {
            return _this5.error('invalid-coupon-for-subscription', reject, 'coupon');
          } else {
            _this5.items.coupon = coupon;

            _this5.resolveAndEmit('set.coupon', coupon, resolve);
          }
        };

        if (typeof newCoupon === 'string') {
          _this5.recurly.coupon({
            plan: _this5.items.plan.code,
            coupon: newCoupon
          }, receiveCoupon);
        } else {
          receiveCoupon(null, newCoupon);
        }
      }, this).nodeify(done);
    }
    /**
     * Updates address
     *
     * @param {Object} address
     * @param {String} address.country
     * @param {String|Number} address.postal_code
     * @param {String} address.vat_number
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "address",
    value: function address(_address, done) {
      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory('address', _address), this).nodeify(done);
    }
    /**
     * Updates shipping address
     *
     * @param {Object} address
     * @param {String} address.country
     * @param {String|Number} address.postal_code
     * @param {String} address.vat_number
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "shippingAddress",
    value: function shippingAddress(address, done) {
      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory('shipping_address', address), this).nodeify(done);
    }
    /**
     * Updates tax info
     *
     * @param {Object} tax
     * @param {String} tax.taxCode
     * @param {String} tax.vatNmber
     * @param {Object} [tax.amounts] specific tax amounts. Overrides automated tax rate calculations
     * @param {Object} [tax.amounts.now] specific tax to apply on the immediate charge
     * @param {Object} [tax.amounts.next] specific tax to apply on the next billing cycle
     * @param {String} tax.tax_code // deprecated
     * @param {String} tax.vat_number // deprecated
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "tax",
    value: function tax(_tax, done) {
      this.guardTaxSignature(_tax);
      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](this.itemUpdateFactory('tax', _tax), this).nodeify(done);
    }
    /**
     * Updates or retrieves currency code
     *
     * @param {String} code
     * @param {Function} [done] callback
     * @public
     */

  }, {
    key: "currency",
    value: function currency(code, done) {
      var _this6 = this;

      return new _promise__WEBPACK_IMPORTED_MODULE_3__["default"](function (resolve, reject) {
        var plan = _this6.items.plan;
        if (_this6.items.currency === code) return resolve(_this6.items.currency);

        if (plan && !(code in plan.price)) {
          return _this6.error(Object(_errors__WEBPACK_IMPORTED_MODULE_6__["default"])('invalid-currency', {
            currency: code,
            allowed: Object.keys(plan.price)
          }), reject, 'currency');
        }

        _this6.items.currency = code;

        _this6.resolveAndEmit('set.currency', code, resolve);
      }, this).nodeify(done);
    }
    /**
     * Checks whether a given coupon may apply to this subscription
     * @param  {Object} coupon
     * @return {Boolean}
     * @private
     */

  }, {
    key: "couponIsValidForSubscription",
    value: function couponIsValidForSubscription(coupon) {
      if (!coupon) return false;
      if (!coupon.applies_to_plans) return false;
      if (coupon.applies_to_all_plans) return true;
      if (~coupon.plans.indexOf(this.items.plan.code)) return true;
      return false;
    }
    /**
     * Removes the current coupon
     *
     * emits `unset.coupon`
     *
     * @private
     */

  }, {
    key: "removeCurrentCoupon",
    value: function removeCurrentCoupon() {
      var _this7 = this;

      if (!this.items.coupon) return;
      var currentCoupon = component_clone__WEBPACK_IMPORTED_MODULE_0___default()(this.items.coupon);
      debug('unset.coupon');
      this.remove({
        coupon: currentCoupon.code
      }).then(function () {
        return _this7.emit('unset.coupon', currentCoupon);
      });
    }
    /**
     * Parses plan method options
     *
     * @param  {String}   planCode
     * @param  {Object}   [options]
     * @param  {Function} done
     * @return {object}
     * @private
     */

  }, {
    key: "resolvePlanOptions",
    value: function resolvePlanOptions(planCode) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var done = arguments.length > 2 ? arguments[2] : undefined;
      var plan = this.items.plan;
      var quantity;

      if (typeof options === 'function') {
        done = options;
        options = {};
      } // options.quantity, plan.quantity, 1


      if (plan && plan.quantity) quantity = plan.quantity;
      if (options.quantity) quantity = parseInt(options.quantity, 10);
      if (!quantity || quantity < 1) quantity = 1;
      return {
        currentPlan: plan,
        quantity: quantity,
        planCode: planCode,
        options: options,
        done: done
      };
    }
    /**
     * Binds important events to the EventDispatcher
     *
     * @protected
     */

  }, {
    key: "bindReporting",
    value: function bindReporting() {
      var _this8 = this;

      _get(_getPrototypeOf(SubscriptionPricing.prototype), "bindReporting", this).call(this, 'pricing:subscription');

      var report = function report() {
        var _this8$recurly;

        return (_this8$recurly = _this8.recurly).report.apply(_this8$recurly, arguments);
      };

      this.on('attached', function () {
        return report('pricing:subscription:attached');
      });
      this.on('change:external', function (price) {
        return report('pricing:subscription:change', {
          price: {
            addons: price.now.addons,
            couponCodes: _this8.couponCodes,
            currency: _this8.currencyCode,
            discount: price.now.discount,
            giftCard: price.now.gift_card,
            taxes: price.now.taxes,
            total: price.now.total,
            totalNext: price.next.total
          }
        });
      });
    }
  }, {
    key: "Calculations",
    get: function get() {
      return _calculations__WEBPACK_IMPORTED_MODULE_4__["default"];
    }
  }, {
    key: "PRICING_METHODS",
    get: function get() {
      return _get(_getPrototypeOf(SubscriptionPricing.prototype), "PRICING_METHODS", this).concat(['addon', 'address', 'coupon', 'currency', 'giftcard', 'plan', 'shippingAddress', 'tax']);
    }
  }, {
    key: "isValid",
    get: function get() {
      return !!(this.items.plan && this.price);
    }
  }, {
    key: "taxCode",
    get: function get() {
      // eslint-disable-next-line
      if (!this.items.tax) return;
      return this.items.tax.taxCode || this.items.tax.tax_code;
    }
  }, {
    key: "taxExempt",
    get: function get() {
      return this.items.plan && this.items.plan.tax_exempt;
    }
  }]);

  return SubscriptionPricing;
}(___WEBPACK_IMPORTED_MODULE_2__["Pricing"]);



function addonQuantity(meta, planAddon) {
  var qty = 1;
  if ('quantity' in planAddon) qty = planAddon.quantity;
  if ('quantity' in meta) qty = meta.quantity;
  return parseInt(qty, 10) || 0;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/reporter.js":
/*!*********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/reporter.js ***!
  \*********************************************************/
/*! exports provided: Reporter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Reporter", function() { return Reporter; });
/* harmony import */ var _worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./worker */ "./node_modules/recurly.js/lib/recurly/worker.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:reporter');
/**
 * Reports events to the API
 *
 * @param {Object} options
 * @param {Recurly} options.recurly
 */


var Reporter =
/*#__PURE__*/
function () {
  function Reporter(_ref) {
    var recurly = _ref.recurly;

    _classCallCheck(this, Reporter);

    this.pool = [];
    this.recurly = recurly;
    if (!this.shouldDispatch) return;
    this.worker = new _worker__WEBPACK_IMPORTED_MODULE_0__["IntervalWorker"]({
      perform: this.deliver.bind(this)
    });

    try {
      this.worker.start();
    } catch (err) {
      debug('Error starting worker', err);
    }
  }
  /**
   * Sends a reporting event to be dispatched
   *
   * Warning: any errors that occur in this code path risk a
   * stack overflow
   *
   * @param  {String} name event name
   * @param  {Object} meta event metadata
   */


  _createClass(Reporter, [{
    key: "send",
    value: function send(name, meta) {
      if (!this.shouldDispatch) return;
      this.pool.push(this.payload(name, meta));
    }
    /**
     * Stops the worker and removes external references
     *
     * @return {[type]} [description]
     */

  }, {
    key: "destroy",
    value: function destroy() {
      debug('destroying reporter');

      if (this.worker) {
        this.worker.destroy();
        delete this.worker;
      }
    }
    /**
     * Whether events should be dispatched
     *
     * @return {Boolean}
     * @private
     */

  }, {
    key: "deliver",

    /**
     * Delivery job. Sends events in a queued request to the events endpoint
     *
     * @private
     */
    value: function deliver() {
      if (this.pool.length === 0) return;
      var data = {
        events: this.pool.splice(0, this.pool.length)
      };
      this.recurly.request.queued({
        method: 'post',
        route: '/events',
        data: data
      });
    }
    /**
     * Formats an event payload
     *
     * @param {String} name event name
     * @param {Object} [meta] event metadata
     * @private
     */

  }, {
    key: "payload",
    value: function payload(name, meta) {
      return {
        name: name,
        meta: meta,
        occurredAt: new Date().toISOString()
      };
    }
  }, {
    key: "shouldDispatch",
    get: function get() {
      return this.recurly.isParent;
    }
  }]);

  return Reporter;
}();

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/request.js":
/*!********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/request.js ***!
  \********************************************************/
/*! exports provided: Request */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Request", function() { return Request; });
/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash.chunk */ "./node_modules/lodash.chunk/index.js");
/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_deep_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/deep-assign */ "./node_modules/recurly.js/lib/util/deep-assign.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var jsonp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonp */ "./node_modules/jsonp/index.js");
/* harmony import */ var jsonp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonp__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! qs */ "./node_modules/recurly.js/node_modules/qs/lib/index.js");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_5__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }








var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:Request');
/**
 * XHR/XDM Reference, according to browser environment
 */


var XHR = function () {
  var XHR = window.XMLHttpRequest;
  var XDM = window.XDomainRequest;
  if (XHR && 'withCredentials' in new XHR()) return XHR;
  if (XDM) return XDM;
}();

var NOOP = function NOOP() {};
/**
 * @typedef {RequestOptions}
 *
 * @property {String}   route          API route (e.g.: '/plans/my-plan')
 * @property {Object}   data           Request payload
 * @property {Function} [done]         Response callback. Signature: done(err, res)
 * @property {Boolean}  [cached=false] Whether to cache the request
 */

/**
 * Constructs and issues API requests according to
 * the Recurly /js/v1 API contract
 *
 * @param {Object} options
 * @param {Recurly} options.recurly Recurly instance
 */


var Request =
/*#__PURE__*/
function () {
  function Request(options) {
    _classCallCheck(this, Request);

    this.recurly = options.recurly;
    this.cache = {};
  }
  /**
   * @type {Number} default is 60 seconds
   */


  _createClass(Request, [{
    key: "get",

    /**
     * Performs a GET request
     *
     * @public
     * @param {RequestOptions} options
     *
     * @return {Promise} if `done` is not passed in options
     * @return {undefined} if `done` is passed in options -- the callback will be used instead
     */
    value: function get(_ref) {
      var route = _ref.route,
          data = _ref.data,
          done = _ref.done,
          cached = _ref.cached;
      return this.requestWithCallback({
        method: 'get',
        route: route,
        data: data,
        done: done,
        cached: cached
      });
    }
    /**
     * Performs a POST request
     *
     * @public
     * @param {RequestOptions} options
     *
     * @return {Promise} if `done` is not passed in options
     * @return {undefined} if `done` is passed in options -- the callback will be used instead
     */

  }, {
    key: "post",
    value: function post(_ref2) {
      var route = _ref2.route,
          data = _ref2.data,
          done = _ref2.done,
          cached = _ref2.cached;
      return this.requestWithCallback({
        method: 'post',
        route: route,
        data: data,
        done: done,
        cached: cached
      });
    }
    /**
     * Constructs a request with an optional callback resolve handler
     *
     * @private
     * @param {RequestOptions} options
     * @param {String}         options.method 'get' or 'post'
     *
     * @return {Promise} if `done` is not passed in options
     * @return {undefined} if `done` is passed in options -- the callback will be used instead
     */

  }, {
    key: "requestWithCallback",
    value: function requestWithCallback(_ref3) {
      var method = _ref3.method,
          route = _ref3.route,
          data = _ref3.data,
          done = _ref3.done,
          _ref3$cached = _ref3.cached,
          cached = _ref3$cached === void 0 ? false : _ref3$cached;
      var request = this[cached ? 'cached' : 'request']({
        method: method,
        route: route,
        data: data
      });

      if (done) {
        return request.done(function (res) {
          return done(null, res);
        }, function (err) {
          return done(err, null);
        });
      }

      return request;
    }
    /**
     * Issues an API request
     *
     * @public
     * @param {String} method
     * @param {String} route
     * @param {Object} [data]
     * @throws {Error} If `configure` has not been called.
     *
     * @return {Promise}
     */

  }, {
    key: "request",
    value: function request(_ref4) {
      var method = _ref4.method,
          route = _ref4.route,
          _ref4$data = _ref4.data,
          data = _ref4$data === void 0 ? {} : _ref4$data;
      debug('request', method, route, data);

      if (!this.isConfigured) {
        return promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])('not-configured'));
      }

      var version = this.version,
          key = this.key,
          deviceId = this.deviceId,
          sessionId = this.sessionId,
          instanceId = this.instanceId;
      var url = this.recurly.url(route);
      data = Object(_util_deep_assign__WEBPACK_IMPORTED_MODULE_1__["default"])({}, data, {
        version: version,
        key: key,
        deviceId: deviceId,
        sessionId: sessionId,
        instanceId: instanceId
      });

      if (this.shouldUseXHR) {
        return this.xhr({
          method: method,
          url: url,
          data: data
        });
      } else {
        return this.jsonp({
          method: method,
          url: url,
          data: data
        });
      }
    }
    /**
     * Performs an API request with caching
     */

  }, {
    key: "cached",
    value: function cached(_ref5) {
      var method = _ref5.method,
          route = _ref5.route,
          data = _ref5.data;
      var cache = this.cache;
      var slug = "".concat(method, "-").concat(route, "-").concat(JSON.stringify(data));
      if (cache[slug]) return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(cache[slug]);
      return this.request({
        method: method,
        route: route,
        data: data
      }).then(function (res) {
        return cache[slug] = res;
      });
    }
    /**
     * Performs an API request that queues until it is able to be sent
     */

  }, {
    key: "queued",
    value: function queued() {
      var _this = this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      if (this.isConfigured) return this.request.apply(this, args);
      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {
        _this.recurly.once('configured', function () {
          return _this.request.apply(_this, args).then(resolve, reject);
        });
      });
    }
    /**
     * Pipelines a request across several requests
     *
     * Chunks are made of `data[by]` in `size`. If any request errors,
     * the entire pipeline errors
     *
     * - Ignores individual 404s
     * - Rejects if all responses are 404s
     * - Immediately rejects other errors
     * - Collects and concats array responses
     * - Resolves non-array responses with the first response
     *
     * @param {String} method
     * @param {String} route
     * @param {Object} data
     * @param {Array} data.by must be an Array
     * @param {String} by
     * @param {Number} size=100
     * @return {Promise}
     */

  }, {
    key: "piped",
    value: function piped(_ref6) {
      var _this2 = this;

      var _ref6$method = _ref6.method,
          method = _ref6$method === void 0 ? 'get' : _ref6$method,
          route = _ref6.route,
          _ref6$data = _ref6.data,
          data = _ref6$data === void 0 ? {} : _ref6$data,
          by = _ref6.by,
          _ref6$size = _ref6.size,
          size = _ref6$size === void 0 ? 100 : _ref6$size;
      var chunks = lodash_chunk__WEBPACK_IMPORTED_MODULE_0___default()(data[by], size).map(function (piece) {
        return _extends({}, data, _defineProperty({}, by, piece));
      });

      if (chunks.length === 0) {
        return this.request({
          method: method,
          route: route,
          data: data
        });
      }

      var ignoreNotfound = function ignoreNotfound(error) {
        return error.code === 'not-found' ? {
          error: error
        } : promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(error);
      };

      var pipeline = chunks.map(function (data) {
        return _this2.request({
          method: method,
          route: route,
          data: data
        }).catch(ignoreNotfound);
      });
      return promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(pipeline).then(function (results) {
        var successes = results.filter(function (res) {
          return !res.error;
        });

        if (successes.length === 0) {
          return promise__WEBPACK_IMPORTED_MODULE_4___default.a.reject(results[0].error);
        } // Determines if any single success response is not an Array.
        // If so, we resolve with that single response


        var nonArraySuccess = successes.filter(function (res) {
          return !Array.isArray(res);
        })[0];
        if (nonArraySuccess) return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(nonArraySuccess); // If we are left entirely with successful Array responses, resolve
        // with a concatenated Array of them all

        return promise__WEBPACK_IMPORTED_MODULE_4___default.a.resolve(successes.reduce(function (acc, cur) {
          return acc.concat(cur);
        }));
      });
    }
    /**
     * Issues an API request over xhr.
     *
     * @private
     * @param {String} method
     * @param {String} url
     * @param {Object} [data]
     * @return {Promise}
     */

  }, {
    key: "xhr",
    value: function xhr(_ref7) {
      var _this3 = this;

      var method = _ref7.method,
          url = _ref7.url,
          data = _ref7.data;

      var error = function error() {
        var _this3$recurly;

        return (_this3$recurly = _this3.recurly).error.apply(_this3$recurly, arguments);
      };

      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {
        var req = new XHR();
        var payload = qs__WEBPACK_IMPORTED_MODULE_5___default.a.stringify(data, {
          encodeValuesOnly: true
        });
        var timeout = _this3.timeout;

        if (method === 'get') {
          url += "?".concat(payload);
        }

        req.open(method, url);
        req.timeout = timeout;

        req.ontimeout = function () {
          return reject(error('api-timeout'));
        };

        req.onerror = function () {
          return reject(error('api-error'));
        };

        req.onprogress = NOOP;

        req.onload = function () {
          var res;

          try {
            if (this.responseText) res = JSON.parse(this.responseText);
          } catch (e) {
            debug(e, this.responseText);
            return reject(error('api-error', {
              message: "There was a problem parsing the API response.\n              request:\n                url: ".concat(method, " ").concat(url, "\n                body: ").concat(data, "\n              response:\n                body: ").concat(this.responseText)
            }));
          }

          if (res && res.error) {
            reject(error('api-error', res.error));
          } else {
            resolve(res);
          }
        }; // XDR requests will abort if too many are sent simultaneously


        setTimeout(function () {
          if (method === 'post') {
            // XDR cannot set Content-type
            if (req.setRequestHeader) {
              req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            }

            req.send(payload);
          } else {
            req.send();
          }
        }, 0);
      });
    }
    /**
     * Issues an API request over jsonp.
     *
     * @private
     * @param {String} method
     * @param {String} url
     * @param {Object} [data]
     */

  }, {
    key: "jsonp",
    value: function jsonp(_ref8) {
      var method = _ref8.method,
          url = _ref8.url,
          data = _ref8.data;
      var timeout = this.timeout,
          recurly = this.recurly;
      if (method === 'post') data._method = method;
      url += "?".concat(qs__WEBPACK_IMPORTED_MODULE_5___default.a.stringify(data, {
        encodeValuesOnly: true
      }));
      return new promise__WEBPACK_IMPORTED_MODULE_4___default.a(function (resolve, reject) {
        jsonp__WEBPACK_IMPORTED_MODULE_3___default()(url, {
          prefix: '__rjs',
          timeout: timeout
        }, function (err, res) {
          if (err) return reject(err);

          if (res.error) {
            reject(recurly.error('api-error', res.error));
          } else {
            resolve(res);
          }
        });
      });
    }
  }, {
    key: "timeout",
    get: function get() {
      return this.recurly.config.timeout || 60000;
    }
    /**
     * @type {String}
     */

  }, {
    key: "key",
    get: function get() {
      return this.recurly.config.publicKey;
    }
    /**
     * @type {String}
     */

  }, {
    key: "version",
    get: function get() {
      return this.recurly.isParent ? this.recurly.version : this.recurly.config.parentVersion;
    }
    /**
     * @type {String}
     */

  }, {
    key: "deviceId",
    get: function get() {
      return this.recurly.deviceId;
    }
    /**
     * @type {String}
     */

  }, {
    key: "instanceId",
    get: function get() {
      return this.recurly.id;
    }
    /**
     * @type {String}
     */

  }, {
    key: "sessionId",
    get: function get() {
      return this.recurly.sessionId;
    }
    /**
     * @type {Boolean}
     */

  }, {
    key: "shouldUseXHR",
    get: function get() {
      return !!this.recurly.config.cors;
    }
    /**
     * @type {Boolean}
     */

  }, {
    key: "isConfigured",
    get: function get() {
      return !!this.recurly.configured;
    }
  }]);

  return Request;
}();

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/index.js ***!
  \***********************************************************/
/*! exports provided: factory, Risk */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _risk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./risk */ "./node_modules/recurly.js/lib/recurly/risk/risk.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return _risk__WEBPACK_IMPORTED_MODULE_0__["factory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Risk", function() { return _risk__WEBPACK_IMPORTED_MODULE_0__["Risk"]; });



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/risk-concern.js":
/*!******************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/risk-concern.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RiskConcern; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _util_readiness_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/readiness-emitter */ "./node_modules/recurly.js/lib/util/readiness-emitter.js");
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




/**
 * Risk concern management class
 *
 * @abstract
 */

var RiskConcern =
/*#__PURE__*/
function (_ReadinessEmitter) {
  _inherits(RiskConcern, _ReadinessEmitter);

  function RiskConcern(_ref) {
    var _this;

    var risk = _ref.risk;

    _classCallCheck(this, RiskConcern);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(RiskConcern).call(this));

    _defineProperty(_assertThisInitialized(_this), "concernName", 'base');

    _this.id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_2__["default"])();
    _this.risk = risk;

    _this.risk.add(_assertThisInitialized(_this));

    return _this;
  }

  _createClass(RiskConcern, [{
    key: "attach",
    // To be implemented by individual concerns
    value: function attach() {}
  }, {
    key: "remove",
    value: function remove() {}
  }, {
    key: "error",
    value: function error() {
      var err = _errors__WEBPACK_IMPORTED_MODULE_0__["default"].apply(void 0, arguments);
      this.emit('error', err);
    }
  }, {
    key: "report",
    value: function report(name, meta) {
      var risk = this.risk,
          concernId = this.id,
          concernName = this.concernName;
      risk.recurly.report("".concat(concernName, ":").concat(name), _objectSpread({
        concernId: concernId
      }, meta));
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.remove();
      this.risk.remove(this);
      this.off();
    }
  }, {
    key: "recurly",
    get: function get() {
      return this.risk.recurly;
    }
  }]);

  return RiskConcern;
}(_util_readiness_emitter__WEBPACK_IMPORTED_MODULE_1__["default"]);



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/risk.js":
/*!**********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/risk.js ***!
  \**********************************************************/
/*! exports provided: factory, Risk */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Risk", function() { return Risk; });
/* harmony import */ var _risk_concern__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./risk-concern */ "./node_modules/recurly.js/lib/recurly/risk/risk-concern.js");
/* harmony import */ var _three_d_secure__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-d-secure */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/index.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk');

function factory(options) {
  return new Risk(_objectSpread({
    recurly: this
  }, options));
}
/**
 * Risk concerns controller
 */

var Risk =
/*#__PURE__*/
function () {
  _createClass(Risk, null, [{
    key: "preflight",

    /**
     * Retrieves preflight data and performs preflight procedures per concern
     *
     * Filters out any timeout results
     *
     * @param {Recurly} options.recurly
     * @param {String}  options.bin     credit card BIN
     * @return {Promise}
     */
    value: function preflight(_ref) {
      var recurly = _ref.recurly,
          number = _ref.number,
          month = _ref.month,
          year = _ref.year;
      return recurly.request.get({
        route: '/risk/preflights'
      }).then(function (_ref2) {
        var preflights = _ref2.preflights;
        debug('received preflight instructions', preflights);
        return _three_d_secure__WEBPACK_IMPORTED_MODULE_1__["ThreeDSecure"].preflight({
          recurly: recurly,
          number: number,
          month: month,
          year: year,
          preflights: preflights
        });
      }).then(function (results) {
        return results.filter(function (maybeErr) {
          if (maybeErr.code === 'risk-preflight-timeout') {
            debug('timeout encountered', maybeErr);
            return false;
          }

          return true;
        });
      });
    }
  }, {
    key: "browserInfo",

    /**
     * Returns a set of values helpful for building a risk profile,
     * formatted for the API
     *
     * @typedef {Object} BrowserInfo
     * @property {Number} color_depth
     * @property {Boolean} java_enabled
     * @property {String} language
     * @property {Number} screen_height
     * @property {Number} screen_width
     * @property {Number} time_zone_offset
     * @property {String} user_agent
     *
     * @private
     * @return {BrowserInfo}
     */
    get: function get() {
      var _window = window,
          navigator = _window.navigator,
          screen = _window.screen;
      var language = navigator.language,
          user_agent = navigator.userAgent;
      var color_depth = screen.colorDepth;
      return {
        color_depth: color_depth,
        java_enabled: navigator.javaEnabled(),
        language: language,
        referrer_url: window.location.href,
        screen_height: screen.height,
        screen_width: screen.width,
        time_zone_offset: new Date().getTimezoneOffset(),
        user_agent: user_agent
      };
    }
  }]);

  function Risk(_ref3) {
    var recurly = _ref3.recurly;

    _classCallCheck(this, Risk);

    _defineProperty(this, "ThreeDSecure", _three_d_secure__WEBPACK_IMPORTED_MODULE_1__["factory"]);

    this.recurly = recurly;
    this.concerns = [];
  }
  /**
   * Adds a risk concern to the controller
   *
   * @private
   * @param {RiskConcern} concern
   */


  _createClass(Risk, [{
    key: "add",
    value: function add(concern) {
      if (!(concern instanceof _risk_concern__WEBPACK_IMPORTED_MODULE_0__["default"])) {
        throw "Invalid concern. Expected 'RiskConcern', got '".concat(_typeof(concern), "'");
      }

      this.concerns.push(concern);
    }
    /**
     * Removes a risk concern from the controller
     *
     * @private
     * @param {RiskConcern} concern
     * @return {Boolean} whether the removal was successful
     */

  }, {
    key: "remove",
    value: function remove(concern) {
      var concerns = this.concerns;
      var pos = concerns.indexOf(concern);
      var removed = ~pos && concerns.splice(pos, 1);
      return !!removed;
    }
  }]);

  return Risk;
}();

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/index.js ***!
  \**************************************************************************/
/*! exports provided: factory, ThreeDSecure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _three_d_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./three-d-secure */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/three-d-secure.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return _three_d_secure__WEBPACK_IMPORTED_MODULE_0__["factory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThreeDSecure", function() { return _three_d_secure__WEBPACK_IMPORTED_MODULE_0__["ThreeDSecure"]; });



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/adyen.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/adyen.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AdyenStrategy; });
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:adyen');

var AdyenStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(AdyenStrategy, _ThreeDSecureStrategy);

  function AdyenStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, AdyenStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AdyenStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));
    if (!_this.shouldLoadAdyenLibrary) return _possibleConstructorReturn(_this);
    debug('loading Adyen library');

    _this.loadAdyenLibrary().catch(function (cause) {
      return _this.threeDSecure.error('3ds-vendor-load-error', {
        vendor: 'Adyen',
        cause: cause
      });
    }).then(function () {
      _this.adyenCheckout = new window.AdyenCheckout();
      debug('Adyen checkout instance created', _this.adyenCheckout);

      _this.markReady();
    });

    return _this;
  }

  _createClass(AdyenStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(AdyenStrategy.prototype), "attach", this).call(this, element);

      var shouldFallback = this.shouldFallback,
          shouldFingerprint = this.shouldFingerprint,
          shouldChallenge = this.shouldChallenge;

      if (shouldFingerprint) {
        this.whenReady(function () {
          return _this2.fingerprint();
        });
      } else if (shouldChallenge) {
        this.whenReady(function () {
          return _this2.challenge();
        });
      } else if (shouldFallback) {
        this.fallback();
      } else {
        var cause = 'We could not determine an authentication method';
        this.threeDSecure.error('3ds-auth-determination-error', {
          cause: cause
        });
      }
    }
    /**
     * Removes DOM elements
     */

  }, {
    key: "remove",
    value: function remove() {
      var frame = this.frame;
      if (frame) frame.destroy();

      _get(_getPrototypeOf(AdyenStrategy.prototype), "remove", this).call(this);
    }
    /**
     * Initiates device fingerprinting through AdyenCheckout
     */

  }, {
    key: "fingerprint",
    value: function fingerprint() {
      var _this3 = this;

      var adyenCheckout = this.adyenCheckout,
          adyenFingerprintToken = this.adyenFingerprintToken,
          container = this.container;
      debug('Initializing fingerprinting with Adyen token', adyenFingerprintToken);
      var fingerprintService = adyenCheckout.create('threeDS2DeviceFingerprint', {
        fingerprintToken: adyenFingerprintToken,
        onComplete: function onComplete(results) {
          return _this3.emit('done', results);
        },
        onError: function onError(cause) {
          return _this3.threeDSecure.error('3ds-auth-error', {
            cause: cause
          });
        }
      });
      fingerprintService.mount(container);
    }
    /**
     * Initiates a challenge through AdyenCheckout
     */

  }, {
    key: "challenge",
    value: function challenge() {
      var _this4 = this;

      var adyenCheckout = this.adyenCheckout,
          adyenChallengeToken = this.adyenChallengeToken,
          container = this.container;
      debug('Initializing challenge with Adyen token', adyenChallengeToken);
      var challengeService = adyenCheckout.create('threeDS2Challenge', {
        challengeToken: adyenChallengeToken,
        onComplete: function onComplete(results) {
          return _this4.emit('done', results);
        },
        onError: function onError(cause) {
          return _this4.threeDSecure.error('3ds-auth-error', {
            cause: cause
          });
        },
        size: '05'
      });
      challengeService.mount(container);
    }
    /**
     * Constructs a 3D Secure 1.0 iframe
     *
     * TODO: Move this into a separate strategy, and have this strategy
     *       instruct ThreeDSecureConcern to employ it instead
     */

  }, {
    key: "fallback",
    value: function fallback() {
      var _this5 = this;

      debug('Initiating 3D Secure 1.0 frame');
      var adyenRedirectParams = this.adyenRedirectParams,
          container = this.container,
          threeDSecure = this.threeDSecure;
      var recurly = threeDSecure.risk.recurly;

      var payload = _objectSpread({
        redirect_url: adyenRedirectParams.url
      }, adyenRedirectParams.data);

      this.frame = recurly.Frame({
        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,
        path: '/three_d_secure/start',
        payload: payload,
        container: container
      }).on('error', function (cause) {
        return threeDSecure.error('3ds-auth-error', {
          cause: cause
        });
      }).on('done', function (results) {
        return _this5.emit('done', results);
      });
    }
    /**
     * Loads Adyen library dependency
     */

  }, {
    key: "loadAdyenLibrary",
    value: function loadAdyenLibrary() {
      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {
        if (window.AdyenCheckout) return resolve();
        load_script__WEBPACK_IMPORTED_MODULE_0___default()(AdyenStrategy.libUrl, function (error) {
          if (error) reject(error);else resolve();
        });
      });
    }
  }, {
    key: "shouldLoadAdyenLibrary",
    get: function get() {
      return !this.shouldFallback;
    }
  }, {
    key: "shouldFingerprint",
    get: function get() {
      return !!this.adyenFingerprintToken;
    }
  }, {
    key: "shouldChallenge",
    get: function get() {
      return !!this.adyenChallengeToken;
    }
  }, {
    key: "shouldFallback",
    get: function get() {
      return !!this.adyenRedirectParams;
    }
  }, {
    key: "adyenFingerprintToken",
    get: function get() {
      var authentication = this.actionToken.three_d_secure.params.authentication;
      return authentication && authentication['threeds2.fingerprintToken'];
    }
  }, {
    key: "adyenChallengeToken",
    get: function get() {
      var authentication = this.actionToken.three_d_secure.params.authentication;
      return authentication && authentication['threeds2.challengeToken'];
    }
  }, {
    key: "adyenRedirectParams",
    get: function get() {
      return this.actionToken.three_d_secure.params.redirect;
    }
  }]);

  return AdyenStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(AdyenStrategy, "libUrl", 'https://checkoutshopper-test.adyen.com/checkoutshopper/sdk/2.2.0/adyen.js');

_defineProperty(AdyenStrategy, "strategyName", 'adyen');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/braintree.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/braintree.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BraintreeStrategy; });
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:braintree');

var BRAINTREE_CLIENT_VERSION = '3.76.0';

var BraintreeStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(BraintreeStrategy, _ThreeDSecureStrategy);

  function BraintreeStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, BraintreeStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BraintreeStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));
    debug('loading braintree libraries');

    _this.loadBraintreeLibraries().catch(function (cause) {
      return _this.threeDSecure.error('3ds-vendor-load-error', {
        vendor: 'Braintree',
        cause: cause
      });
    }).then(function () {
      _this.braintree = window.braintree;
      debug('Braintree checkout instance created', _this.braintree);

      _this.markReady();
    });

    return _this;
  }

  _createClass(BraintreeStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(BraintreeStrategy.prototype), "attach", this).call(this, element);

      this.whenReady(function () {
        debug('Attempting to load braintree');
        var braintree = _this2.braintree,
            braintreeClientToken = _this2.braintreeClientToken,
            amount = _this2.amount,
            nonce = _this2.nonce,
            bin = _this2.bin;
        braintree.client.create({
          authorization: braintreeClientToken
        }).then(function (clientInstance) {
          return braintree.threeDSecure.create({
            client: clientInstance,
            version: 2
          });
        }).then(function (threeDSecureInstance) {
          return threeDSecureInstance.verifyCard({
            amount: amount,
            nonce: nonce,
            bin: bin,
            onLookupComplete: function onLookupComplete(data, next) {
              next();
            }
          });
        }).then(function (_ref) {
          var paymentMethodNonce = _ref.nonce;
          return _this2.emit('done', {
            paymentMethodNonce: paymentMethodNonce
          });
        }).catch(function (cause) {
          return _this2.threeDSecure.error('3ds-auth-error', {
            cause: cause
          });
        });
      });
    }
  }, {
    key: "urlForResource",
    value: function urlForResource(type) {
      return "https://js.braintreegateway.com/web/".concat(BRAINTREE_CLIENT_VERSION, "/js/").concat(type, ".min.js");
    }
    /**
     * Loads Braintree library dependency
     */

  }, {
    key: "loadBraintreeLibraries",
    value: function loadBraintreeLibraries() {
      var _this3 = this;

      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {
        if (window.braintree && window.braintree.client && window.braintree.threeDSecure) return resolve();
        load_script__WEBPACK_IMPORTED_MODULE_0___default()(_this3.urlForResource('client'), function (error) {
          if (error) reject(error);else load_script__WEBPACK_IMPORTED_MODULE_0___default()(_this3.urlForResource('three-d-secure'), function (error) {
            if (error) reject(error);else resolve();
          });
        });
      });
    }
  }, {
    key: "braintreeClientToken",
    get: function get() {
      return this.actionToken.three_d_secure.params.client_token;
    }
  }, {
    key: "nonce",
    get: function get() {
      return this.actionToken.three_d_secure.params.payment_method_nonce;
    }
  }, {
    key: "amount",
    get: function get() {
      return this.actionToken.transaction.amount;
    }
  }, {
    key: "bin",
    get: function get() {
      return this.actionToken.three_d_secure.params.bin;
    }
  }]);

  return BraintreeStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(BraintreeStrategy, "strategyName", 'braintree_blue');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/cybersource.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/cybersource.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CybersourceStrategy; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:cybersource');

var CybersourceStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(CybersourceStrategy, _ThreeDSecureStrategy);

  _createClass(CybersourceStrategy, null, [{
    key: "preflight",
    value: function preflight(_ref) {
      var recurly = _ref.recurly,
          number = _ref.number,
          month = _ref.month,
          year = _ref.year,
          gateway_code = _ref.gateway_code;
      var preflightDeviceDataCollector = recurly.config.risk.threeDSecure.preflightDeviceDataCollector;

      if (!preflightDeviceDataCollector) {
        return promise__WEBPACK_IMPORTED_MODULE_1___default.a.resolve();
      }

      var PREFLIGHT_TIMEOUT = CybersourceStrategy.PREFLIGHT_TIMEOUT;
      var data = {
        gatewayType: CybersourceStrategy.strategyName,
        gatewayCode: gateway_code,
        number: number,
        month: month,
        year: year
      };
      return recurly.request.post({
        route: '/risk/authentications',
        data: data
      }).then(function (_ref2) {
        var jwt = _ref2.jwt,
            deviceDataCollectionUrl = _ref2.deviceDataCollectionUrl;
        var frame = recurly.Frame({
          path: '/risk/data_collector',
          payload: {
            jwt: jwt,
            redirect_url: deviceDataCollectionUrl
          },
          container: window.document.body,
          type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,
          height: 0,
          width: 0
        });
        return promise__WEBPACK_IMPORTED_MODULE_1___default.a.race([new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {
          var listener = function listener(_ref3) {
            var data = _ref3.data;

            try {
              var body = JSON.parse(data);

              if (body.MessageType === 'profile.completed') {
                debug('received device data session id', body);
                resolve({
                  session_id: body.SessionId
                });
                frame.destroy();
                recurly.bus.off('raw-message', listener);
              }
            } catch (e) {
              debug('Error parsing message. May be foreign message, skipping', e);
            }
          };

          recurly.bus.on('raw-message', listener);
        }), new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {
          setTimeout(function () {
            resolve(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('risk-preflight-timeout', {
              processor: 'cybersource'
            }));
          }, PREFLIGHT_TIMEOUT);
        })]);
      });
    }
  }]);

  function CybersourceStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CybersourceStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CybersourceStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.markReady();

    return _this;
  }

  _createClass(CybersourceStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(CybersourceStrategy.prototype), "attach", this).call(this, element);

      debug('Initiating 3D Secure frame');
      var actionToken = this.actionToken,
          container = this.container,
          threeDSecure = this.threeDSecure,
          redirectUrl = this.redirectUrl;
      var recurly = threeDSecure.risk.recurly;

      var payload = _objectSpread({
        redirect_url: redirectUrl,
        three_d_secure_action_token_id: actionToken.id
      }, actionToken.three_d_secure.params);

      this.frame = recurly.Frame({
        path: '/three_d_secure/start',
        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,
        payload: payload,
        container: container
      }).on('error', function (cause) {
        return threeDSecure.error('3ds-auth-error', {
          cause: cause
        });
      }).on('done', function (results) {
        return _this2.emit('done', results);
      });
    }
    /**
     * Removes DOM elements
     */

  }, {
    key: "remove",
    value: function remove() {
      var frame = this.frame;
      if (frame) frame.destroy();

      _get(_getPrototypeOf(CybersourceStrategy.prototype), "remove", this).call(this);
    }
  }, {
    key: "redirectUrl",
    get: function get() {
      return this.actionToken.three_d_secure.params.redirect_url;
    }
  }]);

  return CybersourceStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(CybersourceStrategy, "strategyName", 'cybersource');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/sage-pay.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/sage-pay.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SagePayStrategy; });
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:sage-pay');

var SagePayStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(SagePayStrategy, _ThreeDSecureStrategy);

  function SagePayStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, SagePayStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SagePayStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.markReady();

    return _this;
  }

  _createClass(SagePayStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(SagePayStrategy.prototype), "attach", this).call(this, element);

      debug('Initiating 3D Secure frame');
      var redirectParams = this.redirectParams,
          container = this.container,
          threeDSecure = this.threeDSecure;
      var recurly = threeDSecure.risk.recurly;
      var payload = {
        redirect_url: redirectParams.acsUrl,
        pa_req: redirectParams.pareq,
        creq: redirectParams.creq,
        md: redirectParams.md,
        three_d_secure_action_token_id: this.actionToken.id
      };
      this.frame = recurly.Frame({
        path: '/three_d_secure/start',
        payload: payload,
        container: container,
        type: _frame__WEBPACK_IMPORTED_MODULE_1__["Frame"].TYPES.IFRAME,
        defaultEventName: 'sagepay-3ds-challenge'
      }).on('error', function (cause) {
        return threeDSecure.error('3ds-auth-error', {
          cause: cause
        });
      }).on('done', function (results) {
        return _this2.emit('done', results);
      });
    }
    /**
     * Removes DOM elements
     */

  }, {
    key: "remove",
    value: function remove() {
      var frame = this.frame;
      if (frame) frame.destroy();

      _get(_getPrototypeOf(SagePayStrategy.prototype), "remove", this).call(this);
    }
  }, {
    key: "redirectParams",
    get: function get() {
      return this.actionToken.three_d_secure.params;
    }
  }]);

  return SagePayStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(SagePayStrategy, "strategyName", 'sagepay');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeDSecureStrategy; });
/* harmony import */ var _util_readiness_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../util/readiness-emitter */ "./node_modules/recurly.js/lib/util/readiness-emitter.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var ThreeDSecureStrategy =
/*#__PURE__*/
function (_ReadinessEmitter) {
  _inherits(ThreeDSecureStrategy, _ReadinessEmitter);

  _createClass(ThreeDSecureStrategy, null, [{
    key: "preflight",
    value: function preflight() {}
  }]);

  function ThreeDSecureStrategy(_ref) {
    var _this;

    var threeDSecure = _ref.threeDSecure,
        actionToken = _ref.actionToken;

    _classCallCheck(this, ThreeDSecureStrategy);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ThreeDSecureStrategy).call(this));
    _this.threeDSecure = threeDSecure;
    _this.actionToken = actionToken;
    return _this;
  }

  _createClass(ThreeDSecureStrategy, [{
    key: "attach",
    value: function attach(el) {
      this.parent = el;
    }
  }, {
    key: "remove",
    value: function remove() {
      if (!this._container) return;
      if (!this._container.parentElement) return;
      this.parent.removeChild(this._container);
    }
  }, {
    key: "fingerprint",
    value: function fingerprint() {}
  }, {
    key: "challenge",
    value: function challenge() {}
  }, {
    key: "strategyName",
    get: function get() {
      return this.constructor.strategyName;
    }
  }, {
    key: "container",
    get: function get() {
      if (this._container) return this._container;
      var parent = this.parent; // eslint-disable-next-line

      if (!parent) return;
      var container = this._container = document.createElement('div');
      container.setAttribute('data-recurly', 'three-d-secure-container');
      container.style.height = '100%';
      container.style.width = '100%';
      parent.appendChild(container);
      return container;
    }
  }]);

  return ThreeDSecureStrategy;
}(_util_readiness_emitter__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(ThreeDSecureStrategy, "strategyName", 'base');

_defineProperty(ThreeDSecureStrategy, "PREFLIGHT_TIMEOUT", 30000);



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/stripe.js":
/*!************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/stripe.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StripeStrategy; });
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:stripe');

var StripeStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(StripeStrategy, _ThreeDSecureStrategy);

  function StripeStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, StripeStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StripeStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));
    debug('loading Stripe library');

    _this.loadStripeLibrary().catch(function (cause) {
      return _this.threeDSecure.error('3ds-vendor-load-error', {
        vendor: 'Stripe',
        cause: cause
      });
    }).then(function () {
      _this.stripe = window.Stripe(_this.stripePublishableKey);
      debug('Stripe checkout instance created', _this.stripe);

      _this.markReady();
    });

    return _this;
  }

  _createClass(StripeStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(StripeStrategy.prototype), "attach", this).call(this, element);

      this.whenReady(function () {
        var isPaymentIntent = _this2.stripeClientSecret.indexOf('pi') === 0;
        var handleAction = isPaymentIntent ? _this2.stripe.handleCardAction : _this2.stripe.confirmCardSetup;
        handleAction(_this2.stripeClientSecret).then(function (result) {
          if (result.error) {
            return _this2.threeDSecure.error('3ds-auth-error', {
              cause: result.error
            });
          }

          var _ref = result.paymentIntent || result.setupIntent,
              id = _ref.id;

          _this2.emit('done', {
            id: id
          });
        });
      });
    }
    /**
     * Loads Stripe library dependency
     */

  }, {
    key: "loadStripeLibrary",
    value: function loadStripeLibrary() {
      return new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve, reject) {
        if (window.Stripe) return resolve();
        load_script__WEBPACK_IMPORTED_MODULE_0___default()(StripeStrategy.libUrl, function (error) {
          if (error) reject(error);else resolve();
        });
      });
    }
  }, {
    key: "stripePublishableKey",
    get: function get() {
      return this.actionToken.gateway.credentials.publishable_key;
    }
  }, {
    key: "stripeClientSecret",
    get: function get() {
      return this.actionToken.three_d_secure.params.client_secret;
    }
  }]);

  return StripeStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(StripeStrategy, "libUrl", 'https://js.stripe.com/v3/');

_defineProperty(StripeStrategy, "strategyName", 'stripe');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/test.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/test.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TestStrategy; });
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:test');

var TestStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(TestStrategy, _ThreeDSecureStrategy);

  function TestStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, TestStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TestStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));
    debug('Using test strategy');
    return _this;
  }

  _createClass(TestStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(TestStrategy.prototype), "attach", this).call(this, element);

      var shouldFingerprint = this.shouldFingerprint,
          shouldChallenge = this.shouldChallenge;

      if (shouldFingerprint) {
        this.emit('done', {
          type: 'fingerprint',
          success: true
        });
      } else if (shouldChallenge) {
        this.challenge().done(function (success) {
          return _this2.emit('done', {
            type: 'challenge',
            success: success
          });
        });
      }
    }
  }, {
    key: "challenge",
    value: function challenge() {
      var _this3 = this;

      return new promise__WEBPACK_IMPORTED_MODULE_0___default.a(function () {
        var container = _this3.container,
            actionToken = _this3.actionToken,
            threeDSecure = _this3.threeDSecure;
        var recurly = threeDSecure.risk.recurly;
        recurly.Frame({
          type: _frame__WEBPACK_IMPORTED_MODULE_2__["Frame"].TYPES.IFRAME,
          path: '/three_d_secure/mock',
          payload: {
            three_d_secure_action_token_id: actionToken.id
          },
          container: container
        }).on('error', function (err) {
          return _this3.error(err);
        }).on('done', function (results) {
          if (results.success) _this3.emit('done', results);else _this3.error(results);
        });
      });
    }
  }, {
    key: "error",
    value: function error(cause) {
      this.emit('error', {
        cause: cause
      });
      this.threeDSecure.error('3ds-auth-error', {
        cause: cause
      });
    }
  }, {
    key: "shouldFingerprint",
    get: function get() {
      return this.actionToken.three_d_secure.params.challengeType === 'fingerprint';
    }
  }, {
    key: "shouldChallenge",
    get: function get() {
      return this.actionToken.three_d_secure.params.challengeType === 'challenge';
    }
  }]);

  return TestStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_1__["default"]);

_defineProperty(TestStrategy, "strategyName", 'test');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/wirecard.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/wirecard.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WirecardStrategy; });
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:wirecard');

var WirecardStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(WirecardStrategy, _ThreeDSecureStrategy);

  function WirecardStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, WirecardStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WirecardStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.markReady();

    return _this;
  }

  _createClass(WirecardStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(WirecardStrategy.prototype), "attach", this).call(this, element);

      debug('Initiating 3D Secure frame');
      var redirectParams = this.redirectParams,
          container = this.container,
          threeDSecure = this.threeDSecure;
      var recurly = threeDSecure.risk.recurly;
      var payload = {
        redirect_url: redirectParams.acsUrl,
        pa_req: redirectParams.pareq
      };
      this.frame = recurly.Frame({
        path: '/three_d_secure/start',
        payload: payload,
        container: container,
        type: _frame__WEBPACK_IMPORTED_MODULE_1__["Frame"].TYPES.IFRAME
      }).on('error', function (cause) {
        return threeDSecure.error('3ds-auth-error', {
          cause: cause
        });
      }).on('done', function (results) {
        return _this2.emit('done', results);
      });
    }
    /**
     * Removes DOM elements
     */

  }, {
    key: "remove",
    value: function remove() {
      var frame = this.frame;
      if (frame) frame.destroy();

      _get(_getPrototypeOf(WirecardStrategy.prototype), "remove", this).call(this);
    }
  }, {
    key: "redirectParams",
    get: function get() {
      return this.actionToken.three_d_secure.params;
    }
  }]);

  return WirecardStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_0__["default"]);

_defineProperty(WirecardStrategy, "strategyName", 'wirecard');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/worldpay.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/worldpay.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldpayStrategy; });
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _strategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/strategy.js");
/* harmony import */ var _frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../frame */ "./node_modules/recurly.js/lib/recurly/frame.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure:worldpay');

var WorldpayStrategy =
/*#__PURE__*/
function (_ThreeDSecureStrategy) {
  _inherits(WorldpayStrategy, _ThreeDSecureStrategy);

  _createClass(WorldpayStrategy, null, [{
    key: "preflight",

    /**
     * Performs Worldpay data collector preflight
     *
     * @param {recurly} options.recurly
     * @param {String} options.bin CC BIN
     * @param {String} options.jwt JWT
     * @return {Promise}
     */
    value: function preflight(_ref) {
      var recurly = _ref.recurly,
          number = _ref.number,
          jwt = _ref.jwt;
      var preflightDeviceDataCollector = recurly.config.risk.threeDSecure.preflightDeviceDataCollector;

      if (!preflightDeviceDataCollector) {
        return promise__WEBPACK_IMPORTED_MODULE_1___default.a.resolve();
      }

      var PREFLIGHT_TIMEOUT = WorldpayStrategy.PREFLIGHT_TIMEOUT;
      var bin = number.substr(0, 6);
      var frame = recurly.Frame({
        path: '/risk/data_collector',
        payload: {
          bin: bin,
          jwt: jwt,
          redirect_url: 'https://secure-test.worldpay.com/shopper/3ds/ddc.html'
        },
        container: window.document.body,
        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,
        height: 0,
        width: 0
      });
      return promise__WEBPACK_IMPORTED_MODULE_1___default.a.race([new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {
        var listener = function listener(_ref2) {
          var data = _ref2.data;

          try {
            var body = JSON.parse(data);

            if (body.MessageType === 'profile.completed') {
              debug('received device data session id', body);
              resolve({
                session_id: body.SessionId
              });
              recurly.bus.off('raw-message', listener);
              frame.destroy();
            }
          } catch (e) {
            debug('Error parsing message. May be foreign message, skipping', e);
          }
        };

        recurly.bus.on('raw-message', listener);
      }), new promise__WEBPACK_IMPORTED_MODULE_1___default.a(function (resolve) {
        setTimeout(function () {
          resolve(Object(_errors__WEBPACK_IMPORTED_MODULE_0__["default"])('risk-preflight-timeout', {
            processor: 'worldpay'
          }));
        }, PREFLIGHT_TIMEOUT);
      })]);
    }
  }]);

  function WorldpayStrategy() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, WorldpayStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WorldpayStrategy)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.markReady();

    return _this;
  }

  _createClass(WorldpayStrategy, [{
    key: "attach",

    /**
     * Provides the target DOM element for which we will apply
     * fingerprint detection, challenge flows, and results
     *
     * @param {HTMLElement} element
     */
    value: function attach(element) {
      var _this2 = this;

      _get(_getPrototypeOf(WorldpayStrategy.prototype), "attach", this).call(this, element);

      debug('Initiating 3D Secure frame');
      var actionToken = this.actionToken,
          container = this.container,
          threeDSecure = this.threeDSecure,
          redirectUrl = this.redirectUrl;
      var recurly = threeDSecure.risk.recurly;
      var payload = {
        redirect_url: redirectUrl,
        three_d_secure_action_token_id: actionToken.id
      };
      this.frame = recurly.Frame({
        path: '/three_d_secure/start',
        type: _frame__WEBPACK_IMPORTED_MODULE_3__["Frame"].TYPES.IFRAME,
        payload: payload,
        container: container
      }).on('error', function (cause) {
        return threeDSecure.error('3ds-auth-error', {
          cause: cause
        });
      }).on('done', function (results) {
        return _this2.emit('done', results);
      });
    }
    /**
     * Removes DOM elements
     */

  }, {
    key: "remove",
    value: function remove() {
      var frame = this.frame;
      if (frame) frame.destroy();

      _get(_getPrototypeOf(WorldpayStrategy.prototype), "remove", this).call(this);
    }
  }, {
    key: "redirectUrl",
    get: function get() {
      return this.actionToken.three_d_secure.params.redirect_url;
    }
  }]);

  return WorldpayStrategy;
}(_strategy__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(WorldpayStrategy, "strategyName", 'worldpay');



/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/three-d-secure.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/risk/three-d-secure/three-d-secure.js ***!
  \***********************************************************************************/
/*! exports provided: factory, ThreeDSecure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeDSecure", function() { return ThreeDSecure; });
/* harmony import */ var _strategy_adyen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./strategy/adyen */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/adyen.js");
/* harmony import */ var _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/braintree */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/braintree.js");
/* harmony import */ var _strategy_cybersource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy/cybersource */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/cybersource.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! promise */ "./node_modules/promise/index.js");
/* harmony import */ var promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _risk_concern__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../risk-concern */ "./node_modules/recurly.js/lib/recurly/risk/risk-concern.js");
/* harmony import */ var _strategy_sage_pay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./strategy/sage-pay */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/sage-pay.js");
/* harmony import */ var _strategy_stripe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./strategy/stripe */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/stripe.js");
/* harmony import */ var _strategy_test__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./strategy/test */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/test.js");
/* harmony import */ var _strategy_wirecard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./strategy/wirecard */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/wirecard.js");
/* harmony import */ var _strategy_worldpay__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./strategy/worldpay */ "./node_modules/recurly.js/lib/recurly/risk/three-d-secure/strategy/worldpay.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:risk:three-d-secure');

function factory(options) {
  return new ThreeDSecure(_objectSpread({
    risk: this
  }, options));
}
/**
 * 3D Secure 2.0
 *
 * Usage
 *
 * ```
 * const risk = recurly.Risk();
 * const threeDSecure = risk.ThreeDSecure({ actionTokenId: 'my-action-token-id' });
 *
 * threeDSecure.on('token', token => token);
 * threeDSecure.on('error', err => err);
 *
 * threeDSecure.attach(document.querySelector('#my-checkout-3ds-container'));
 * ```
 *
 * @param {Risk} risk
 * @param {String} [actionTokenId] when given, the concern will parse any auth actions
 *                                 necessary to fulfull the action
 */

var ThreeDSecure =
/*#__PURE__*/
function (_RiskConcern) {
  _inherits(ThreeDSecure, _RiskConcern);

  _createClass(ThreeDSecure, null, [{
    key: "getStrategyForGatewayType",

    /**
     * Returns a strateggy for a given gateway type
     *
     * @param  {String} type
     * @return {ThreeDSecureStrategy}
     */
    value: function getStrategyForGatewayType(type) {
      return component_find__WEBPACK_IMPORTED_MODULE_4___default()(ThreeDSecure.STRATEGIES, function (s) {
        return s.strategyName === type;
      });
    }
    /**
     * Performs preflight procedures per strategy
     *
     * @typedef  {Object} Preflights
     * @property {Object} gateway
     * @property {String} gateway.type  e.g. 'worldpay'
     * @property {Object} params        params required by the strategy
     *
     * @param {Recurly}    options.recurly
     * @param {String}     options.bin         credit card BIN
     * @param {Preflights} options.preflights
     * @return {Promise}
     */

  }, {
    key: "preflight",
    value: function preflight(_ref) {
      var recurly = _ref.recurly,
          number = _ref.number,
          month = _ref.month,
          year = _ref.year,
          preflights = _ref.preflights;
      return promise__WEBPACK_IMPORTED_MODULE_5___default.a.all(preflights.map(function (preflight) {
        var type = preflight.gateway.type;
        var strategy = ThreeDSecure.getStrategyForGatewayType(type);
        return strategy.preflight(_objectSpread({
          recurly: recurly,
          number: number,
          month: month,
          year: year
        }, preflight.params)).then(function (results) {
          return {
            processor: type,
            results: results
          };
        });
      }));
    }
  }]);

  function ThreeDSecure(_ref2) {
    var _this;

    var risk = _ref2.risk,
        actionTokenId = _ref2.actionTokenId;

    _classCallCheck(this, ThreeDSecure);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ThreeDSecure).call(this, {
      risk: risk
    }));

    _defineProperty(_assertThisInitialized(_this), "concernName", 'three-d-secure');

    _this.actionTokenId = actionTokenId;

    if (!actionTokenId) {
      throw Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('invalid-option', {
        name: 'actionTokenId',
        expect: 'a three_d_secure_action_token_id'
      });
    }

    _this.recurly.request.get({
      route: "/tokens/".concat(actionTokenId)
    }).catch(function (err) {
      return _this.error(err);
    }).then(function (token) {
      assertIsActionToken(token);
      _this.strategy = _this.getStrategyForActionToken(token);

      _this.strategy.on('done', function () {
        var _this2;

        return (_this2 = _this).onStrategyDone.apply(_this2, arguments);
      });

      _this.markReady();
    }).catch(function (err) {
      return _this.error(err);
    });

    _this.report('create', {
      actionTokenId: actionTokenId
    });

    _this.whenReady(function () {
      return _this.report('ready', {
        strategy: _this.strategy.strategyName
      });
    });

    return _this;
  }
  /**
   * Instructs the strategy to attach, awaiting readiness of the strategy
   *
   * @param {HTMLElement} container
   */


  _createClass(ThreeDSecure, [{
    key: "attach",
    value: function attach(container) {
      var _this3 = this;

      this.whenReady(function () {
        _this3.strategy.attach(container);

        _this3.report('attach');
      });
    }
  }, {
    key: "remove",
    value: function remove() {
      var _this4 = this;

      this.whenReady(function () {
        _this4.strategy.remove();

        _this4.report('remove');
      });
    }
    /**
     * Determines which strategy to employ based on an ThreeDSecureActionToken
     *
     * @private
     * @param {Object} actionToken
     */

  }, {
    key: "getStrategyForActionToken",
    value: function getStrategyForActionToken(actionToken) {
      var strategy = ThreeDSecure.getStrategyForGatewayType(actionToken.gateway.type);
      return new strategy({
        threeDSecure: this,
        actionToken: actionToken
      });
    }
    /**
     * Creates a ThreeDSecureActionResultToken from action results
     *
     * @private
     * @param {Object} results
     * @param {Function} done callback
     * @return {Promise} to create the token
     */

  }, {
    key: "createResultToken",
    value: function createResultToken(results) {
      var data = {
        type: 'three_d_secure_action_result',
        three_d_secure_action_token_id: this.actionTokenId,
        results: results
      };
      debug('submitting results for tokenization', data);
      return this.recurly.request.post({
        route: '/tokens',
        data: data
      });
    } // Listeners

    /**
     * Called when a strategy has produced results
     *
     * @param {Object} results
     */

  }, {
    key: "onStrategyDone",
    value: function onStrategyDone(results) {
      var _this5 = this;

      this.createResultToken(results).catch(function (cause) {
        return _this5.error('3ds-result-tokenization-error', {
          cause: cause
        });
      }).then(function (token) {
        debug('Result token', token);

        _this5.emit('token', token);

        _this5.report('done', {
          actionResultTokenId: token.id
        });
      }).done();
    }
  }]);

  return ThreeDSecure;
}(_risk_concern__WEBPACK_IMPORTED_MODULE_6__["default"]);

_defineProperty(ThreeDSecure, "STRATEGIES", [_strategy_adyen__WEBPACK_IMPORTED_MODULE_0__["default"], _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__["default"], _strategy_cybersource__WEBPACK_IMPORTED_MODULE_2__["default"], _strategy_sage_pay__WEBPACK_IMPORTED_MODULE_7__["default"], _strategy_stripe__WEBPACK_IMPORTED_MODULE_8__["default"], _strategy_test__WEBPACK_IMPORTED_MODULE_9__["default"], _strategy_wirecard__WEBPACK_IMPORTED_MODULE_10__["default"], _strategy_worldpay__WEBPACK_IMPORTED_MODULE_11__["default"]]);

function assertIsActionToken(token) {
  if (token && token.type === 'three_d_secure_action') return;
  throw Object(_errors__WEBPACK_IMPORTED_MODULE_3__["default"])('invalid-option', {
    name: 'actionTokenId',
    expect: 'a three_d_secure_action_token_id'
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/tax.js":
/*!****************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/tax.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return tax; });
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Tax getter
 *
 * Provides a tax estimate for the given tax info.
 *
 * @param {Object} options
 * @param {Object} options.postal_code
 * @param {Object} options.country
 * @param {Object} [options.tax_code]
 * @param {Object} [options.vat_number] Used for VAT exemptions
 * @param {Function} callback
 */
function tax(options, done) {
  options = _extends({}, options);

  if (typeof done !== 'function') {
    throw new Error('Missing callback');
  }

  this.request.get({
    cached: true,
    route: '/tax',
    data: {
      country: options.country,
      postal_code: options.postalCode || options.postal_code,
      tax_code: options.taxCode || options.tax_code,
      vat_number: options.vatNumber || options.vat_number
    },
    done: done
  });
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/token.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/token.js ***!
  \******************************************************/
/*! exports provided: FIELDS, tokenDispatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIELDS", function() { return FIELDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tokenDispatcher", function() { return tokenDispatcher; });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/recurly.js/lib/recurly/element/index.js");
/* harmony import */ var _elements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./elements */ "./node_modules/recurly.js/lib/recurly/elements.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/normalize */ "./node_modules/recurly.js/lib/util/normalize.js");
/* harmony import */ var _risk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./risk */ "./node_modules/recurly.js/lib/recurly/risk/index.js");
/* harmony import */ var _util_uid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/uid */ "./node_modules/recurly.js/lib/util/uid.js");
/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate */ "./node_modules/recurly.js/lib/recurly/validate.js");








var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:token');
/**
 * Fields that are sent to API.
 *
 * @type {Array}
 * @private
 */


var FIELDS = ['first_name', 'last_name', 'address1', 'address2', 'company', 'country', 'city', 'state', 'postal_code', 'phone', 'vat_number', 'tax_identifier', 'tax_identifier_type', 'fraud_session_id', 'token'];
/**
 * Parses the token call signature to determine the form of tokenization to perform,
 * then passes the customer data on for tokenization
 *
 * == When tokenizing Elements ==
 *
 * @param {[Elements]} elements An Elements instance containing one tokenizable Element
 * @param {HTMLFormElement|Object} customerData An HTMLFormElement whose children correspond to
 *                                              billing properties via their 'data-recurly'
 *                                              attributes, or an Object containing customer data
 *                                              (see customerData object).
 * @param {Function} done callback
 *
 *
 * == When tokenizing Hosted Fields ==
 *
 * @param {HTMLFormElement} customerData An HTMLFormElement whose children correspond to billing
 *                                       properties via their 'data-recurly' attributes, or an Object
 *                                       containing customer data (see customerData object).
 * @param {Function} done callback
 *
 *
 * == customerData {Object} ==
 *
 * @param {String} [first_name] customer first name
 * @param {String} [last_name] customer last name
 * @param {String} [address1]
 * @param {String} [address2]
 * @param {String} [country]
 * @param {String} [city]
 * @param {String} [state]
 * @param {String|Number} [postal_code]
 * @param {String} [phone]
 * @param {String} [vat_number]
 * @param {String} [tax_identifier]
 * @param {String} [tax_identifier_type]
 */

function tokenDispatcher() {
  var bus, elements, customerData, done; // signature variance

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (args[0] instanceof _elements__WEBPACK_IMPORTED_MODULE_1__["default"]) {
    elements = args[0];
    customerData = args[1];
    done = args[2];
  } else {
    customerData = args[0];
    done = args[1];
  } // Try to find the implied Elements if given an HTMLFormElement


  if (!elements && customerData instanceof HTMLFormElement) {
    var impliedElement = _element__WEBPACK_IMPORTED_MODULE_0__["default"].findElementInDOMTree(customerData);

    if (impliedElement) {
      elements = impliedElement.elements;
    }
  }

  bus = elements ? elements.bus : this.bus; // Basic validations

  if (!this.configured) {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])('not-configured');
  }

  if (typeof done !== 'function') {
    throw Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])('missing-callback');
  } // TODO: unified error message for lack of elements and hosted fields within
  // tokenizing form
  // We perform this hosted field health check here in order to retain
  // the generic nature of the token method


  if (this.config.parent && !elements && this.hostedFields.errors.length > 0) {
    throw this.hostedFields.errors[0];
  }

  customerData = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_3__["normalize"])(customerData, FIELDS, {
    parseCard: true
  });
  return token.call(this, customerData, bus, done);
}
/**
 * Generates a token from customer data.
 *
 * The callback signature is `err, response` where `err` is a
 * connection, request, or server error, and `response` is the
 * recurly service response. The generated token is accessed
 * at `response.token`.
 *
 * When using Elements
 *
 * @param {Object} customerData Billing properties
 * @param {Elements} options.elements an Elements instance containing one tokenizable Element
 * @param {HTMLFormElement} [options.form] whose children correspond to billing properties via their
 *                                       'data-recurly' attributes
 *
 * @param {Function} done callback
 *
 *
 * When using Hosted Fields
 *
 * @param {HTMLFormElement} options An HTMLFormElement whose children correspond to billing
 *                                  properties via their 'data-recurly' attributes
 * @param {Function} done callback
 */

function token(customerData, bus, done) {
  var _this = this;

  debug('token');
  var inputs = customerData.values;

  if (this.config.parent) {
    inputs.fraud = this.fraud.params(inputs);
    inputs.browser = _risk__WEBPACK_IMPORTED_MODULE_4__["Risk"].browserInfo;
    var id = Object(_util_uid__WEBPACK_IMPORTED_MODULE_5__["default"])();
    this.once("token:done:".concat(id), function (msg) {
      return complete(msg.err, msg.token);
    });
    bus.send('token:init', {
      id: id,
      inputs: inputs
    });
  } else {
    var userErrors = Object(_validate__WEBPACK_IMPORTED_MODULE_6__["validateCardInputs"])(this, inputs);

    if (userErrors.length) {
      return done(Object(_errors__WEBPACK_IMPORTED_MODULE_2__["default"])('validation', {
        fields: userErrors.map(function (e) {
          return e.field;
        }),
        details: userErrors
      }));
    }

    var number = inputs.number,
        month = inputs.month,
        year = inputs.year;
    _risk__WEBPACK_IMPORTED_MODULE_4__["Risk"].preflight({
      recurly: this,
      number: number,
      month: month,
      year: year
    }).then(function (results) {
      return inputs.risk = results;
    }).then(function () {
      return _this.request.post({
        route: '/token',
        data: inputs,
        done: complete
      });
    }).done();
  }

  function complete(err, res) {
    if (err) return done(err);

    if (customerData.fields.token && res.id) {
      customerData.fields.token.value = res.id;
    }

    done(null, res);
  }
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/validate.js":
/*!*********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/validate.js ***!
  \*********************************************************/
/*! exports provided: publicMethods, cardNumber, cardType, expiry, cvv, validateCardInputs, validateBankAccountInputs, validateBankRoutingNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publicMethods", function() { return publicMethods; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardNumber", function() { return cardNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cardType", function() { return cardType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expiry", function() { return expiry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cvv", function() { return cvv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateCardInputs", function() { return validateCardInputs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateBankAccountInputs", function() { return validateBankAccountInputs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateBankRoutingNumber", function() { return validateBankRoutingNumber; });
/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token */ "./node_modules/recurly.js/lib/recurly/token.js");
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component-find */ "./node_modules/component-find/index.js");
/* harmony import */ var component_find__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(component_find__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _util_parse_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/parse-card */ "./node_modules/recurly.js/lib/util/parse-card.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/*jshint -W058 */





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:validate');
/**
 * Card patterns.
 *
 * @private
 */


var TYPES = [{
  type: 'discover',
  pattern: {
    test: function test(n) {
      var firstEight = parseInt(n.substr(0, 8), 10);
      var acceptedRanges = [[60110000, 60110399], [60110500, 60110999], [60112000, 60114999], [60117400, 60117499], [60117700, 60117999], [60118600, 60119999], [64400000, 65059999], [65060100, 65060999], [65061100, 65999999]];
      if (!/^6[045]/.test(firstEight)) return false;
      return validBinRange(acceptedRanges, firstEight);
    }
  },
  lengths: [16, 17, 18, 19]
}, {
  type: 'union_pay',
  pattern: {
    test: function test(n) {
      var firstEight = parseInt(n.substr(0, 8), 10);
      var acceptedRanges = [[62109400, 62109499], [62212600, 62292599], [62400000, 62699999], [62820000, 62889999], [81000000, 81099999], [81100000, 81319999], [81320000, 81519999], [81520000, 81639999], [81640000, 81719999]];
      if (!/^6[2]/.test(firstEight) && !/^8[1]/.test(firstEight)) return false;
      return validBinRange(acceptedRanges, firstEight);
    }
  },
  lengths: [16, 17, 18, 19]
}, {
  type: 'master',
  pattern: {
    test: function test(n) {
      var firstSix = parseInt(n.substr(0, 6), 10);
      if (/^5[1-5]/.test(n)) return true;
      if (firstSix >= 222100 && firstSix <= 272099) return true;
      return false;
    }
  },
  lengths: [16]
}, {
  type: 'american_express',
  pattern: /^3[47]/,
  lengths: [15]
}, {
  type: 'elo',
  pattern: /^(636368|504175|636297|506[67]\d\d)\d{0,10}$/,
  lengths: [13, 16]
}, {
  type: 'visa',
  pattern: /^4/,
  lengths: [13, 16]
}, {
  type: 'jcb',
  pattern: /^35[2-8]\d/,
  lengths: [16]
}, {
  type: 'diners_club',
  pattern: /^(30[0-5]|309|36|3[89]|54|55|2014|2149)/,
  lengths: [14]
}, {
  type: 'hipercard',
  pattern: /^(606282\d{10}(\d{3})?)|(3841\d{15})$/,
  lengths: [16]
}, {
  type: 'tarjeta_naranja',
  pattern: {
    test: function test(n) {
      var firstEight = parseInt(n.substr(0, 8), 10);
      var acceptedRanges = [[58956200, 58956299]];
      return validBinRange(acceptedRanges, firstEight);
    }
  },
  lengths: [16, 17, 18, 19]
}];
/**
 * Validates bin ranges for supported card types
 *
 * @private
 */

function validBinRange(acceptedRanges, firstEight) {
  for (var index = 0; index < acceptedRanges.length; index++) {
    var _acceptedRanges$index = _slicedToArray(acceptedRanges[index], 2),
        min = _acceptedRanges$index[0],
        max = _acceptedRanges$index[1];

    if (firstEight <= max && firstEight >= min) return true;
  }

  return false;
}
/**
 * Validation error messages
 * @type {String}
 * @private
 */


var INVALID = 'is invalid';
var BLANK = "can't be blank";
var DOES_NOT_MATCH = 'does not match';
/**
 * Fields required by bank account tokenization
 * @type {Array}
 */

var BANK_ACCOUNT_REQUIRED_FIELDS = ['account_number', 'account_number_confirmation', 'routing_number', 'account_type', 'name_on_account', 'country'];
/**
 * Fields required by IBAN bank account tokenization
 * @type {Array}
 */

var IBAN_BANK_ACCOUNT_REQUIRED_FIELDS = ['iban', 'name_on_account'];
/**
 * Fields required by Bacs bank account tokenization
 * @type {Array}
 */

var BACS_BANK_ACCOUNT_REQUIRED_FIELDS = ['name_on_account', 'sort_code', 'account_number', 'account_number_confirmation'];
/**
 * Fields required by BECS bank account tokenization
 * @type {Array}
 */

var BECS_BANK_ACCOUNT_REQUIRED_FIELDS = ['account_number', 'account_number_confirmation', 'name_on_account', 'bsb_code'];
var publicMethods = {
  cardNumber: cardNumber,
  cardType: cardType,
  expiry: expiry,
  cvv: cvv
};
/**
 * Validates a credit card number via length check and luhn algorithm.
 *
 * @param {Number|String} number The card number.
 * @return {Boolean}
 * @see https://sites.google.com/site/abapexamples/javascript/luhn-validation
 */

function cardNumber(number) {
  var str = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_3__["parseCard"])(number);
  var ca,
      sum = 0,
      mul = 1;
  var i = str.length;
  if (i < 12 || i > 19) return false;

  while (i--) {
    ca = parseInt(str.charAt(i), 10) * mul;
    sum += ca - (ca > 9) * 9;
    mul ^= 3;
  }

  return sum % 10 === 0 && sum > 0;
}
/**
 * Returns the type of the card number as a string.
 *
 * @param {Number|String} number The card number
 * @param {Boolean} partial detect card type on a partial (incomplete) number
 * @return {String} card type
 */

function cardType(number) {
  var partial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var str = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_3__["parseCard"])(number);
  var len = str.length;
  var card = component_find__WEBPACK_IMPORTED_MODULE_2___default()(TYPES, function (card) {
    return card.pattern.test(str) && (partial || ~card.lengths.indexOf(len));
  });
  return card && card.type || 'unknown';
}
/**
 * Validates whether an expiry month is present or future.
 *
 * @param {Number|String} month The 2 digit month
 * @param {Number|String} year The 2 or 4 digit year
 * @return {Boolean}
 */

function expiry(month, year) {
  month = Number(month) - 1;
  if (month < 0 || month > 11) return false;
  year = Number(year);
  year += year < 100 ? 2000 : 0;
  var expiry = new Date();
  expiry.setYear(year);
  expiry.setDate(1);
  expiry.setHours(0);
  expiry.setMinutes(0);
  expiry.setSeconds(0);
  expiry.setMonth(month + 1);
  return new Date() < expiry;
}
/**
 * Validates whether a number looks like a cvv.
 *
 * e.g.: '123', '0321'
 *
 * @param {Number|String} number The card verification value
 * @return {Boolean}
 */

function cvv(number) {
  number = String(number).trim();
  if (!~[3, 4].indexOf(number.length)) return false;
  return /^\d+$/.test(number);
}
/**
 * Checks user input on a card token call
 *
 * @param {Recurly} recurly
 * @param {Object} inputs
 * @return {Array} formatted array of invalid fields with descriptive messages
 */

function validateCardInputs(recurly, inputs) {
  var format = formatFieldValidationError;
  var errors = [];

  if (!cardNumber(inputs.number)) {
    errors.push(format('number', INVALID));
  }

  if (!expiry(inputs.month, inputs.year)) {
    errors.push(format('month', INVALID), format('year', INVALID));
  }

  if (!inputs.first_name) {
    errors.push(format('first_name', BLANK));
  }

  if (!inputs.last_name) {
    errors.push(format('last_name', BLANK));
  }

  if (~recurly.config.required.indexOf('cvv') && !inputs.cvv) {
    errors.push(format('cvv', BLANK));
  } else if ((~recurly.config.required.indexOf('cvv') || inputs.cvv) && !cvv(inputs.cvv)) {
    errors.push(format('cvv', INVALID));
  }

  component_each__WEBPACK_IMPORTED_MODULE_1___default()(recurly.config.required, function (field) {
    if (!inputs[field] && ~_token__WEBPACK_IMPORTED_MODULE_0__["FIELDS"].indexOf(field)) {
      errors.push(format(field, BLANK));
    }
  });
  debug('validate errors', errors);
  return errors;
}
/**
 * Checks user input on a bank account token call
 *
 * @param {Object} inputs
 * @return {Array} formatted array of invalid fields with descriptive messages
 */

function validateBankAccountInputs(inputs) {
  var format = formatFieldValidationError;
  var required = [];
  var errors = [];

  if ('iban' in inputs) {
    required = IBAN_BANK_ACCOUNT_REQUIRED_FIELDS;
  } else if (inputs.type === 'bacs') {
    required = BACS_BANK_ACCOUNT_REQUIRED_FIELDS;
    accountNumberMatches(inputs, errors);
  } else if (inputs.type === 'becs') {
    required = BECS_BANK_ACCOUNT_REQUIRED_FIELDS;
    accountNumberMatches(inputs, errors);
  } else {
    required = BANK_ACCOUNT_REQUIRED_FIELDS;
    accountNumberMatches(inputs, errors);
  }

  required.forEach(function (name) {
    if (!inputs[name]) {
      errors.push(format(name, BLANK));
    } else if (typeof inputs[name] !== 'string') {
      errors.push(format(name, INVALID));
    }
  });
  debug('bank account validate errors', errors);
  return errors;
}
/**
 * Validates a bank account routing number
 * @param  {[type]} routingNumber
 * @return {Array} formatted array of invalid fields with descriptive messages
 */

function validateBankRoutingNumber(routingNumber) {
  var errors = [];

  if (!routingNumber) {
    errors.push(formatFieldValidationError('routing_number', BLANK));
  } else if (typeof routingNumber !== 'string') {
    errors.push(formatFieldValidationError('routing_number', INVALID));
  }

  debug('validate errors', errors);
  return errors;
}
/**
 * Formats a field validation error
 *
 * @param {string} field
 * @param {String} message
 * @return {Object}
 */

function formatFieldValidationError(field, message) {
  return {
    field: field,
    messages: [message]
  };
}

function accountNumberMatches(inputs, errors) {
  var format = formatFieldValidationError;

  if (inputs.account_number !== inputs.account_number_confirmation) {
    errors.push(format('account_number_confirmation', DOES_NOT_MATCH));
  }
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/venmo/index.js":
/*!************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/venmo/index.js ***!
  \************************************************************/
/*! exports provided: factory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "factory", function() { return factory; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/braintree */ "./node_modules/recurly.js/lib/recurly/venmo/strategy/braintree.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



/**
 * Venmo instantiation factory
 *
 * @param {Object} options
 * @return {Venmo}
 */

function factory(options) {
  options = _extends({}, options, {
    recurly: this
  });
  return new Venmo(options);
}
var DEFERRED_EVENTS = ['ready', 'token', 'error', 'cancel'];
/**
 * Venmo strategy interface
 */

var Venmo =
/*#__PURE__*/
function (_Emitter) {
  _inherits(Venmo, _Emitter);

  function Venmo(options) {
    var _this;

    _classCallCheck(this, Venmo);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Venmo).call(this));
    _this.isReady = false;
    _this.options = options;

    _this.once('ready', function () {
      return _this.isReady = true;
    });

    _this.strategy = new _strategy_braintree__WEBPACK_IMPORTED_MODULE_1__["BraintreeStrategy"](options);

    _this.bindStrategy();

    return _this;
  }

  _createClass(Venmo, [{
    key: "ready",
    value: function ready(done) {
      if (this.isReady) done();else this.once('ready', done);
    }
  }, {
    key: "start",
    value: function start() {
      var _this$strategy;

      return (_this$strategy = this.strategy).start.apply(_this$strategy, arguments);
    }
  }, {
    key: "destroy",
    value: function destroy() {
      var strategy = this.strategy;

      if (strategy) {
        strategy.destroy();
        delete this.strategy;
      }

      this.off();
    }
    /**
     * Binds external interface events to those on the strategy
     *
     * @private
     */

  }, {
    key: "bindStrategy",
    value: function bindStrategy() {
      var _this2 = this;

      DEFERRED_EVENTS.forEach(function (ev) {
        return _this2.strategy.on(ev, _this2.emit.bind(_this2, ev));
      });
    }
  }]);

  return Venmo;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/venmo/strategy/braintree.js":
/*!*************************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/venmo/strategy/braintree.js ***!
  \*************************************************************************/
/*! exports provided: BRAINTREE_CLIENT_VERSION, BraintreeStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BRAINTREE_CLIENT_VERSION", function() { return BRAINTREE_CLIENT_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BraintreeStrategy", function() { return BraintreeStrategy; });
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! load-script */ "./node_modules/load-script/index.js");
/* harmony import */ var load_script__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(load_script__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _util_after__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/after */ "./node_modules/recurly.js/lib/util/after.js");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ "./node_modules/recurly.js/lib/recurly/venmo/strategy/index.js");
/* harmony import */ var _util_normalize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/normalize */ "./node_modules/recurly.js/lib/util/normalize.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var BRAINTREE_CLIENT_VERSION = '3.76.0';

var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal:strategy:braintree');
/**
 * Braintree-specific Venmo handler
 */


var BraintreeStrategy =
/*#__PURE__*/
function (_VenmoStrategy) {
  _inherits(BraintreeStrategy, _VenmoStrategy);

  function BraintreeStrategy() {
    var _this;

    _classCallCheck(this, BraintreeStrategy);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, _getPrototypeOf(BraintreeStrategy).call(this, args));

    _this.load(args[0]);

    return _this;
  }

  _createClass(BraintreeStrategy, [{
    key: "configure",
    value: function configure(options) {
      _get(_getPrototypeOf(BraintreeStrategy.prototype), "configure", this).call(this, options);

      if (!options.braintree || !options.braintree.clientAuthorization) {
        throw this.error('venmo-config-missing', {
          opt: 'braintree.clientAuthorization'
        });
      }

      this.config.clientAuthorization = options.braintree.clientAuthorization;
    }
    /**
     * Loads Braintree client and modules
     *
     * @todo semver client detection
     */

  }, {
    key: "load",
    value: function load(_ref) {
      var _this2 = this;

      var form = _ref.form;
      debug('loading Braintree libraries');
      this.form = form;
      var part = Object(_util_after__WEBPACK_IMPORTED_MODULE_1__["default"])(2, function () {
        return _this2.initialize();
      });

      var get = function get(lib) {
        var done = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};
        var uri = "https://js.braintreegateway.com/web/".concat(BRAINTREE_CLIENT_VERSION, "/js/").concat(lib, ".min.js");
        load_script__WEBPACK_IMPORTED_MODULE_0___default()(uri, function (error) {
          if (error) _this2.error('venmo-load-error', {
            cause: error
          });else done();
        });
      };

      var modules = function modules() {
        if (_this2.braintreeClientAvailable('venmo')) part();else get('venmo', part);
        if (_this2.braintreeClientAvailable('dataCollector')) part();else get('data-collector', part);
      };

      if (this.braintreeClientAvailable()) modules();else get('client', modules);
    }
    /**
     * Initializes a Braintree client, device data collection module, and venmo client
     */

  }, {
    key: "initialize",
    value: function initialize() {
      var _this3 = this;

      debug('Initializing Braintree client');
      var authorization = this.config.clientAuthorization;
      var braintree = window.braintree;
      braintree.client.create({
        authorization: authorization
      }, function (error, client) {
        if (error) return _this3.fail('venmo-braintree-api-error', {
          cause: error
        });
        debug('Braintree client created');
        braintree.venmo.create({
          client: client,
          allowDesktop: true
        }, function (error, venmo) {
          if (error) return _this3.fail('venmo-braintree-api-error', {
            cause: error
          });
          debug('Venmo client created');
          _this3.venmo = venmo;

          _this3.emit('ready');
        });
      });
    }
  }, {
    key: "handleVenmoError",
    value: function handleVenmoError(err) {
      if (err.code === 'VENMO_CANCELED') {
        console.log('App is not available or user aborted payment flow');
      } else if (err.code === 'VENMO_APP_CANCELED') {
        if (err.code === 'VENMO_POPUP_CLOSED') console.log('User canceled payment flow');
      } else {
        console.error('An error occurred:', err.message);
      }

      this.emit('cancel');
      return this.error('venmo-braintree-tokenize-braintree-error', {
        cause: err
      });
    }
  }, {
    key: "handleVenmoSuccess",
    value: function handleVenmoSuccess(payload) {
      var _this4 = this;

      var nameData = Object(_util_normalize__WEBPACK_IMPORTED_MODULE_3__["normalize"])(this.form, ['first_name', 'last_name']);
      this.recurly.request.post({
        route: '/venmo/token',
        data: {
          type: 'braintree',
          payload: _objectSpread({}, payload, {}, nameData)
        },
        done: function done(error, token) {
          if (error) return _this4.error('venmo-braintree-tokenize-recurly-error', {
            cause: error
          });

          _this4.emit('token', token);
        }
      });
    }
  }, {
    key: "start",
    value: function start() {
      // Tokenize with Braintree
      this.venmo.tokenize().then(this.handleVenmoSuccess.bind(this)).catch(this.handleVenmoError.bind(this));
    }
  }, {
    key: "destroy",
    value: function destroy() {
      if (this.close) {
        this.close();
      }

      this.off();
    }
  }, {
    key: "braintreeClientAvailable",
    value: function braintreeClientAvailable(module) {
      var bt = window.braintree;
      return bt && bt.client && bt.client.VERSION === BRAINTREE_CLIENT_VERSION && (module ? module in bt : true);
    }
  }]);

  return BraintreeStrategy;
}(_index__WEBPACK_IMPORTED_MODULE_2__["VenmoStrategy"]);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/venmo/strategy/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/venmo/strategy/index.js ***!
  \*********************************************************************/
/*! exports provided: VenmoStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VenmoStrategy", function() { return VenmoStrategy; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _recurly__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../recurly */ "./node_modules/recurly.js/lib/recurly.js");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../errors */ "./node_modules/recurly.js/lib/recurly/errors.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:paypal:strategy');
/**
 * Venmo base interface strategy
 *
 * @abstract
 */


var VenmoStrategy =
/*#__PURE__*/
function (_Emitter) {
  _inherits(VenmoStrategy, _Emitter);

  function VenmoStrategy(options) {
    var _this;

    _classCallCheck(this, VenmoStrategy);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(VenmoStrategy).call(this));
    _this.isReady = false;
    _this.config = {};

    _this.once('ready', function () {
      return _this.isReady = true;
    });

    _this.configure(options[0]);

    return _this;
  }

  _createClass(VenmoStrategy, [{
    key: "ready",
    value: function ready(done) {
      if (this.isReady) done();else this.once('ready', done);
    }
  }, {
    key: "configure",
    value: function configure(options) {
      if (!(options.recurly instanceof _recurly__WEBPACK_IMPORTED_MODULE_1__["Recurly"])) throw this.error('venmo-factory-only');
      this.recurly = options.recurly;
    }
  }, {
    key: "initialize",
    value: function initialize() {
      debug("Method 'initialize' not implemented");
    }
    /**
     * Starts the PayPal flow
     * > must be on the call chain with a user interaction (click, touch) on it
     */

  }, {
    key: "start",
    value: function start() {
      debug("Method 'start' not implemented");
    }
  }, {
    key: "cancel",
    value: function cancel() {
      this.emit('cancel');
    }
    /**
     * Registers or immediately invokes a failure handler
     *
     * @param {Function} done Failure handler
     */

  }, {
    key: "onFail",
    value: function onFail(done) {
      if (this.failure) done();else this.once('fail', done);
    }
    /**
     * Logs and announces a failure to initialize a strategy
     *
     * @private
     * @param  {String} reason
     * @param  {Object} [options]
     */

  }, {
    key: "fail",
    value: function fail(reason, options) {
      if (this.failure) return;
      debug('Failure scenario encountered', reason, options);
      var failure = this.failure = this.error(reason, options);
      this.emit('fail', failure);
    }
    /**
     * Creates and emits a RecurlyError
     *
     * @protected
     * @param  {...Mixed} params to be passed to the Recurlyerror factory
     * @return {RecurlyError}
     * @emit 'error'
     */

  }, {
    key: "error",
    value: function error() {
      var err = (arguments.length <= 0 ? undefined : arguments[0]) instanceof Error ? arguments.length <= 0 ? undefined : arguments[0] : _errors__WEBPACK_IMPORTED_MODULE_2__["default"].apply(void 0, arguments);
      this.emit('error', err);
      return err;
    }
    /**
     * Updates price information from a Pricing instance
     *
     * @private
     */

  }, {
    key: "updatePriceFromPricing",
    value: function updatePriceFromPricing() {
      this.config.display.amount = this.pricing.totalNow;
      this.config.display.currency = this.pricing.currencyCode;
    }
  }]);

  return VenmoStrategy;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/version.js":
/*!********************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/version.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Current package/component version.
 */
module.exports = '4.17.1';

/***/ }),

/***/ "./node_modules/recurly.js/lib/recurly/worker.js":
/*!*******************************************************!*\
  !*** ./node_modules/recurly.js/lib/recurly/worker.js ***!
  \*******************************************************/
/*! exports provided: IntervalWorker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntervalWorker", function() { return IntervalWorker; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var DEFAULT_PERIOD = 30000; // 30 seconds

var IntervalWorker =
/*#__PURE__*/
function () {
  function IntervalWorker() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
        _ref$period = _ref.period,
        period = _ref$period === void 0 ? DEFAULT_PERIOD : _ref$period,
        perform = _ref.perform;

    _classCallCheck(this, IntervalWorker);

    if (typeof perform !== 'function') throw new Error('Invalid perform function');
    this.active = false;
    this.jobId = 0;
    this.tick = this.tick.bind(this);
    this.period = period;
    this.perform = perform;
    this._intervalId = setInterval(this.tick, this.period);
    window.addEventListener('beforeunload', this.tick);
  }

  _createClass(IntervalWorker, [{
    key: "start",
    value: function start() {
      this.guard();
      this.active = true;
    }
  }, {
    key: "pause",
    value: function pause() {
      this.guard();
      this.active = false;
    }
  }, {
    key: "destroy",
    value: function destroy() {
      this.pause();
      clearInterval(this._intervalId);
      delete this._intervalId;
      window.removeEventListener('beforeunload', this.tick);
    } // Private

  }, {
    key: "tick",
    value: function tick() {
      if (!this.active) return;

      try {
        this.perform({
          jobId: this.jobId
        });
      } finally {
        this.jobId++;
      }
    }
  }, {
    key: "guard",
    value: function guard() {
      if (typeof this._intervalId === 'number') return;
      throw new Error('This Worker has been destroyed and can no longer be used');
    }
  }]);

  return IntervalWorker;
}();

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/after.js":
/*!***************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/after.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return after; });
/**
 * Returns a function which calls the callback after x calls
 *
 * @param  {Number} count
 * @param  {Function} done
 * @return {Function}
 */
function after() {
  var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  var done = arguments.length > 1 ? arguments[1] : undefined;
  var i = 0;
  return function () {
    return i++ && i === count && done();
  };
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/decimalize-member.js":
/*!***************************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/decimalize-member.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return decimalizeMember; });
/* harmony import */ var _decimalize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./decimalize */ "./node_modules/recurly.js/lib/util/decimalize.js");

/**
 * Applies a decimal transform on an object's member
 *
 * @param {String} prop Property on {this} to transform
 * @this {Object} on which to apply decimal transformation
 */

function decimalizeMember(prop) {
  if (typeof this[prop] !== 'number') return;
  this[prop] = Object(_decimalize__WEBPACK_IMPORTED_MODULE_0__["default"])(this[prop]);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/decimalize.js":
/*!********************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/decimalize.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return decimalize; });
/**
 * Applies a decimal transform
 *
 * @param {Number} number to transform
 */
function decimalize(number) {
  return (Math.round(number * 100) / 100).toFixed(2);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/deep-assign.js":
/*!*********************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/deep-assign.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return deepAssign; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Deep Object.assign
 *
 * @param target
 * @param ...sources
 */
function deepAssign(target) {
  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    sources[_key - 1] = arguments[_key];
  }

  if (!sources.length) return target;
  var source = sources.shift();

  if (isAssignableObject(target) && isAssignableObject(source)) {
    for (var key in source) {
      if (isAssignableObject(source[key])) {
        if (!target[key]) _extends(target, _defineProperty({}, key, {}));
        deepAssign(target[key], source[key]);
      } else {
        _extends(target, _defineProperty({}, key, source[key]));
      }
    }
  }

  return deepAssign.apply(void 0, [target].concat(sources));
}

function isAssignableObject(item) {
  return item && _typeof(item) === 'object' && !Array.isArray(item) && !(item instanceof Node);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/dom.js":
/*!*************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/dom.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * dependencies
 */
var slug = __webpack_require__(/*! to-slug-case */ "./node_modules/to-slug-case/index.js");

var each = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");
/**
 * expose
 */


module.exports = {
  createHiddenInput: createHiddenInput,
  data: data,
  element: element,
  findNodeInParents: findNodeInParents,
  value: value
};
/**
 * Detects whether an object is an html element.
 *
 * @param {HTMLElement|jQuery|String} node
 * @return {HTMLElement|Boolean} node
 */

function element(node) {
  var jQuery = window.jQuery;
  var isJQuery = jQuery && node instanceof jQuery;
  var isElem;
  if (isJQuery || Array.isArray(node)) node = node[0];
  if (typeof node === 'string') node = window.document.querySelector(node);

  if (!node) {
    return false;
  }

  if (typeof HTMLElement !== 'undefined') {
    isElem = node instanceof HTMLElement;
  } else {
    isElem = node.nodeType === 1;
  }

  return isElem && node;
}
/**
 * Gets or sets the value of a given HTML form element
 *
 * supports text inputs, radio inputs, and selects
 *
 * @param {HTMLElement} node
 * @return {String} val value of the element
 */


function value(node, val) {
  if (!element(node)) return null;

  if (typeof val !== 'undefined') {
    return valueSet(node, val);
  } else {
    return valueGet(node);
  }
}
/**
 * Gets an HTMLElement's value property in the context of a form
 *
 * @private
 * @param {HTMLElement} node
 * @return {String} node's value
 */


function valueGet(node) {
  node = element(node);
  var nodeType = node && node.type && node.type.toLowerCase();
  var value;

  if (!nodeType) {
    value = '';
  } else if ('options' in node) {
    var option = node.options[node.selectedIndex] || node.options[0] || {
      value: ''
    };
    value = option.value;
  } else if (nodeType === 'checkbox') {
    if (node.checked) value = node.value;
  } else if (nodeType === 'radio') {
    var radios = document.querySelectorAll('input[data-recurly="' + data(node, 'recurly') + '"]');
    each(radios, function (radio) {
      if (radio.checked) value = radio.value;
    });
  } else if ('value' in node) {
    value = node.value;
  }

  return value;
}
/**
 * Updates an element's value property if
 * one exists; else innerText if it exists
 *
 * @private
 * @param {Array[HTMLElement]} nodes
 * @param {Mixed} value
 */


function valueSet(nodes, value) {
  if (!Array.isArray(nodes)) nodes = [nodes];
  each(nodes, function (node) {
    if (!node) return;else if ('value' in node) node.value = value;else if ('textContent' in node) node.textContent = value;else if ('innerText' in node) node.innerText = value;
  });
}
/**
 * Gets or sets a node's data attribute
 *
 * @param {HTMLElement} node
 * @param {String} key
 * @param {Mixed} [value]
 * @return {String} value
 */


function data(node, key, value) {
  node = element(node);
  if (!node) return;

  if (typeof value !== 'undefined') {
    return dataSet(node, key, value);
  } else {
    return dataGet(node, key);
  }
}
/**
 * Gets a node's data attribute
 *
 * @private
 * @param {HTMLElement} node
 * @param {String} key
 * @return {String} attribute value
 */


function dataGet(node, key) {
  if (node.dataset) {
    return node.dataset[key];
  } else {
    return node.getAttribute('data-' + slug(key));
  }
}
/**
 * sets a node's data attribute
 *
 * @private
 * @param {HTMLElement} node
 * @param {String} key
 * @param {Mixed} value
 * @return {String} value
 */


function dataSet(node, key, value) {
  if (node.dataset) {
    node.dataset[key] = value;
  } else {
    node.setAttribute('data-' + slug(key), value);
  }

  return '' + value;
}
/**
 * take an html node and find a parent node with a target tag name
 * example tag names: 'div', 'form'
 *
 * @param  {HTMLElement} node
 * @param  {String} targetTagName the name of the target element type
 * @return {HTMLElement} the found node if available
 */


function findNodeInParents(node, targetTagName) {
  node = element(node);
  if (!node) return null;
  if (node.tagName.match(RegExp(targetTagName, 'i'))) return node;
  return findNodeInParents(node.parentNode, targetTagName);
}
/**
 * Create a hidden input element
 *
 * @return {InputElement}
 */


function createHiddenInput() {
  var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var inputType = 'input';

  if (~['button', 'select'].indexOf(attributes.type)) {
    inputType = attributes.type;
    delete attributes.type;
  }

  var hidden = window.document.createElement(inputType);
  if (!('type' in attributes)) attributes.type = 'text';
  if (!('style' in attributes)) attributes.style = 'position: absolute; top: 0px; left: -1000px; opacity: 0;';
  attributes['aria-hidden'] = true;
  Object.keys(attributes).forEach(function (attr) {
    return hidden.setAttribute(attr, attributes[attr]);
  });
  return hidden;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/flatten.js":
/*!*****************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/flatten.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return flatten; });
/**
 * Flattens an array from any dimension to 1D
 *
 * @param  {Array} arr
 * @return {Array} flattened array
 */
function flatten(arr) {
  return arr.reduce(function (flat, toFlatten) {
    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);
  }, []);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/group-by.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/group-by.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return groupBy; });
/**
 * Reduces an array into a object whose keys
 * correspond to the value returned by the iteratee function
 *
 * @param  {array}    set      array to group
 * @param  {Function} iteratee returns the value upon which to group
 * @return {Object}            { [iteratee[item]]: [items...], ... }
 */
function groupBy(set) {
  var iteratee = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (v) {
    return v;
  };
  return set.reduce(function (acc, item) {
    var reductionKey = iteratee(item);
    (acc[reductionKey] = acc[reductionKey] || []).push(item);
    return acc;
  }, {});
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/normalize.js":
/*!*******************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/normalize.js ***!
  \*******************************************************/
/*! exports provided: normalize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ "./node_modules/recurly.js/lib/util/dom.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dom__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component-each */ "./node_modules/component-each/index.js");
/* harmony import */ var component_each__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(component_each__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_parse_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/parse-card */ "./node_modules/recurly.js/lib/util/parse-card.js");



/**
 * Parses options out of a form element and normalizes according to an allowlist.
 *
 * @param {Object|HTMLFormElement} input
 * @param {Array} allowlist of field names
 * @param {Object} [options]
 * @param {Boolean} [options.parseCard] whether to parse the card number value
 * @return {Object}
 */

function normalize(input, allowlist) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var data = {
    fields: {},
    values: {}
  };
  var el = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.element(input);

  if (el && 'form' === el.nodeName.toLowerCase()) {
    component_each__WEBPACK_IMPORTED_MODULE_1___default()(el.querySelectorAll('[data-recurly]'), function (field) {
      var name = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.data(field, 'recurly');

      if (~allowlist.indexOf(name)) {
        data.fields[name] = field;
        data.values[name] = _dom__WEBPACK_IMPORTED_MODULE_0___default.a.value(field);
      }
    });
  } else {
    data.values = input;
  }

  if (options.parseCard) {
    data.values.number = Object(_util_parse_card__WEBPACK_IMPORTED_MODULE_2__["parseCard"])(data.values.number);
  }

  return data;
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/parse-card.js":
/*!********************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/parse-card.js ***!
  \********************************************************/
/*! exports provided: parseCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseCard", function() { return parseCard; });
/**
 * Removes dashes and spaces from a card number.
 *
 * @param {Number|String} number
 * @return {String} parsed card number
 */
function parseCard(number) {
  return (number || '').toString().replace(/[-\s]/g, '');
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/readiness-emitter.js":
/*!***************************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/readiness-emitter.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ReadinessEmitter; });
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
/* harmony import */ var component_emitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(component_emitter__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var ReadinessEmitter =
/*#__PURE__*/
function (_Emitter) {
  _inherits(ReadinessEmitter, _Emitter);

  function ReadinessEmitter() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, ReadinessEmitter);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ReadinessEmitter)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "_ready", false);

    return _this;
  }

  _createClass(ReadinessEmitter, [{
    key: "whenReady",

    /**
     * Calls the callback when the instance is marked as ready
     *
     * @param  {Function} callback
     */
    value: function whenReady(callback) {
      var _ready = this._ready;
      if (_ready) callback();else this.once('ready', callback);
    }
    /**
     * Marks the instance as ready
     * @return {[type]} [description]
     */

  }, {
    key: "markReady",
    value: function markReady() {
      this._ready = true;
      this.emit('ready');
    }
  }]);

  return ReadinessEmitter;
}(component_emitter__WEBPACK_IMPORTED_MODULE_0___default.a);



/***/ }),

/***/ "./node_modules/recurly.js/lib/util/tax-ceil.js":
/*!******************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/tax-ceil.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return taxCeil; });
/**
 * Ceilings the second decimal of a number without risk of
 * floating point math errors
 *
 * - returns zero if the result is negative
 *
 * @param {Number} number
 * @return {Number}
 */
function taxCeil(number) {
  number = Math.max(number, 0);
  return +(Math.ceil(number + 'e+2') + 'e-2');
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/uid.js":
/*!*************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/uid.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return uid; });
/* harmony import */ var nanoid_generate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/generate */ "./node_modules/nanoid/generate.js");
/* harmony import */ var nanoid_generate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nanoid_generate__WEBPACK_IMPORTED_MODULE_0__);

var CHARSET = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
/**
 * returns a new nanoid according to our charset
 *
 * @return {String}
 */

function uid() {
  return nanoid_generate__WEBPACK_IMPORTED_MODULE_0___default()(CHARSET, 16);
}

/***/ }),

/***/ "./node_modules/recurly.js/lib/util/web-storage.js":
/*!*********************************************************!*\
  !*** ./node_modules/recurly.js/lib/util/web-storage.js ***!
  \*********************************************************/
/*! exports provided: NAMESPACE, STORES, objectStore, fetch, set */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NAMESPACE", function() { return NAMESPACE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORES", function() { return STORES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "objectStore", function() { return objectStore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetch", function() { return fetch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "set", function() { return set; });
var debug = __webpack_require__(/*! debug */ "./node_modules/recurly.js/node_modules/debug/src/browser.js")('recurly:web-storage');

var NAMESPACE = '__recurly__';
var STORES = {
  local: function local() {
    return window.localStorage;
  },
  session: function session() {
    return window.sessionStorage;
  }
};
var objectStore = {
  setItem: function setItem(name, value) {
    return this[name] = value;
  },
  getItem: function getItem(name) {
    if (name in this) return this[name];else return null;
  }
};

var namespaced = function namespaced(key) {
  return "".concat(NAMESPACE, ".").concat(key);
};
/**
 * Fetches a value from web storage, optionally setting its value
 * if it is not already set
 *
 * @param  {String}    options.scope       'session' or 'local'
 * @param  {String}    options.key         item key
 * @param  {DOMString} [options.otherwise] value to set if this key is new
 * @param  {DOMString} [options.set]       force a value to be set
 * @return {Mixed}     item value
 */


function fetch(_ref) {
  var _ref$scope = _ref.scope,
      scope = _ref$scope === void 0 ? 'local' : _ref$scope,
      key = _ref.key,
      otherwise = _ref.otherwise;
  var value = store(scope).getItem(namespaced(key));

  if (value === null && !~[null, undefined].indexOf(otherwise)) {
    value = otherwise;
    store(scope).setItem(namespaced(key), value);
  }

  return value;
}
function set(_ref2) {
  var _ref2$scope = _ref2.scope,
      scope = _ref2$scope === void 0 ? 'local' : _ref2$scope,
      key = _ref2.key,
      value = _ref2.value;
  store(scope).setItem(namespaced(key), value);
  return store(scope).getItem(namespaced(key));
}

function store(scope) {
  try {
    var _store = STORES[scope]();

    _store.setItem(NAMESPACE, NAMESPACE);

    _store.removeItem(NAMESPACE);

    return _store;
  } catch (e) {
    debug('Web storage is not available due to', e);
    return objectStore;
  }
}

/***/ }),

/***/ "./node_modules/recurly.js/node_modules/bowser/src/bowser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/bowser/src/bowser.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */

!function (root, name, definition) {
  if ( true && module.exports) module.exports = definition()
  else if (true) __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")(name, definition)
  else {}
}(this, 'bowser', function () {
  /**
    * See useragents.js for examples of navigator.userAgent
    */

  var t = true

  function detect(ua) {

    function getFirstMatch(regex) {
      var match = ua.match(regex);
      return (match && match.length > 1 && match[1]) || '';
    }

    function getSecondMatch(regex) {
      var match = ua.match(regex);
      return (match && match.length > 1 && match[2]) || '';
    }

    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()
      , likeAndroid = /like android/i.test(ua)
      , android = !likeAndroid && /android/i.test(ua)
      , nexusMobile = /nexus\s*[0-6]\s*/i.test(ua)
      , nexusTablet = !nexusMobile && /nexus\s*[0-9]+/i.test(ua)
      , chromeos = /CrOS/.test(ua)
      , silk = /silk/i.test(ua)
      , sailfish = /sailfish/i.test(ua)
      , tizen = /tizen/i.test(ua)
      , webos = /(web|hpw)(o|0)s/i.test(ua)
      , windowsphone = /windows phone/i.test(ua)
      , samsungBrowser = /SamsungBrowser/i.test(ua)
      , windows = !windowsphone && /windows/i.test(ua)
      , mac = !iosdevice && !silk && /macintosh/i.test(ua)
      , linux = !android && !sailfish && !tizen && !webos && /linux/i.test(ua)
      , edgeVersion = getSecondMatch(/edg([ea]|ios)\/(\d+(\.\d+)?)/i)
      , versionIdentifier = getFirstMatch(/version\/(\d+(\.\d+)?)/i)
      , tablet = /tablet/i.test(ua) && !/tablet pc/i.test(ua)
      , mobile = !tablet && /[^-]mobi/i.test(ua)
      , xbox = /xbox/i.test(ua)
      , result

    if (/opera/i.test(ua)) {
      //  an old Opera
      result = {
        name: 'Opera'
      , opera: t
      , version: versionIdentifier || getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)
      }
    } else if (/opr\/|opios/i.test(ua)) {
      // a new Opera
      result = {
        name: 'Opera'
        , opera: t
        , version: getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i) || versionIdentifier
      }
    }
    else if (/SamsungBrowser/i.test(ua)) {
      result = {
        name: 'Samsung Internet for Android'
        , samsungBrowser: t
        , version: versionIdentifier || getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)
      }
    }
    else if (/Whale/i.test(ua)) {
      result = {
        name: 'NAVER Whale browser'
        , whale: t
        , version: getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/MZBrowser/i.test(ua)) {
      result = {
        name: 'MZ Browser'
        , mzbrowser: t
        , version: getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/coast/i.test(ua)) {
      result = {
        name: 'Opera Coast'
        , coast: t
        , version: versionIdentifier || getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)
      }
    }
    else if (/focus/i.test(ua)) {
      result = {
        name: 'Focus'
        , focus: t
        , version: getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/yabrowser/i.test(ua)) {
      result = {
        name: 'Yandex Browser'
      , yandexbrowser: t
      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)
      }
    }
    else if (/ucbrowser/i.test(ua)) {
      result = {
          name: 'UC Browser'
        , ucbrowser: t
        , version: getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/mxios/i.test(ua)) {
      result = {
        name: 'Maxthon'
        , maxthon: t
        , version: getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/epiphany/i.test(ua)) {
      result = {
        name: 'Epiphany'
        , epiphany: t
        , version: getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/puffin/i.test(ua)) {
      result = {
        name: 'Puffin'
        , puffin: t
        , version: getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)
      }
    }
    else if (/sleipnir/i.test(ua)) {
      result = {
        name: 'Sleipnir'
        , sleipnir: t
        , version: getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (/k-meleon/i.test(ua)) {
      result = {
        name: 'K-Meleon'
        , kMeleon: t
        , version: getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)
      }
    }
    else if (windowsphone) {
      result = {
        name: 'Windows Phone'
      , osname: 'Windows Phone'
      , windowsphone: t
      }
      if (edgeVersion) {
        result.msedge = t
        result.version = edgeVersion
      }
      else {
        result.msie = t
        result.version = getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/msie|trident/i.test(ua)) {
      result = {
        name: 'Internet Explorer'
      , msie: t
      , version: getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)
      }
    } else if (chromeos) {
      result = {
        name: 'Chrome'
      , osname: 'Chrome OS'
      , chromeos: t
      , chromeBook: t
      , chrome: t
      , version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
      }
    } else if (/edg([ea]|ios)/i.test(ua)) {
      result = {
        name: 'Microsoft Edge'
      , msedge: t
      , version: edgeVersion
      }
    }
    else if (/vivaldi/i.test(ua)) {
      result = {
        name: 'Vivaldi'
        , vivaldi: t
        , version: getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i) || versionIdentifier
      }
    }
    else if (sailfish) {
      result = {
        name: 'Sailfish'
      , osname: 'Sailfish OS'
      , sailfish: t
      , version: getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/seamonkey\//i.test(ua)) {
      result = {
        name: 'SeaMonkey'
      , seamonkey: t
      , version: getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/firefox|iceweasel|fxios/i.test(ua)) {
      result = {
        name: 'Firefox'
      , firefox: t
      , version: getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)
      }
      if (/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)) {
        result.firefoxos = t
        result.osname = 'Firefox OS'
      }
    }
    else if (silk) {
      result =  {
        name: 'Amazon Silk'
      , silk: t
      , version : getFirstMatch(/silk\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/phantom/i.test(ua)) {
      result = {
        name: 'PhantomJS'
      , phantom: t
      , version: getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/slimerjs/i.test(ua)) {
      result = {
        name: 'SlimerJS'
        , slimer: t
        , version: getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)
      }
    }
    else if (/blackberry|\bbb\d+/i.test(ua) || /rim\stablet/i.test(ua)) {
      result = {
        name: 'BlackBerry'
      , osname: 'BlackBerry OS'
      , blackberry: t
      , version: versionIdentifier || getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)
      }
    }
    else if (webos) {
      result = {
        name: 'WebOS'
      , osname: 'WebOS'
      , webos: t
      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)
      };
      /touchpad\//i.test(ua) && (result.touchpad = t)
    }
    else if (/bada/i.test(ua)) {
      result = {
        name: 'Bada'
      , osname: 'Bada'
      , bada: t
      , version: getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)
      };
    }
    else if (tizen) {
      result = {
        name: 'Tizen'
      , osname: 'Tizen'
      , tizen: t
      , version: getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i) || versionIdentifier
      };
    }
    else if (/qupzilla/i.test(ua)) {
      result = {
        name: 'QupZilla'
        , qupzilla: t
        , version: getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i) || versionIdentifier
      }
    }
    else if (/chromium/i.test(ua)) {
      result = {
        name: 'Chromium'
        , chromium: t
        , version: getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i) || versionIdentifier
      }
    }
    else if (/chrome|crios|crmo/i.test(ua)) {
      result = {
        name: 'Chrome'
        , chrome: t
        , version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
      }
    }
    else if (android) {
      result = {
        name: 'Android'
        , version: versionIdentifier
      }
    }
    else if (/safari|applewebkit/i.test(ua)) {
      result = {
        name: 'Safari'
      , safari: t
      }
      if (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    else if (iosdevice) {
      result = {
        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'
      }
      // WTF: version is not part of user agent in web apps
      if (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    else if(/googlebot/i.test(ua)) {
      result = {
        name: 'Googlebot'
      , googlebot: t
      , version: getFirstMatch(/googlebot\/(\d+(\.\d+))/i) || versionIdentifier
      }
    }
    else {
      result = {
        name: getFirstMatch(/^(.*)\/(.*) /),
        version: getSecondMatch(/^(.*)\/(.*) /)
     };
   }

    // set webkit or gecko flag for browsers based on these engines
    if (!result.msedge && /(apple)?webkit/i.test(ua)) {
      if (/(apple)?webkit\/537\.36/i.test(ua)) {
        result.name = result.name || "Blink"
        result.blink = t
      } else {
        result.name = result.name || "Webkit"
        result.webkit = t
      }
      if (!result.version && versionIdentifier) {
        result.version = versionIdentifier
      }
    } else if (!result.opera && /gecko\//i.test(ua)) {
      result.name = result.name || "Gecko"
      result.gecko = t
      result.version = result.version || getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)
    }

    // set OS flags for platforms that have multiple browsers
    if (!result.windowsphone && (android || result.silk)) {
      result.android = t
      result.osname = 'Android'
    } else if (!result.windowsphone && iosdevice) {
      result[iosdevice] = t
      result.ios = t
      result.osname = 'iOS'
    } else if (mac) {
      result.mac = t
      result.osname = 'macOS'
    } else if (xbox) {
      result.xbox = t
      result.osname = 'Xbox'
    } else if (windows) {
      result.windows = t
      result.osname = 'Windows'
    } else if (linux) {
      result.linux = t
      result.osname = 'Linux'
    }

    function getWindowsVersion (s) {
      switch (s) {
        case 'NT': return 'NT'
        case 'XP': return 'XP'
        case 'NT 5.0': return '2000'
        case 'NT 5.1': return 'XP'
        case 'NT 5.2': return '2003'
        case 'NT 6.0': return 'Vista'
        case 'NT 6.1': return '7'
        case 'NT 6.2': return '8'
        case 'NT 6.3': return '8.1'
        case 'NT 10.0': return '10'
        default: return undefined
      }
    }

    // OS version extraction
    var osVersion = '';
    if (result.windows) {
      osVersion = getWindowsVersion(getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i))
    } else if (result.windowsphone) {
      osVersion = getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i);
    } else if (result.mac) {
      osVersion = getFirstMatch(/Mac OS X (\d+([_\.\s]\d+)*)/i);
      osVersion = osVersion.replace(/[_\s]/g, '.');
    } else if (iosdevice) {
      osVersion = getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i);
      osVersion = osVersion.replace(/[_\s]/g, '.');
    } else if (android) {
      osVersion = getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i);
    } else if (result.webos) {
      osVersion = getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i);
    } else if (result.blackberry) {
      osVersion = getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i);
    } else if (result.bada) {
      osVersion = getFirstMatch(/bada\/(\d+(\.\d+)*)/i);
    } else if (result.tizen) {
      osVersion = getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i);
    }
    if (osVersion) {
      result.osversion = osVersion;
    }

    // device type extraction
    var osMajorVersion = !result.windows && osVersion.split('.')[0];
    if (
         tablet
      || nexusTablet
      || iosdevice == 'ipad'
      || (android && (osMajorVersion == 3 || (osMajorVersion >= 4 && !mobile)))
      || result.silk
    ) {
      result.tablet = t
    } else if (
         mobile
      || iosdevice == 'iphone'
      || iosdevice == 'ipod'
      || android
      || nexusMobile
      || result.blackberry
      || result.webos
      || result.bada
    ) {
      result.mobile = t
    }

    // Graded Browser Support
    // http://developer.yahoo.com/yui/articles/gbs
    if (result.msedge ||
        (result.msie && result.version >= 10) ||
        (result.yandexbrowser && result.version >= 15) ||
		    (result.vivaldi && result.version >= 1.0) ||
        (result.chrome && result.version >= 20) ||
        (result.samsungBrowser && result.version >= 4) ||
        (result.whale && compareVersions([result.version, '1.0']) === 1) ||
        (result.mzbrowser && compareVersions([result.version, '6.0']) === 1) ||
        (result.focus && compareVersions([result.version, '1.0']) === 1) ||
        (result.firefox && result.version >= 20.0) ||
        (result.safari && result.version >= 6) ||
        (result.opera && result.version >= 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] >= 6) ||
        (result.blackberry && result.version >= 10.1)
        || (result.chromium && result.version >= 20)
        ) {
      result.a = t;
    }
    else if ((result.msie && result.version < 10) ||
        (result.chrome && result.version < 20) ||
        (result.firefox && result.version < 20.0) ||
        (result.safari && result.version < 6) ||
        (result.opera && result.version < 10.0) ||
        (result.ios && result.osversion && result.osversion.split(".")[0] < 6)
        || (result.chromium && result.version < 20)
        ) {
      result.c = t
    } else result.x = t

    return result
  }

  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent || '' : '')

  bowser.test = function (browserList) {
    for (var i = 0; i < browserList.length; ++i) {
      var browserItem = browserList[i];
      if (typeof browserItem=== 'string') {
        if (browserItem in bowser) {
          return true;
        }
      }
    }
    return false;
  }

  /**
   * Get version precisions count
   *
   * @example
   *   getVersionPrecision("1.10.3") // 3
   *
   * @param  {string} version
   * @return {number}
   */
  function getVersionPrecision(version) {
    return version.split(".").length;
  }

  /**
   * Array::map polyfill
   *
   * @param  {Array} arr
   * @param  {Function} iterator
   * @return {Array}
   */
  function map(arr, iterator) {
    var result = [], i;
    if (Array.prototype.map) {
      return Array.prototype.map.call(arr, iterator);
    }
    for (i = 0; i < arr.length; i++) {
      result.push(iterator(arr[i]));
    }
    return result;
  }

  /**
   * Calculate browser version weight
   *
   * @example
   *   compareVersions(['1.10.2.1',  '1.8.2.1.90'])    // 1
   *   compareVersions(['1.010.2.1', '1.09.2.1.90']);  // 1
   *   compareVersions(['1.10.2.1',  '1.10.2.1']);     // 0
   *   compareVersions(['1.10.2.1',  '1.0800.2']);     // -1
   *
   * @param  {Array<String>} versions versions to compare
   * @return {Number} comparison result
   */
  function compareVersions(versions) {
    // 1) get common precision for both versions, for example for "10.0" and "9" it should be 2
    var precision = Math.max(getVersionPrecision(versions[0]), getVersionPrecision(versions[1]));
    var chunks = map(versions, function (version) {
      var delta = precision - getVersionPrecision(version);

      // 2) "9" -> "9.0" (for precision = 2)
      version = version + new Array(delta + 1).join(".0");

      // 3) "9.0" -> ["000000000"", "000000009"]
      return map(version.split("."), function (chunk) {
        return new Array(20 - chunk.length).join("0") + chunk;
      }).reverse();
    });

    // iterate in reverse order by reversed chunks array
    while (--precision >= 0) {
      // 4) compare: "000000009" > "000000010" = false (but "9" > "10" = true)
      if (chunks[0][precision] > chunks[1][precision]) {
        return 1;
      }
      else if (chunks[0][precision] === chunks[1][precision]) {
        if (precision === 0) {
          // all version chunks are same
          return 0;
        }
      }
      else {
        return -1;
      }
    }
  }

  /**
   * Check if browser is unsupported
   *
   * @example
   *   bowser.isUnsupportedBrowser({
   *     msie: "10",
   *     firefox: "23",
   *     chrome: "29",
   *     safari: "5.1",
   *     opera: "16",
   *     phantom: "534"
   *   });
   *
   * @param  {Object}  minVersions map of minimal version to browser
   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map
   * @param  {String}  [ua] user agent string
   * @return {Boolean}
   */
  function isUnsupportedBrowser(minVersions, strictMode, ua) {
    var _bowser = bowser;

    // make strictMode param optional with ua param usage
    if (typeof strictMode === 'string') {
      ua = strictMode;
      strictMode = void(0);
    }

    if (strictMode === void(0)) {
      strictMode = false;
    }
    if (ua) {
      _bowser = detect(ua);
    }

    var version = "" + _bowser.version;
    for (var browser in minVersions) {
      if (minVersions.hasOwnProperty(browser)) {
        if (_bowser[browser]) {
          if (typeof minVersions[browser] !== 'string') {
            throw new Error('Browser version in the minVersion map should be a string: ' + browser + ': ' + String(minVersions));
          }

          // browser version and min supported version.
          return compareVersions([version, minVersions[browser]]) < 0;
        }
      }
    }

    return strictMode; // not found
  }

  /**
   * Check if browser is supported
   *
   * @param  {Object} minVersions map of minimal version to browser
   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map
   * @param  {String}  [ua] user agent string
   * @return {Boolean}
   */
  function check(minVersions, strictMode, ua) {
    return !isUnsupportedBrowser(minVersions, strictMode, ua);
  }

  bowser.isUnsupportedBrowser = isUnsupportedBrowser;
  bowser.compareVersions = compareVersions;
  bowser.check = check;

  /*
   * Set our detect method to the main bowser object so we can
   * reuse it to test other user agents.
   * This is needed to implement future tests.
   */
  bowser._detect = detect;

  /*
   * Set our detect public method to the main bowser object
   * This is needed to implement bowser in server side
   */
  bowser.detect = detect;
  return bowser
});


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/debug/src/browser.js":
/*!*******************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/debug/src/browser.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/* eslint-env browser */

/**
 * This is the web browser implementation of `debug()`.
 */
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = localstorage();
/**
 * Colors.
 */

exports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];
/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */
// eslint-disable-next-line complexity

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {
    return true;
  } // Internet Explorer and Edge do not support colors.


  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  } // Is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632


  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
}
/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */


function formatArgs(args) {
  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);

  if (!this.useColors) {
    return;
  }

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit'); // The final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into

  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function (match) {
    if (match === '%%') {
      return;
    }

    index++;

    if (match === '%c') {
      // We only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });
  args.splice(lastC, 0, c);
}
/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */


function log() {
  var _console;

  // This hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return (typeof console === "undefined" ? "undefined" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);
}
/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */


function save(namespaces) {
  try {
    if (namespaces) {
      exports.storage.setItem('debug', namespaces);
    } else {
      exports.storage.removeItem('debug');
    }
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}
/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */


function load() {
  var r;

  try {
    r = exports.storage.getItem('debug');
  } catch (error) {} // Swallow
  // XXX (@Qix-) should we be logging these?
  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG


  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}
/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */


function localstorage() {
  try {
    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context
    // The Browser also has localStorage in the global context.
    return localStorage;
  } catch (error) {// Swallow
    // XXX (@Qix-) should we be logging these?
  }
}

module.exports = __webpack_require__(/*! ./common */ "./node_modules/recurly.js/node_modules/debug/src/common.js")(exports);
var formatters = module.exports.formatters;
/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

formatters.j = function (v) {
  try {
    return JSON.stringify(v);
  } catch (error) {
    return '[UnexpectedJSONParseError]: ' + error.message;
  }
};


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/recurly.js/node_modules/debug/src/common.js":
/*!******************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/debug/src/common.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 */
function setup(env) {
  createDebug.debug = createDebug;
  createDebug.default = createDebug;
  createDebug.coerce = coerce;
  createDebug.disable = disable;
  createDebug.enable = enable;
  createDebug.enabled = enabled;
  createDebug.humanize = __webpack_require__(/*! ms */ "./node_modules/recurly.js/node_modules/ms/index.js");
  Object.keys(env).forEach(function (key) {
    createDebug[key] = env[key];
  });
  /**
  * Active `debug` instances.
  */

  createDebug.instances = [];
  /**
  * The currently active debug mode names, and names to skip.
  */

  createDebug.names = [];
  createDebug.skips = [];
  /**
  * Map of special "%n" handling functions, for the debug "format" argument.
  *
  * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
  */

  createDebug.formatters = {};
  /**
  * Selects a color for a debug namespace
  * @param {String} namespace The namespace string for the for the debug instance to be colored
  * @return {Number|String} An ANSI color code for the given namespace
  * @api private
  */

  function selectColor(namespace) {
    var hash = 0;

    for (var i = 0; i < namespace.length; i++) {
      hash = (hash << 5) - hash + namespace.charCodeAt(i);
      hash |= 0; // Convert to 32bit integer
    }

    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
  }

  createDebug.selectColor = selectColor;
  /**
  * Create a debugger with the given `namespace`.
  *
  * @param {String} namespace
  * @return {Function}
  * @api public
  */

  function createDebug(namespace) {
    var prevTime;

    function debug() {
      // Disabled?
      if (!debug.enabled) {
        return;
      }

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var self = debug; // Set `diff` timestamp

      var curr = Number(new Date());
      var ms = curr - (prevTime || curr);
      self.diff = ms;
      self.prev = prevTime;
      self.curr = curr;
      prevTime = curr;
      args[0] = createDebug.coerce(args[0]);

      if (typeof args[0] !== 'string') {
        // Anything else let's inspect with %O
        args.unshift('%O');
      } // Apply any `formatters` transformations


      var index = 0;
      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {
        // If we encounter an escaped % then don't increase the array index
        if (match === '%%') {
          return match;
        }

        index++;
        var formatter = createDebug.formatters[format];

        if (typeof formatter === 'function') {
          var val = args[index];
          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`

          args.splice(index, 1);
          index--;
        }

        return match;
      }); // Apply env-specific formatting (colors, etc.)

      createDebug.formatArgs.call(self, args);
      var logFn = self.log || createDebug.log;
      logFn.apply(self, args);
    }

    debug.namespace = namespace;
    debug.enabled = createDebug.enabled(namespace);
    debug.useColors = createDebug.useColors();
    debug.color = selectColor(namespace);
    debug.destroy = destroy;
    debug.extend = extend; // Debug.formatArgs = formatArgs;
    // debug.rawLog = rawLog;
    // env-specific initialization logic for debug instances

    if (typeof createDebug.init === 'function') {
      createDebug.init(debug);
    }

    createDebug.instances.push(debug);
    return debug;
  }

  function destroy() {
    var index = createDebug.instances.indexOf(this);

    if (index !== -1) {
      createDebug.instances.splice(index, 1);
      return true;
    }

    return false;
  }

  function extend(namespace, delimiter) {
    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);
  }
  /**
  * Enables a debug mode by namespaces. This can include modes
  * separated by a colon and wildcards.
  *
  * @param {String} namespaces
  * @api public
  */


  function enable(namespaces) {
    createDebug.save(namespaces);
    createDebug.names = [];
    createDebug.skips = [];
    var i;
    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
    var len = split.length;

    for (i = 0; i < len; i++) {
      if (!split[i]) {
        // ignore empty strings
        continue;
      }

      namespaces = split[i].replace(/\*/g, '.*?');

      if (namespaces[0] === '-') {
        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
      } else {
        createDebug.names.push(new RegExp('^' + namespaces + '$'));
      }
    }

    for (i = 0; i < createDebug.instances.length; i++) {
      var instance = createDebug.instances[i];
      instance.enabled = createDebug.enabled(instance.namespace);
    }
  }
  /**
  * Disable debug output.
  *
  * @api public
  */


  function disable() {
    createDebug.enable('');
  }
  /**
  * Returns true if the given mode name is enabled, false otherwise.
  *
  * @param {String} name
  * @return {Boolean}
  * @api public
  */


  function enabled(name) {
    if (name[name.length - 1] === '*') {
      return true;
    }

    var i;
    var len;

    for (i = 0, len = createDebug.skips.length; i < len; i++) {
      if (createDebug.skips[i].test(name)) {
        return false;
      }
    }

    for (i = 0, len = createDebug.names.length; i < len; i++) {
      if (createDebug.names[i].test(name)) {
        return true;
      }
    }

    return false;
  }
  /**
  * Coerce `val`.
  *
  * @param {Mixed} val
  * @return {Mixed}
  * @api private
  */


  function coerce(val) {
    if (val instanceof Error) {
      return val.stack || val.message;
    }

    return val;
  }

  createDebug.enable(createDebug.load());
  return createDebug;
}

module.exports = setup;



/***/ }),

/***/ "./node_modules/recurly.js/node_modules/ms/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/ms/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var w = d * 7;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function (val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isFinite(val)) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'weeks':
    case 'week':
    case 'w':
      return n * w;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (msAbs >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (msAbs >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (msAbs >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  var msAbs = Math.abs(ms);
  if (msAbs >= d) {
    return plural(ms, msAbs, d, 'day');
  }
  if (msAbs >= h) {
    return plural(ms, msAbs, h, 'hour');
  }
  if (msAbs >= m) {
    return plural(ms, msAbs, m, 'minute');
  }
  if (msAbs >= s) {
    return plural(ms, msAbs, s, 'second');
  }
  return ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, msAbs, n, name) {
  var isPlural = msAbs >= n * 1.5;
  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');
}


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/qs/lib/formats.js":
/*!****************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/qs/lib/formats.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var replace = String.prototype.replace;
var percentTwenties = /%20/g;

var Format = {
    RFC1738: 'RFC1738',
    RFC3986: 'RFC3986'
};

module.exports = {
    'default': Format.RFC3986,
    formatters: {
        RFC1738: function (value) {
            return replace.call(value, percentTwenties, '+');
        },
        RFC3986: function (value) {
            return String(value);
        }
    },
    RFC1738: Format.RFC1738,
    RFC3986: Format.RFC3986
};


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/qs/lib/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/qs/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var stringify = __webpack_require__(/*! ./stringify */ "./node_modules/recurly.js/node_modules/qs/lib/stringify.js");
var parse = __webpack_require__(/*! ./parse */ "./node_modules/recurly.js/node_modules/qs/lib/parse.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/recurly.js/node_modules/qs/lib/formats.js");

module.exports = {
    formats: formats,
    parse: parse,
    stringify: stringify
};


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/qs/lib/parse.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/qs/lib/parse.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(/*! ./utils */ "./node_modules/recurly.js/node_modules/qs/lib/utils.js");

var has = Object.prototype.hasOwnProperty;
var isArray = Array.isArray;

var defaults = {
    allowDots: false,
    allowPrototypes: false,
    allowSparse: false,
    arrayLimit: 20,
    charset: 'utf-8',
    charsetSentinel: false,
    comma: false,
    decoder: utils.decode,
    delimiter: '&',
    depth: 5,
    ignoreQueryPrefix: false,
    interpretNumericEntities: false,
    parameterLimit: 1000,
    parseArrays: true,
    plainObjects: false,
    strictNullHandling: false
};

var interpretNumericEntities = function (str) {
    return str.replace(/&#(\d+);/g, function ($0, numberStr) {
        return String.fromCharCode(parseInt(numberStr, 10));
    });
};

var parseArrayValue = function (val, options) {
    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {
        return val.split(',');
    }

    return val;
};

// This is what browsers will submit when the  character occurs in an
// application/x-www-form-urlencoded body and the encoding of the page containing
// the form is iso-8859-1, or when the submitted form has an accept-charset
// attribute of iso-8859-1. Presumably also with other charsets that do not contain
// the  character, such as us-ascii.
var isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')

// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.
var charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')

var parseValues = function parseQueryStringValues(str, options) {
    var obj = {};
    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\?/, '') : str;
    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;
    var parts = cleanStr.split(options.delimiter, limit);
    var skipIndex = -1; // Keep track of where the utf8 sentinel was found
    var i;

    var charset = options.charset;
    if (options.charsetSentinel) {
        for (i = 0; i < parts.length; ++i) {
            if (parts[i].indexOf('utf8=') === 0) {
                if (parts[i] === charsetSentinel) {
                    charset = 'utf-8';
                } else if (parts[i] === isoSentinel) {
                    charset = 'iso-8859-1';
                }
                skipIndex = i;
                i = parts.length; // The eslint settings do not allow break;
            }
        }
    }

    for (i = 0; i < parts.length; ++i) {
        if (i === skipIndex) {
            continue;
        }
        var part = parts[i];

        var bracketEqualsPos = part.indexOf(']=');
        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;

        var key, val;
        if (pos === -1) {
            key = options.decoder(part, defaults.decoder, charset, 'key');
            val = options.strictNullHandling ? null : '';
        } else {
            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');
            val = utils.maybeMap(
                parseArrayValue(part.slice(pos + 1), options),
                function (encodedVal) {
                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');
                }
            );
        }

        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {
            val = interpretNumericEntities(val);
        }

        if (part.indexOf('[]=') > -1) {
            val = isArray(val) ? [val] : val;
        }

        if (has.call(obj, key)) {
            obj[key] = utils.combine(obj[key], val);
        } else {
            obj[key] = val;
        }
    }

    return obj;
};

var parseObject = function (chain, val, options, valuesParsed) {
    var leaf = valuesParsed ? val : parseArrayValue(val, options);

    for (var i = chain.length - 1; i >= 0; --i) {
        var obj;
        var root = chain[i];

        if (root === '[]' && options.parseArrays) {
            obj = [].concat(leaf);
        } else {
            obj = options.plainObjects ? Object.create(null) : {};
            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;
            var index = parseInt(cleanRoot, 10);
            if (!options.parseArrays && cleanRoot === '') {
                obj = { 0: leaf };
            } else if (
                !isNaN(index)
                && root !== cleanRoot
                && String(index) === cleanRoot
                && index >= 0
                && (options.parseArrays && index <= options.arrayLimit)
            ) {
                obj = [];
                obj[index] = leaf;
            } else {
                obj[cleanRoot] = leaf;
            }
        }

        leaf = obj;
    }

    return leaf;
};

var parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {
    if (!givenKey) {
        return;
    }

    // Transform dot notation to bracket notation
    var key = options.allowDots ? givenKey.replace(/\.([^.[]+)/g, '[$1]') : givenKey;

    // The regex chunks

    var brackets = /(\[[^[\]]*])/;
    var child = /(\[[^[\]]*])/g;

    // Get the parent

    var segment = options.depth > 0 && brackets.exec(key);
    var parent = segment ? key.slice(0, segment.index) : key;

    // Stash the parent if it exists

    var keys = [];
    if (parent) {
        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties
        if (!options.plainObjects && has.call(Object.prototype, parent)) {
            if (!options.allowPrototypes) {
                return;
            }
        }

        keys.push(parent);
    }

    // Loop through children appending to the array until we hit depth

    var i = 0;
    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {
        i += 1;
        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
            if (!options.allowPrototypes) {
                return;
            }
        }
        keys.push(segment[1]);
    }

    // If there's a remainder, just add whatever is left

    if (segment) {
        keys.push('[' + key.slice(segment.index) + ']');
    }

    return parseObject(keys, val, options, valuesParsed);
};

var normalizeParseOptions = function normalizeParseOptions(opts) {
    if (!opts) {
        return defaults;
    }

    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {
        throw new TypeError('Decoder has to be a function.');
    }

    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {
        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');
    }
    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;

    return {
        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,
        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,
        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,
        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,
        charset: charset,
        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,
        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,
        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,
        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,
        // eslint-disable-next-line no-implicit-coercion, no-extra-parens
        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,
        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,
        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,
        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,
        parseArrays: opts.parseArrays !== false,
        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,
        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling
    };
};

module.exports = function (str, opts) {
    var options = normalizeParseOptions(opts);

    if (str === '' || str === null || typeof str === 'undefined') {
        return options.plainObjects ? Object.create(null) : {};
    }

    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;
    var obj = options.plainObjects ? Object.create(null) : {};

    // Iterate over the keys and setup the new object

    var keys = Object.keys(tempObj);
    for (var i = 0; i < keys.length; ++i) {
        var key = keys[i];
        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');
        obj = utils.merge(obj, newObj, options);
    }

    if (options.allowSparse === true) {
        return obj;
    }

    return utils.compact(obj);
};


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/qs/lib/stringify.js":
/*!******************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/qs/lib/stringify.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var getSideChannel = __webpack_require__(/*! side-channel */ "./node_modules/side-channel/index.js");
var utils = __webpack_require__(/*! ./utils */ "./node_modules/recurly.js/node_modules/qs/lib/utils.js");
var formats = __webpack_require__(/*! ./formats */ "./node_modules/recurly.js/node_modules/qs/lib/formats.js");
var has = Object.prototype.hasOwnProperty;

var arrayPrefixGenerators = {
    brackets: function brackets(prefix) {
        return prefix + '[]';
    },
    comma: 'comma',
    indices: function indices(prefix, key) {
        return prefix + '[' + key + ']';
    },
    repeat: function repeat(prefix) {
        return prefix;
    }
};

var isArray = Array.isArray;
var push = Array.prototype.push;
var pushToArray = function (arr, valueOrArray) {
    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);
};

var toISO = Date.prototype.toISOString;

var defaultFormat = formats['default'];
var defaults = {
    addQueryPrefix: false,
    allowDots: false,
    charset: 'utf-8',
    charsetSentinel: false,
    delimiter: '&',
    encode: true,
    encoder: utils.encode,
    encodeValuesOnly: false,
    format: defaultFormat,
    formatter: formats.formatters[defaultFormat],
    // deprecated
    indices: false,
    serializeDate: function serializeDate(date) {
        return toISO.call(date);
    },
    skipNulls: false,
    strictNullHandling: false
};

var isNonNullishPrimitive = function isNonNullishPrimitive(v) {
    return typeof v === 'string'
        || typeof v === 'number'
        || typeof v === 'boolean'
        || typeof v === 'symbol'
        || typeof v === 'bigint';
};

var stringify = function stringify(
    object,
    prefix,
    generateArrayPrefix,
    strictNullHandling,
    skipNulls,
    encoder,
    filter,
    sort,
    allowDots,
    serializeDate,
    format,
    formatter,
    encodeValuesOnly,
    charset,
    sideChannel
) {
    var obj = object;

    if (sideChannel.has(object)) {
        throw new RangeError('Cyclic object value');
    }

    if (typeof filter === 'function') {
        obj = filter(prefix, obj);
    } else if (obj instanceof Date) {
        obj = serializeDate(obj);
    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {
        obj = utils.maybeMap(obj, function (value) {
            if (value instanceof Date) {
                return serializeDate(value);
            }
            return value;
        });
    }

    if (obj === null) {
        if (strictNullHandling) {
            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;
        }

        obj = '';
    }

    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {
        if (encoder) {
            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);
            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];
        }
        return [formatter(prefix) + '=' + formatter(String(obj))];
    }

    var values = [];

    if (typeof obj === 'undefined') {
        return values;
    }

    var objKeys;
    if (generateArrayPrefix === 'comma' && isArray(obj)) {
        // we need to join elements in
        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : undefined }];
    } else if (isArray(filter)) {
        objKeys = filter;
    } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
    }

    for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];
        var value = typeof key === 'object' && key.value !== undefined ? key.value : obj[key];

        if (skipNulls && value === null) {
            continue;
        }

        var keyPrefix = isArray(obj)
            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix
            : prefix + (allowDots ? '.' + key : '[' + key + ']');

        sideChannel.set(object, true);
        var valueSideChannel = getSideChannel();
        pushToArray(values, stringify(
            value,
            keyPrefix,
            generateArrayPrefix,
            strictNullHandling,
            skipNulls,
            encoder,
            filter,
            sort,
            allowDots,
            serializeDate,
            format,
            formatter,
            encodeValuesOnly,
            charset,
            valueSideChannel
        ));
    }

    return values;
};

var normalizeStringifyOptions = function normalizeStringifyOptions(opts) {
    if (!opts) {
        return defaults;
    }

    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {
        throw new TypeError('Encoder has to be a function.');
    }

    var charset = opts.charset || defaults.charset;
    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {
        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');
    }

    var format = formats['default'];
    if (typeof opts.format !== 'undefined') {
        if (!has.call(formats.formatters, opts.format)) {
            throw new TypeError('Unknown format option provided.');
        }
        format = opts.format;
    }
    var formatter = formats.formatters[format];

    var filter = defaults.filter;
    if (typeof opts.filter === 'function' || isArray(opts.filter)) {
        filter = opts.filter;
    }

    return {
        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,
        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,
        charset: charset,
        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,
        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,
        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,
        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,
        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,
        filter: filter,
        format: format,
        formatter: formatter,
        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,
        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,
        sort: typeof opts.sort === 'function' ? opts.sort : null,
        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling
    };
};

module.exports = function (object, opts) {
    var obj = object;
    var options = normalizeStringifyOptions(opts);

    var objKeys;
    var filter;

    if (typeof options.filter === 'function') {
        filter = options.filter;
        obj = filter('', obj);
    } else if (isArray(options.filter)) {
        filter = options.filter;
        objKeys = filter;
    }

    var keys = [];

    if (typeof obj !== 'object' || obj === null) {
        return '';
    }

    var arrayFormat;
    if (opts && opts.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = opts.arrayFormat;
    } else if (opts && 'indices' in opts) {
        arrayFormat = opts.indices ? 'indices' : 'repeat';
    } else {
        arrayFormat = 'indices';
    }

    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];

    if (!objKeys) {
        objKeys = Object.keys(obj);
    }

    if (options.sort) {
        objKeys.sort(options.sort);
    }

    var sideChannel = getSideChannel();
    for (var i = 0; i < objKeys.length; ++i) {
        var key = objKeys[i];

        if (options.skipNulls && obj[key] === null) {
            continue;
        }
        pushToArray(keys, stringify(
            obj[key],
            key,
            generateArrayPrefix,
            options.strictNullHandling,
            options.skipNulls,
            options.encode ? options.encoder : null,
            options.filter,
            options.sort,
            options.allowDots,
            options.serializeDate,
            options.format,
            options.formatter,
            options.encodeValuesOnly,
            options.charset,
            sideChannel
        ));
    }

    var joined = keys.join(options.delimiter);
    var prefix = options.addQueryPrefix === true ? '?' : '';

    if (options.charsetSentinel) {
        if (options.charset === 'iso-8859-1') {
            // encodeURIComponent('&#10003;'), the "numeric entity" representation of a checkmark
            prefix += 'utf8=%26%2310003%3B&';
        } else {
            // encodeURIComponent('')
            prefix += 'utf8=%E2%9C%93&';
        }
    }

    return joined.length > 0 ? prefix + joined : '';
};


/***/ }),

/***/ "./node_modules/recurly.js/node_modules/qs/lib/utils.js":
/*!**************************************************************!*\
  !*** ./node_modules/recurly.js/node_modules/qs/lib/utils.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var formats = __webpack_require__(/*! ./formats */ "./node_modules/recurly.js/node_modules/qs/lib/formats.js");

var has = Object.prototype.hasOwnProperty;
var isArray = Array.isArray;

var hexTable = (function () {
    var array = [];
    for (var i = 0; i < 256; ++i) {
        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());
    }

    return array;
}());

var compactQueue = function compactQueue(queue) {
    while (queue.length > 1) {
        var item = queue.pop();
        var obj = item.obj[item.prop];

        if (isArray(obj)) {
            var compacted = [];

            for (var j = 0; j < obj.length; ++j) {
                if (typeof obj[j] !== 'undefined') {
                    compacted.push(obj[j]);
                }
            }

            item.obj[item.prop] = compacted;
        }
    }
};

var arrayToObject = function arrayToObject(source, options) {
    var obj = options && options.plainObjects ? Object.create(null) : {};
    for (var i = 0; i < source.length; ++i) {
        if (typeof source[i] !== 'undefined') {
            obj[i] = source[i];
        }
    }

    return obj;
};

var merge = function merge(target, source, options) {
    /* eslint no-param-reassign: 0 */
    if (!source) {
        return target;
    }

    if (typeof source !== 'object') {
        if (isArray(target)) {
            target.push(source);
        } else if (target && typeof target === 'object') {
            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {
                target[source] = true;
            }
        } else {
            return [target, source];
        }

        return target;
    }

    if (!target || typeof target !== 'object') {
        return [target].concat(source);
    }

    var mergeTarget = target;
    if (isArray(target) && !isArray(source)) {
        mergeTarget = arrayToObject(target, options);
    }

    if (isArray(target) && isArray(source)) {
        source.forEach(function (item, i) {
            if (has.call(target, i)) {
                var targetItem = target[i];
                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {
                    target[i] = merge(targetItem, item, options);
                } else {
                    target.push(item);
                }
            } else {
                target[i] = item;
            }
        });
        return target;
    }

    return Object.keys(source).reduce(function (acc, key) {
        var value = source[key];

        if (has.call(acc, key)) {
            acc[key] = merge(acc[key], value, options);
        } else {
            acc[key] = value;
        }
        return acc;
    }, mergeTarget);
};

var assign = function assignSingleSource(target, source) {
    return Object.keys(source).reduce(function (acc, key) {
        acc[key] = source[key];
        return acc;
    }, target);
};

var decode = function (str, decoder, charset) {
    var strWithoutPlus = str.replace(/\+/g, ' ');
    if (charset === 'iso-8859-1') {
        // unescape never throws, no try...catch needed:
        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);
    }
    // utf-8
    try {
        return decodeURIComponent(strWithoutPlus);
    } catch (e) {
        return strWithoutPlus;
    }
};

var encode = function encode(str, defaultEncoder, charset, kind, format) {
    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.
    // It has been adapted here for stricter adherence to RFC 3986
    if (str.length === 0) {
        return str;
    }

    var string = str;
    if (typeof str === 'symbol') {
        string = Symbol.prototype.toString.call(str);
    } else if (typeof str !== 'string') {
        string = String(str);
    }

    if (charset === 'iso-8859-1') {
        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {
            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';
        });
    }

    var out = '';
    for (var i = 0; i < string.length; ++i) {
        var c = string.charCodeAt(i);

        if (
            c === 0x2D // -
            || c === 0x2E // .
            || c === 0x5F // _
            || c === 0x7E // ~
            || (c >= 0x30 && c <= 0x39) // 0-9
            || (c >= 0x41 && c <= 0x5A) // a-z
            || (c >= 0x61 && c <= 0x7A) // A-Z
            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )
        ) {
            out += string.charAt(i);
            continue;
        }

        if (c < 0x80) {
            out = out + hexTable[c];
            continue;
        }

        if (c < 0x800) {
            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        if (c < 0xD800 || c >= 0xE000) {
            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);
            continue;
        }

        i += 1;
        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));
        out += hexTable[0xF0 | (c >> 18)]
            + hexTable[0x80 | ((c >> 12) & 0x3F)]
            + hexTable[0x80 | ((c >> 6) & 0x3F)]
            + hexTable[0x80 | (c & 0x3F)];
    }

    return out;
};

var compact = function compact(value) {
    var queue = [{ obj: { o: value }, prop: 'o' }];
    var refs = [];

    for (var i = 0; i < queue.length; ++i) {
        var item = queue[i];
        var obj = item.obj[item.prop];

        var keys = Object.keys(obj);
        for (var j = 0; j < keys.length; ++j) {
            var key = keys[j];
            var val = obj[key];
            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {
                queue.push({ obj: obj, prop: key });
                refs.push(val);
            }
        }
    }

    compactQueue(queue);

    return value;
};

var isRegExp = function isRegExp(obj) {
    return Object.prototype.toString.call(obj) === '[object RegExp]';
};

var isBuffer = function isBuffer(obj) {
    if (!obj || typeof obj !== 'object') {
        return false;
    }

    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
};

var combine = function combine(a, b) {
    return [].concat(a, b);
};

var maybeMap = function maybeMap(val, fn) {
    if (isArray(val)) {
        var mapped = [];
        for (var i = 0; i < val.length; i += 1) {
            mapped.push(fn(val[i]));
        }
        return mapped;
    }
    return fn(val);
};

module.exports = {
    arrayToObject: arrayToObject,
    assign: assign,
    combine: combine,
    compact: compact,
    decode: decode,
    encode: encode,
    isBuffer: isBuffer,
    isRegExp: isRegExp,
    maybeMap: maybeMap,
    merge: merge
};


/***/ }),

/***/ "./node_modules/semver-compare/index.js":
/*!**********************************************!*\
  !*** ./node_modules/semver-compare/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function cmp (a, b) {
    var pa = a.split('.');
    var pb = b.split('.');
    for (var i = 0; i < 3; i++) {
        var na = Number(pa[i]);
        var nb = Number(pb[i]);
        if (na > nb) return 1;
        if (nb > na) return -1;
        if (!isNaN(na) && isNaN(nb)) return 1;
        if (isNaN(na) && !isNaN(nb)) return -1;
    }
    return 0;
};


/***/ }),

/***/ "./node_modules/side-channel/index.js":
/*!********************************************!*\
  !*** ./node_modules/side-channel/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var GetIntrinsic = __webpack_require__(/*! get-intrinsic */ "./node_modules/get-intrinsic/index.js");
var callBound = __webpack_require__(/*! call-bind/callBound */ "./node_modules/call-bind/callBound.js");
var inspect = __webpack_require__(/*! object-inspect */ "./node_modules/side-channel/node_modules/object-inspect/index.js");

var $TypeError = GetIntrinsic('%TypeError%');
var $WeakMap = GetIntrinsic('%WeakMap%', true);
var $Map = GetIntrinsic('%Map%', true);

var $weakMapGet = callBound('WeakMap.prototype.get', true);
var $weakMapSet = callBound('WeakMap.prototype.set', true);
var $weakMapHas = callBound('WeakMap.prototype.has', true);
var $mapGet = callBound('Map.prototype.get', true);
var $mapSet = callBound('Map.prototype.set', true);
var $mapHas = callBound('Map.prototype.has', true);

/*
 * This function traverses the list returning the node corresponding to the
 * given key.
 *
 * That node is also moved to the head of the list, so that if it's accessed
 * again we don't need to traverse the whole list. By doing so, all the recently
 * used nodes can be accessed relatively quickly.
 */
var listGetNode = function (list, key) { // eslint-disable-line consistent-return
	for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {
		if (curr.key === key) {
			prev.next = curr.next;
			curr.next = list.next;
			list.next = curr; // eslint-disable-line no-param-reassign
			return curr;
		}
	}
};

var listGet = function (objects, key) {
	var node = listGetNode(objects, key);
	return node && node.value;
};
var listSet = function (objects, key, value) {
	var node = listGetNode(objects, key);
	if (node) {
		node.value = value;
	} else {
		// Prepend the new node to the beginning of the list
		objects.next = { // eslint-disable-line no-param-reassign
			key: key,
			next: objects.next,
			value: value
		};
	}
};
var listHas = function (objects, key) {
	return !!listGetNode(objects, key);
};

module.exports = function getSideChannel() {
	var $wm;
	var $m;
	var $o;
	var channel = {
		assert: function (key) {
			if (!channel.has(key)) {
				throw new $TypeError('Side channel does not contain ' + inspect(key));
			}
		},
		get: function (key) { // eslint-disable-line consistent-return
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapGet($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapGet($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return listGet($o, key);
				}
			}
		},
		has: function (key) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapHas($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapHas($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return listHas($o, key);
				}
			}
			return false;
		},
		set: function (key, value) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if (!$wm) {
					$wm = new $WeakMap();
				}
				$weakMapSet($wm, key, value);
			} else if ($Map) {
				if (!$m) {
					$m = new $Map();
				}
				$mapSet($m, key, value);
			} else {
				if (!$o) {
					/*
					 * Initialize the linked list as an empty node, so that we don't have
					 * to special-case handling of the first node: we can always refer to
					 * it as (previous node).next, instead of something like (list).head
					 */
					$o = { key: {}, next: null };
				}
				listSet($o, key, value);
			}
		}
	};
	return channel;
};


/***/ }),

/***/ "./node_modules/side-channel/node_modules/object-inspect/index.js":
/*!************************************************************************!*\
  !*** ./node_modules/side-channel/node_modules/object-inspect/index.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var hasMap = typeof Map === 'function' && Map.prototype;
var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;
var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;
var mapForEach = hasMap && Map.prototype.forEach;
var hasSet = typeof Set === 'function' && Set.prototype;
var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;
var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;
var setForEach = hasSet && Set.prototype.forEach;
var hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;
var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
var hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;
var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
var booleanValueOf = Boolean.prototype.valueOf;
var objectToString = Object.prototype.toString;
var functionToString = Function.prototype.toString;
var match = String.prototype.match;
var bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;
var gOPS = Object.getOwnPropertySymbols;
var symToString = typeof Symbol === 'function' ? Symbol.prototype.toString : null;
var isEnumerable = Object.prototype.propertyIsEnumerable;

var inspectCustom = __webpack_require__(/*! ./util.inspect */ 0).custom;
var inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;

module.exports = function inspect_(obj, options, depth, seen) {
    var opts = options || {};

    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
    }
    if (
        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'
            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity
            : opts.maxStringLength !== null
        )
    ) {
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
    }
    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;
    if (typeof customInspect !== 'boolean') {
        throw new TypeError('option "customInspect", if provided, must be `true` or `false`');
    }

    if (
        has(opts, 'indent')
        && opts.indent !== null
        && opts.indent !== '\t'
        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)
    ) {
        throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');
    }

    if (typeof obj === 'undefined') {
        return 'undefined';
    }
    if (obj === null) {
        return 'null';
    }
    if (typeof obj === 'boolean') {
        return obj ? 'true' : 'false';
    }

    if (typeof obj === 'string') {
        return inspectString(obj, opts);
    }
    if (typeof obj === 'number') {
        if (obj === 0) {
            return Infinity / obj > 0 ? '0' : '-0';
        }
        return String(obj);
    }
    if (typeof obj === 'bigint') {
        return String(obj) + 'n';
    }

    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;
    if (typeof depth === 'undefined') { depth = 0; }
    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {
        return isArray(obj) ? '[Array]' : '[Object]';
    }

    var indent = getIndent(opts, depth);

    if (typeof seen === 'undefined') {
        seen = [];
    } else if (indexOf(seen, obj) >= 0) {
        return '[Circular]';
    }

    function inspect(value, from, noIndent) {
        if (from) {
            seen = seen.slice();
            seen.push(from);
        }
        if (noIndent) {
            var newOpts = {
                depth: opts.depth
            };
            if (has(opts, 'quoteStyle')) {
                newOpts.quoteStyle = opts.quoteStyle;
            }
            return inspect_(value, newOpts, depth + 1, seen);
        }
        return inspect_(value, opts, depth + 1, seen);
    }

    if (typeof obj === 'function') {
        var name = nameOf(obj);
        var keys = arrObjKeys(obj, inspect);
        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + keys.join(', ') + ' }' : '');
    }
    if (isSymbol(obj)) {
        var symString = symToString.call(obj);
        return typeof obj === 'object' ? markBoxed(symString) : symString;
    }
    if (isElement(obj)) {
        var s = '<' + String(obj.nodeName).toLowerCase();
        var attrs = obj.attributes || [];
        for (var i = 0; i < attrs.length; i++) {
            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);
        }
        s += '>';
        if (obj.childNodes && obj.childNodes.length) { s += '...'; }
        s += '</' + String(obj.nodeName).toLowerCase() + '>';
        return s;
    }
    if (isArray(obj)) {
        if (obj.length === 0) { return '[]'; }
        var xs = arrObjKeys(obj, inspect);
        if (indent && !singleLineValues(xs)) {
            return '[' + indentedJoin(xs, indent) + ']';
        }
        return '[ ' + xs.join(', ') + ' ]';
    }
    if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (parts.length === 0) { return '[' + String(obj) + ']'; }
        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';
    }
    if (typeof obj === 'object' && customInspect) {
        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {
            return obj[inspectSymbol]();
        } else if (typeof obj.inspect === 'function') {
            return obj.inspect();
        }
    }
    if (isMap(obj)) {
        var mapParts = [];
        mapForEach.call(obj, function (value, key) {
            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));
        });
        return collectionOf('Map', mapSize.call(obj), mapParts, indent);
    }
    if (isSet(obj)) {
        var setParts = [];
        setForEach.call(obj, function (value) {
            setParts.push(inspect(value, obj));
        });
        return collectionOf('Set', setSize.call(obj), setParts, indent);
    }
    if (isWeakMap(obj)) {
        return weakCollectionOf('WeakMap');
    }
    if (isWeakSet(obj)) {
        return weakCollectionOf('WeakSet');
    }
    if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
    }
    if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
    }
    if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
    }
    if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
    }
    if (!isDate(obj) && !isRegExp(obj)) {
        var ys = arrObjKeys(obj, inspect);
        if (ys.length === 0) { return '{}'; }
        if (indent) {
            return '{' + indentedJoin(ys, indent) + '}';
        }
        return '{ ' + ys.join(', ') + ' }';
    }
    return String(obj);
};

function wrapQuotes(s, defaultStyle, opts) {
    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '"' : "'";
    return quoteChar + s + quoteChar;
}

function quote(s) {
    return String(s).replace(/"/g, '&quot;');
}

function isArray(obj) { return toStr(obj) === '[object Array]'; }
function isDate(obj) { return toStr(obj) === '[object Date]'; }
function isRegExp(obj) { return toStr(obj) === '[object RegExp]'; }
function isError(obj) { return toStr(obj) === '[object Error]'; }
function isSymbol(obj) { return toStr(obj) === '[object Symbol]'; }
function isString(obj) { return toStr(obj) === '[object String]'; }
function isNumber(obj) { return toStr(obj) === '[object Number]'; }
function isBigInt(obj) { return toStr(obj) === '[object BigInt]'; }
function isBoolean(obj) { return toStr(obj) === '[object Boolean]'; }

var hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };
function has(obj, key) {
    return hasOwn.call(obj, key);
}

function toStr(obj) {
    return objectToString.call(obj);
}

function nameOf(f) {
    if (f.name) { return f.name; }
    var m = match.call(functionToString.call(f), /^function\s*([\w$]+)/);
    if (m) { return m[1]; }
    return null;
}

function indexOf(xs, x) {
    if (xs.indexOf) { return xs.indexOf(x); }
    for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x) { return i; }
    }
    return -1;
}

function isMap(x) {
    if (!mapSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        mapSize.call(x);
        try {
            setSize.call(x);
        } catch (s) {
            return true;
        }
        return x instanceof Map; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakMap(x) {
    if (!weakMapHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakMapHas.call(x, weakMapHas);
        try {
            weakSetHas.call(x, weakSetHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isSet(x) {
    if (!setSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        setSize.call(x);
        try {
            mapSize.call(x);
        } catch (m) {
            return true;
        }
        return x instanceof Set; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakSet(x) {
    if (!weakSetHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakSetHas.call(x, weakSetHas);
        try {
            weakMapHas.call(x, weakMapHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isElement(x) {
    if (!x || typeof x !== 'object') { return false; }
    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {
        return true;
    }
    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';
}

function inspectString(str, opts) {
    if (str.length > opts.maxStringLength) {
        var remaining = str.length - opts.maxStringLength;
        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');
        return inspectString(str.slice(0, opts.maxStringLength), opts) + trailer;
    }
    // eslint-disable-next-line no-control-regex
    var s = str.replace(/(['\\])/g, '\\$1').replace(/[\x00-\x1f]/g, lowbyte);
    return wrapQuotes(s, 'single', opts);
}

function lowbyte(c) {
    var n = c.charCodeAt(0);
    var x = {
        8: 'b',
        9: 't',
        10: 'n',
        12: 'f',
        13: 'r'
    }[n];
    if (x) { return '\\' + x; }
    return '\\x' + (n < 0x10 ? '0' : '') + n.toString(16).toUpperCase();
}

function markBoxed(str) {
    return 'Object(' + str + ')';
}

function weakCollectionOf(type) {
    return type + ' { ? }';
}

function collectionOf(type, size, entries, indent) {
    var joinedEntries = indent ? indentedJoin(entries, indent) : entries.join(', ');
    return type + ' (' + size + ') {' + joinedEntries + '}';
}

function singleLineValues(xs) {
    for (var i = 0; i < xs.length; i++) {
        if (indexOf(xs[i], '\n') >= 0) {
            return false;
        }
    }
    return true;
}

function getIndent(opts, depth) {
    var baseIndent;
    if (opts.indent === '\t') {
        baseIndent = '\t';
    } else if (typeof opts.indent === 'number' && opts.indent > 0) {
        baseIndent = Array(opts.indent + 1).join(' ');
    } else {
        return null;
    }
    return {
        base: baseIndent,
        prev: Array(depth + 1).join(baseIndent)
    };
}

function indentedJoin(xs, indent) {
    if (xs.length === 0) { return ''; }
    var lineJoiner = '\n' + indent.prev + indent.base;
    return lineJoiner + xs.join(',' + lineJoiner) + '\n' + indent.prev;
}

function arrObjKeys(obj, inspect) {
    var isArr = isArray(obj);
    var xs = [];
    if (isArr) {
        xs.length = obj.length;
        for (var i = 0; i < obj.length; i++) {
            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';
        }
    }
    for (var key in obj) { // eslint-disable-line no-restricted-syntax
        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if ((/[^\w$]/).test(key)) {
            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));
        } else {
            xs.push(key + ': ' + inspect(obj[key], obj));
        }
    }
    if (typeof gOPS === 'function') {
        var syms = gOPS(obj);
        for (var j = 0; j < syms.length; j++) {
            if (isEnumerable.call(obj, syms[j])) {
                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));
            }
        }
    }
    return xs;
}


/***/ }),

/***/ "./node_modules/string-squish/index.js":
/*!*********************************************!*\
  !*** ./node_modules/string-squish/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var CONSECUTIVE_SPACES = /\s+/g;

module.exports = function squish (string) {
  if (typeof string !== 'string') throw 'Invalid \'string\'. Expected String, got ' + typeof string;
  return string.trim().replace(CONSECUTIVE_SPACES, ' ');
}


/***/ }),

/***/ "./node_modules/tabbable/index.js":
/*!****************************************!*\
  !*** ./node_modules/tabbable/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var candidateSelectors = [
  'input',
  'select',
  'textarea',
  'a[href]',
  'button',
  '[tabindex]',
  'audio[controls]',
  'video[controls]',
  '[contenteditable]:not([contenteditable="false"])',
];
var candidateSelector = candidateSelectors.join(',');

var matches = typeof Element === 'undefined'
  ? function () {}
  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;

function tabbable(el, options) {
  options = options || {};

  var regularTabbables = [];
  var orderedTabbables = [];

  var candidates = el.querySelectorAll(candidateSelector);

  if (options.includeContainer) {
    if (matches.call(el, candidateSelector)) {
      candidates = Array.prototype.slice.apply(candidates);
      candidates.unshift(el);
    }
  }

  var i, candidate, candidateTabindex;
  for (i = 0; i < candidates.length; i++) {
    candidate = candidates[i];

    if (!isNodeMatchingSelectorTabbable(candidate)) continue;

    candidateTabindex = getTabindex(candidate);
    if (candidateTabindex === 0) {
      regularTabbables.push(candidate);
    } else {
      orderedTabbables.push({
        documentOrder: i,
        tabIndex: candidateTabindex,
        node: candidate,
      });
    }
  }

  var tabbableNodes = orderedTabbables
    .sort(sortOrderedTabbables)
    .map(function(a) { return a.node })
    .concat(regularTabbables);

  return tabbableNodes;
}

tabbable.isTabbable = isTabbable;
tabbable.isFocusable = isFocusable;

function isNodeMatchingSelectorTabbable(node) {
  if (
    !isNodeMatchingSelectorFocusable(node)
    || isNonTabbableRadio(node)
    || getTabindex(node) < 0
  ) {
    return false;
  }
  return true;
}

function isTabbable(node) {
  if (!node) throw new Error('No node provided');
  if (matches.call(node, candidateSelector) === false) return false;
  return isNodeMatchingSelectorTabbable(node);
}

function isNodeMatchingSelectorFocusable(node) {
  if (
    node.disabled
    || isHiddenInput(node)
    || isHidden(node)
  ) {
    return false;
  }
  return true;
}

var focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');
function isFocusable(node) {
  if (!node) throw new Error('No node provided');
  if (matches.call(node, focusableCandidateSelector) === false) return false;
  return isNodeMatchingSelectorFocusable(node);
}

function getTabindex(node) {
  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);
  if (!isNaN(tabindexAttr)) return tabindexAttr;
  // Browsers do not return `tabIndex` correctly for contentEditable nodes;
  // so if they don't have a tabindex attribute specifically set, assume it's 0.
  if (isContentEditable(node)) return 0;
  return node.tabIndex;
}

function sortOrderedTabbables(a, b) {
  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;
}

function isContentEditable(node) {
  return node.contentEditable === 'true';
}

function isInput(node) {
  return node.tagName === 'INPUT';
}

function isHiddenInput(node) {
  return isInput(node) && node.type === 'hidden';
}

function isRadio(node) {
  return isInput(node) && node.type === 'radio';
}

function isNonTabbableRadio(node) {
  return isRadio(node) && !isTabbableRadio(node);
}

function getCheckedRadio(nodes) {
  for (var i = 0; i < nodes.length; i++) {
    if (nodes[i].checked) {
      return nodes[i];
    }
  }
}

function isTabbableRadio(node) {
  if (!node.name) return true;
  // This won't account for the edge case where you have radio groups with the same
  // in separate forms on the same page.
  var radioSet = node.ownerDocument.querySelectorAll('input[type="radio"][name="' + node.name + '"]');
  var checked = getCheckedRadio(radioSet);
  return !checked || checked === node;
}

function isHidden(node) {
  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,
  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.
  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';
}

module.exports = tabbable;


/***/ }),

/***/ "./node_modules/to-function/index.js":
/*!*******************************************!*\
  !*** ./node_modules/to-function/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module Dependencies
 */

var expr;
try {
  expr = __webpack_require__(/*! props */ "./node_modules/component-props/index.js");
} catch(e) {
  expr = __webpack_require__(/*! component-props */ "./node_modules/component-props/index.js");
}

/**
 * Expose `toFunction()`.
 */

module.exports = toFunction;

/**
 * Convert `obj` to a `Function`.
 *
 * @param {Mixed} obj
 * @return {Function}
 * @api private
 */

function toFunction(obj) {
  switch ({}.toString.call(obj)) {
    case '[object Object]':
      return objectToFunction(obj);
    case '[object Function]':
      return obj;
    case '[object String]':
      return stringToFunction(obj);
    case '[object RegExp]':
      return regexpToFunction(obj);
    default:
      return defaultToFunction(obj);
  }
}

/**
 * Default to strict equality.
 *
 * @param {Mixed} val
 * @return {Function}
 * @api private
 */

function defaultToFunction(val) {
  return function(obj){
    return val === obj;
  };
}

/**
 * Convert `re` to a function.
 *
 * @param {RegExp} re
 * @return {Function}
 * @api private
 */

function regexpToFunction(re) {
  return function(obj){
    return re.test(obj);
  };
}

/**
 * Convert property `str` to a function.
 *
 * @param {String} str
 * @return {Function}
 * @api private
 */

function stringToFunction(str) {
  // immediate such as "> 20"
  if (/^ *\W+/.test(str)) return new Function('_', 'return _ ' + str);

  // properties such as "name.first" or "age > 18" or "age > 18 && age < 36"
  return new Function('_', 'return ' + get(str));
}

/**
 * Convert `object` to a function.
 *
 * @param {Object} object
 * @return {Function}
 * @api private
 */

function objectToFunction(obj) {
  var match = {};
  for (var key in obj) {
    match[key] = typeof obj[key] === 'string'
      ? defaultToFunction(obj[key])
      : toFunction(obj[key]);
  }
  return function(val){
    if (typeof val !== 'object') return false;
    for (var key in match) {
      if (!(key in val)) return false;
      if (!match[key](val[key])) return false;
    }
    return true;
  };
}

/**
 * Built the getter function. Supports getter style functions
 *
 * @param {String} str
 * @return {String}
 * @api private
 */

function get(str) {
  var props = expr(str);
  if (!props.length) return '_.' + str;

  var val, i, prop;
  for (i = 0; i < props.length; i++) {
    prop = props[i];
    val = '_.' + prop;
    val = "('function' == typeof " + val + " ? " + val + "() : " + val + ")";

    // mimic negative lookbehind to avoid problems with nested properties
    str = stripNested(prop, str, val);
  }

  return str;
}

/**
 * Mimic negative lookbehind to avoid problems with nested properties.
 *
 * See: http://blog.stevenlevithan.com/archives/mimic-lookbehind-javascript
 *
 * @param {String} prop
 * @param {String} str
 * @param {String} val
 * @return {String}
 * @api private
 */

function stripNested (prop, str, val) {
  return str.replace(new RegExp('(\\.)?' + prop, 'g'), function($0, $1) {
    return $1 ? $0 : val;
  });
}


/***/ }),

/***/ "./node_modules/to-no-case/index.js":
/*!******************************************!*\
  !*** ./node_modules/to-no-case/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * Export.
 */

module.exports = toNoCase

/**
 * Test whether a string is camel-case.
 */

var hasSpace = /\s/
var hasSeparator = /(_|-|\.|:)/
var hasCamel = /([a-z][A-Z]|[A-Z][a-z])/

/**
 * Remove any starting case from a `string`, like camel or snake, but keep
 * spaces and punctuation that may be important otherwise.
 *
 * @param {String} string
 * @return {String}
 */

function toNoCase(string) {
  if (hasSpace.test(string)) return string.toLowerCase()
  if (hasSeparator.test(string)) return (unseparate(string) || string).toLowerCase()
  if (hasCamel.test(string)) return uncamelize(string).toLowerCase()
  return string.toLowerCase()
}

/**
 * Separator splitter.
 */

var separatorSplitter = /[\W_]+(.|$)/g

/**
 * Un-separate a `string`.
 *
 * @param {String} string
 * @return {String}
 */

function unseparate(string) {
  return string.replace(separatorSplitter, function (m, next) {
    return next ? ' ' + next : ''
  })
}

/**
 * Camelcase splitter.
 */

var camelSplitter = /(.)([A-Z]+)/g

/**
 * Un-camelcase a `string`.
 *
 * @param {String} string
 * @return {String}
 */

function uncamelize(string) {
  return string.replace(camelSplitter, function (m, previous, uppers) {
    return previous + ' ' + uppers.toLowerCase().split('').join(' ')
  })
}


/***/ }),

/***/ "./node_modules/to-slug-case/index.js":
/*!********************************************!*\
  !*** ./node_modules/to-slug-case/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var toSpace = __webpack_require__(/*! to-space-case */ "./node_modules/to-space-case/index.js")

/**
 * Export.
 */

module.exports = toSlugCase

/**
 * Convert a `string` to slug case.
 *
 * @param {String} string
 * @return {String}
 */

function toSlugCase(string) {
  return toSpace(string).replace(/\s/g, '-')
}


/***/ }),

/***/ "./node_modules/to-space-case/index.js":
/*!*********************************************!*\
  !*** ./node_modules/to-space-case/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var clean = __webpack_require__(/*! to-no-case */ "./node_modules/to-no-case/index.js")

/**
 * Export.
 */

module.exports = toSpaceCase

/**
 * Convert a `string` to space case.
 *
 * @param {String} string
 * @return {String}
 */

function toSpaceCase(string) {
  return clean(string).replace(/[\W_]+(.|$)/g, function (matches, match) {
    return match ? ' ' + match : ''
  }).trim()
}


/***/ }),

/***/ "./node_modules/webfontloader/webfontloader.js":
/*!*****************************************************!*\
  !*** ./node_modules/webfontloader/webfontloader.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&("style"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}
function w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}
function ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,"link",{rel:"stylesheet",href:b,media:"all"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error("Stylesheet failed to load");d()}):setTimeout(function(){e=!0;d()},0);u(a,"head",b)}
function A(a,b,c,d){var e=a.c.getElementsByTagName("head")[0];if(e){var f=t(a,"script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||"-"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+" "+(a.f+"00")+" 300px "+I(a.c)}function I(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1!=d.indexOf(" ")||/^\d/.test(d)?b.push("'"+d+"'"):b.push(d)}return b.join(",")}function J(a){return a.a+a.f}function H(a){var b="normal";"o"===a.a?b="oblique":"i"===a.a&&(b="italic");return b}
function ga(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F("-");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c("wf","loading")]);K(a,"loading")}function L(a){if(a.g){var b=y(a.f,a.a.c("wf","active")),c=[],d=[a.a.c("wf","loading")];b||c.push(a.a.c("wf","inactive"));w(a.f,c,d)}K(a,"inactive")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function N(a){u(a.c,"body",a.a)}function O(a){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+I(a.c)+";"+("font-style:"+H(a)+";font-weight:"+(a.f+"00")+";")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||"BESbswy";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+",serif",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+",sans-serif",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G("serif",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G("sans-serif",J(this.a));a=
O(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:"serif",C:"sans-serif"},S=null;function T(){if(null===S){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.m.a.offsetWidth;this.A=q();U(this)};
function la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f["sans-serif"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c("wf",a.c,J(a).toString(),"active")],[b.a.c("wf",a.c,J(a).toString(),"loading"),b.a.c("wf",a.c,J(a).toString(),"inactive")]);K(b,"fontactive",a);this.m=!0;na(this)};
W.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c("wf",a.c,J(a).toString(),"active")),d=[],e=[b.a.c("wf",a.c,J(a).toString(),"loading")];c||d.push(b.a.c("wf",a.c,J(a).toString(),"inactive"));w(b.f,d,e)}K(b,"fontinactive",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c("wf","active")],[a.a.c("wf","loading"),a.a.c("wf","inactive")]),K(a,"active")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};
function qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c("wf",x.c,J(x).toString(),"loading")]);K(r,"fontloading",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);
X=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}
ra.prototype.load=function(a){function b(){if(f["__mti_fntLst"+d]){var c=f["__mti_fntLst"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||"https://fast.fonts.net/jsapi")+"/"+d+".js"+(e?"?v="+e:""),function(e){e?a([]):(f["__MonotypeConfiguration__"+
d]=function(){return c.a},b())}).id="__MonotypeAPIScript__"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(":"),d[1])for(var h=d[1].split(","),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||""}var ua="https://fonts.googleapis.com/css";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(":");3==e.length&&a.f.push(e.pop());var f="";2==e.length&&""!=e[1]&&(f=":");a.a.push(e.join(f))}}
function wa(a){if(0==a.a.length)throw Error("No fonts to load!");if(-1!=a.c.indexOf("kit="))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,"+"));b=a.c+"?family="+c.join("%7C");0<a.f.length&&(b+="&subset="+a.f.join(","));0<a.g.length&&(b+="&text="+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}
var za={latin:"BESbswy","latin-ext":"\u00e7\u00f6\u00fc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},Aa={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ba={i:"i",italic:"i",n:"n",normal:"n"},
Ca=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
function Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(":"),e=d[0].replace(/\+/g," "),f=["n4"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(","),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k="";else{k=n[2];k=null==k||""==k?"n":Ba[k];n=n[1];if(null==n||""==n)n="4";else var r=Aa[n],n=r?r:isNaN(n)?"4":n.substr(0,1);k=[k,n].join("")}}else k="";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(","):
g,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||"https://use.typekit.net")+"/"+b+".js",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga("font-weight:"+h.weight+";font-style:"+h.style)))}a(d.a)},A(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+ea(this.c)+"/"+b+".js",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)}; true?!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return Z}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined;}());


/***/ }),

/***/ "./node_modules/webpack/buildin/amd-define.js":
/*!***************************************!*\
  !*** (webpack)/buildin/amd-define.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function() {
	throw new Error("define cannot be used indirect");
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ 0:
/*!********************************!*\
  !*** ./util.inspect (ignored) ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

/******/ })["default"];
//# sourceMappingURL=hosted-field.js.map